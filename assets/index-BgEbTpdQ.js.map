{"version":3,"file":"index-BgEbTpdQ.js","sources":["../../node_modules/date-fns/constants.js","../../node_modules/date-fns/constructFrom.js","../../node_modules/date-fns/toDate.js","../../node_modules/date-fns/addDays.js","../../node_modules/date-fns/addMonths.js","../../node_modules/date-fns/_lib/defaultOptions.js","../../node_modules/date-fns/startOfWeek.js","../../node_modules/date-fns/startOfISOWeek.js","../../node_modules/date-fns/getISOWeekYear.js","../../node_modules/date-fns/_lib/getTimezoneOffsetInMilliseconds.js","../../node_modules/date-fns/_lib/normalizeDates.js","../../node_modules/date-fns/startOfDay.js","../../node_modules/date-fns/differenceInCalendarDays.js","../../node_modules/date-fns/startOfISOWeekYear.js","../../node_modules/date-fns/isSameDay.js","../../node_modules/date-fns/isDate.js","../../node_modules/date-fns/isValid.js","../../node_modules/date-fns/endOfMonth.js","../../node_modules/date-fns/startOfMonth.js","../../node_modules/date-fns/startOfYear.js","../../node_modules/date-fns/endOfWeek.js","../../node_modules/date-fns/locale/en-US/_lib/formatDistance.js","../../node_modules/date-fns/locale/_lib/buildFormatLongFn.js","../../node_modules/date-fns/locale/en-US/_lib/formatLong.js","../../node_modules/date-fns/locale/en-US/_lib/formatRelative.js","../../node_modules/date-fns/locale/_lib/buildLocalizeFn.js","../../node_modules/date-fns/locale/en-US/_lib/localize.js","../../node_modules/date-fns/locale/_lib/buildMatchFn.js","../../node_modules/date-fns/locale/_lib/buildMatchPatternFn.js","../../node_modules/date-fns/locale/en-US/_lib/match.js","../../node_modules/date-fns/locale/en-US.js","../../node_modules/date-fns/getDayOfYear.js","../../node_modules/date-fns/getISOWeek.js","../../node_modules/date-fns/getWeekYear.js","../../node_modules/date-fns/startOfWeekYear.js","../../node_modules/date-fns/getWeek.js","../../node_modules/date-fns/_lib/addLeadingZeros.js","../../node_modules/date-fns/_lib/format/lightFormatters.js","../../node_modules/date-fns/_lib/format/formatters.js","../../node_modules/date-fns/_lib/format/longFormatters.js","../../node_modules/date-fns/_lib/protectedTokens.js","../../node_modules/date-fns/format.js","../../node_modules/date-fns/isAfter.js","../../node_modules/date-fns/isBefore.js","../../node_modules/date-fns/isEqual.js","../../node_modules/date-fns/isSameWeek.js","../../node_modules/date-fns/parseISO.js","../../node_modules/date-fns/locale/ru/_lib/formatDistance.js","../../node_modules/date-fns/locale/ru/_lib/formatLong.js","../../node_modules/date-fns/locale/ru/_lib/formatRelative.js","../../node_modules/date-fns/locale/ru/_lib/localize.js","../../node_modules/date-fns/locale/ru/_lib/match.js","../../node_modules/date-fns/locale/ru.js","../../node_modules/idb/build/index.js","../../src/utils/db.ts","../../src/utils/state.ts","../../src/pages/history-page.ts","../../src/services/budget-calculator.ts","../../src/utils/dates.ts","../../node_modules/zod/v4/core/core.js","../../node_modules/zod/v4/core/util.js","../../node_modules/zod/v4/core/errors.js","../../node_modules/zod/v4/core/parse.js","../../node_modules/zod/v4/core/regexes.js","../../node_modules/zod/v4/core/checks.js","../../node_modules/zod/v4/core/doc.js","../../node_modules/zod/v4/core/versions.js","../../node_modules/zod/v4/core/schemas.js","../../node_modules/zod/v4/core/registries.js","../../node_modules/zod/v4/core/api.js","../../node_modules/zod/v4/classic/iso.js","../../node_modules/zod/v4/classic/errors.js","../../node_modules/zod/v4/classic/parse.js","../../node_modules/zod/v4/classic/schemas.js","../../node_modules/zod/v4/classic/coerce.js","../../src/models/schemas.ts","../../src/utils/validation.ts","../../src/pages/main-page.ts","../../src/components/input.ts","../../src/components/period-select.ts","../../src/pages/start-page.ts","../../src/App.ts","../../src/main.ts"],"sourcesContent":["/**\n * @module constants\n * @summary Useful constants\n * @description\n * Collection of useful date constants.\n *\n * The constants could be imported from `date-fns/constants`:\n *\n * ```ts\n * import { maxTime, minTime } from \"./constants/date-fns/constants\";\n *\n * function isAllowedTime(time) {\n *   return time <= maxTime && time >= minTime;\n * }\n * ```\n */\n\n/**\n * @constant\n * @name daysInWeek\n * @summary Days in 1 week.\n */\nexport const daysInWeek = 7;\n\n/**\n * @constant\n * @name daysInYear\n * @summary Days in 1 year.\n *\n * @description\n * How many days in a year.\n *\n * One years equals 365.2425 days according to the formula:\n *\n * > Leap year occurs every 4 years, except for years that are divisible by 100 and not divisible by 400.\n * > 1 mean year = (365+1/4-1/100+1/400) days = 365.2425 days\n */\nexport const daysInYear = 365.2425;\n\n/**\n * @constant\n * @name maxTime\n * @summary Maximum allowed time.\n *\n * @example\n * import { maxTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = 8640000000000001 <= maxTime;\n * //=> false\n *\n * new Date(8640000000000001);\n * //=> Invalid Date\n */\nexport const maxTime = Math.pow(10, 8) * 24 * 60 * 60 * 1000;\n\n/**\n * @constant\n * @name minTime\n * @summary Minimum allowed time.\n *\n * @example\n * import { minTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = -8640000000000001 >= minTime;\n * //=> false\n *\n * new Date(-8640000000000001)\n * //=> Invalid Date\n */\nexport const minTime = -maxTime;\n\n/**\n * @constant\n * @name millisecondsInWeek\n * @summary Milliseconds in 1 week.\n */\nexport const millisecondsInWeek = 604800000;\n\n/**\n * @constant\n * @name millisecondsInDay\n * @summary Milliseconds in 1 day.\n */\nexport const millisecondsInDay = 86400000;\n\n/**\n * @constant\n * @name millisecondsInMinute\n * @summary Milliseconds in 1 minute\n */\nexport const millisecondsInMinute = 60000;\n\n/**\n * @constant\n * @name millisecondsInHour\n * @summary Milliseconds in 1 hour\n */\nexport const millisecondsInHour = 3600000;\n\n/**\n * @constant\n * @name millisecondsInSecond\n * @summary Milliseconds in 1 second\n */\nexport const millisecondsInSecond = 1000;\n\n/**\n * @constant\n * @name minutesInYear\n * @summary Minutes in 1 year.\n */\nexport const minutesInYear = 525600;\n\n/**\n * @constant\n * @name minutesInMonth\n * @summary Minutes in 1 month.\n */\nexport const minutesInMonth = 43200;\n\n/**\n * @constant\n * @name minutesInDay\n * @summary Minutes in 1 day.\n */\nexport const minutesInDay = 1440;\n\n/**\n * @constant\n * @name minutesInHour\n * @summary Minutes in 1 hour.\n */\nexport const minutesInHour = 60;\n\n/**\n * @constant\n * @name monthsInQuarter\n * @summary Months in 1 quarter.\n */\nexport const monthsInQuarter = 3;\n\n/**\n * @constant\n * @name monthsInYear\n * @summary Months in 1 year.\n */\nexport const monthsInYear = 12;\n\n/**\n * @constant\n * @name quartersInYear\n * @summary Quarters in 1 year\n */\nexport const quartersInYear = 4;\n\n/**\n * @constant\n * @name secondsInHour\n * @summary Seconds in 1 hour.\n */\nexport const secondsInHour = 3600;\n\n/**\n * @constant\n * @name secondsInMinute\n * @summary Seconds in 1 minute.\n */\nexport const secondsInMinute = 60;\n\n/**\n * @constant\n * @name secondsInDay\n * @summary Seconds in 1 day.\n */\nexport const secondsInDay = secondsInHour * 24;\n\n/**\n * @constant\n * @name secondsInWeek\n * @summary Seconds in 1 week.\n */\nexport const secondsInWeek = secondsInDay * 7;\n\n/**\n * @constant\n * @name secondsInYear\n * @summary Seconds in 1 year.\n */\nexport const secondsInYear = secondsInDay * daysInYear;\n\n/**\n * @constant\n * @name secondsInMonth\n * @summary Seconds in 1 month\n */\nexport const secondsInMonth = secondsInYear / 12;\n\n/**\n * @constant\n * @name secondsInQuarter\n * @summary Seconds in 1 quarter.\n */\nexport const secondsInQuarter = secondsInMonth * 3;\n\n/**\n * @constant\n * @name constructFromSymbol\n * @summary Symbol enabling Date extensions to inherit properties from the reference date.\n *\n * The symbol is used to enable the `constructFrom` function to construct a date\n * using a reference date and a value. It allows to transfer extra properties\n * from the reference date to the new date. It's useful for extensions like\n * [`TZDate`](https://github.com/date-fns/tz) that accept a time zone as\n * a constructor argument.\n */\nexport const constructFromSymbol = Symbol.for(\"constructDateFrom\");\n","import { constructFromSymbol } from \"./constants.js\";\n\n/**\n * @name constructFrom\n * @category Generic Helpers\n * @summary Constructs a date using the reference date and the value\n *\n * @description\n * The function constructs a new date using the constructor from the reference\n * date and the given value. It helps to build generic functions that accept\n * date extensions.\n *\n * It defaults to `Date` if the passed reference date is a number or a string.\n *\n * Starting from v3.7.0, it allows to construct a date using `[Symbol.for(\"constructDateFrom\")]`\n * enabling to transfer extra properties from the reference date to the new date.\n * It's useful for extensions like [`TZDate`](https://github.com/date-fns/tz)\n * that accept a time zone as a constructor argument.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The reference date to take constructor from\n * @param value - The value to create the date\n *\n * @returns Date initialized using the given date and value\n *\n * @example\n * import { constructFrom } from \"./constructFrom/date-fns\";\n *\n * // A function that clones a date preserving the original type\n * function cloneDate<DateType extends Date>(date: DateType): DateType {\n *   return constructFrom(\n *     date, // Use constructor from the given date\n *     date.getTime() // Use the date value to create a new date\n *   );\n * }\n */\nexport function constructFrom(date, value) {\n  if (typeof date === \"function\") return date(value);\n\n  if (date && typeof date === \"object\" && constructFromSymbol in date)\n    return date[constructFromSymbol](value);\n\n  if (date instanceof Date) return new date.constructor(value);\n\n  return new Date(value);\n}\n\n// Fallback for modularized imports:\nexport default constructFrom;\n","import { constructFrom } from \"./constructFrom.js\";\n\n/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * Starting from v3.7.0, it clones a date using `[Symbol.for(\"constructDateFrom\")]`\n * enabling to transfer extra properties from the reference date to the new date.\n * It's useful for extensions like [`TZDate`](https://github.com/date-fns/tz)\n * that accept a time zone as a constructor argument.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param argument - The value to convert\n *\n * @returns The parsed date in the local time zone\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\nexport function toDate(argument, context) {\n  // [TODO] Get rid of `toDate` or `constructFrom`?\n  return constructFrom(context || argument, argument);\n}\n\n// Fallback for modularized imports:\nexport default toDate;\n","import { constructFrom } from \"./constructFrom.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link addDays} function options.\n */\n\n/**\n * @name addDays\n * @category Day Helpers\n * @summary Add the specified number of days to the given date.\n *\n * @description\n * Add the specified number of days to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param amount - The amount of days to be added.\n * @param options - An object with options\n *\n * @returns The new date with the days added\n *\n * @example\n * // Add 10 days to 1 September 2014:\n * const result = addDays(new Date(2014, 8, 1), 10)\n * //=> Thu Sep 11 2014 00:00:00\n */\nexport function addDays(date, amount, options) {\n  const _date = toDate(date, options?.in);\n  if (isNaN(amount)) return constructFrom(options?.in || date, NaN);\n\n  // If 0 days, no-op to avoid changing times in the hour before end of DST\n  if (!amount) return _date;\n\n  _date.setDate(_date.getDate() + amount);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default addDays;\n","import { constructFrom } from \"./constructFrom.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link addMonths} function options.\n */\n\n/**\n * @name addMonths\n * @category Month Helpers\n * @summary Add the specified number of months to the given date.\n *\n * @description\n * Add the specified number of months to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param amount - The amount of months to be added.\n * @param options - The options object\n *\n * @returns The new date with the months added\n *\n * @example\n * // Add 5 months to 1 September 2014:\n * const result = addMonths(new Date(2014, 8, 1), 5)\n * //=> Sun Feb 01 2015 00:00:00\n *\n * // Add one month to 30 January 2023:\n * const result = addMonths(new Date(2023, 0, 30), 1)\n * //=> Tue Feb 28 2023 00:00:00\n */\nexport function addMonths(date, amount, options) {\n  const _date = toDate(date, options?.in);\n  if (isNaN(amount)) return constructFrom(options?.in || date, NaN);\n  if (!amount) {\n    // If 0 months, no-op to avoid changing times in the hour before end of DST\n    return _date;\n  }\n  const dayOfMonth = _date.getDate();\n\n  // The JS Date object supports date math by accepting out-of-bounds values for\n  // month, day, etc. For example, new Date(2020, 0, 0) returns 31 Dec 2019 and\n  // new Date(2020, 13, 1) returns 1 Feb 2021.  This is *almost* the behavior we\n  // want except that dates will wrap around the end of a month, meaning that\n  // new Date(2020, 13, 31) will return 3 Mar 2021 not 28 Feb 2021 as desired. So\n  // we'll default to the end of the desired month by adding 1 to the desired\n  // month and using a date of 0 to back up one day to the end of the desired\n  // month.\n  const endOfDesiredMonth = constructFrom(options?.in || date, _date.getTime());\n  endOfDesiredMonth.setMonth(_date.getMonth() + amount + 1, 0);\n  const daysInMonth = endOfDesiredMonth.getDate();\n  if (dayOfMonth >= daysInMonth) {\n    // If we're already at the end of the month, then this is the correct date\n    // and we're done.\n    return endOfDesiredMonth;\n  } else {\n    // Otherwise, we now know that setting the original day-of-month value won't\n    // cause an overflow, so set the desired day-of-month. Note that we can't\n    // just set the date of `endOfDesiredMonth` because that object may have had\n    // its time changed in the unusual case where where a DST transition was on\n    // the last day of the month and its local time was in the hour skipped or\n    // repeated next to a DST transition.  So we use `date` instead which is\n    // guaranteed to still have the original time.\n    _date.setFullYear(\n      endOfDesiredMonth.getFullYear(),\n      endOfDesiredMonth.getMonth(),\n      dayOfMonth,\n    );\n    return _date;\n  }\n}\n\n// Fallback for modularized imports:\nexport default addMonths;\n","let defaultOptions = {};\n\nexport function getDefaultOptions() {\n  return defaultOptions;\n}\n\nexport function setDefaultOptions(newOptions) {\n  defaultOptions = newOptions;\n}\n","import { getDefaultOptions } from \"./_lib/defaultOptions.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link startOfWeek} function options.\n */\n\n/**\n * @name startOfWeek\n * @category Week Helpers\n * @summary Return the start of a week for the given date.\n *\n * @description\n * Return the start of a week for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of a week\n *\n * @example\n * // The start of a week for 2 September 2014 11:55:00:\n * const result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Sun Aug 31 2014 00:00:00\n *\n * @example\n * // If the week starts on Monday, the start of the week for 2 September 2014 11:55:00:\n * const result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0), { weekStartsOn: 1 })\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function startOfWeek(date, options) {\n  const defaultOptions = getDefaultOptions();\n  const weekStartsOn =\n    options?.weekStartsOn ??\n    options?.locale?.options?.weekStartsOn ??\n    defaultOptions.weekStartsOn ??\n    defaultOptions.locale?.options?.weekStartsOn ??\n    0;\n\n  const _date = toDate(date, options?.in);\n  const day = _date.getDay();\n  const diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n\n  _date.setDate(_date.getDate() - diff);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfWeek;\n","import { startOfWeek } from \"./startOfWeek.js\";\n\n/**\n * The {@link startOfISOWeek} function options.\n */\n\n/**\n * @name startOfISOWeek\n * @category ISO Week Helpers\n * @summary Return the start of an ISO week for the given date.\n *\n * @description\n * Return the start of an ISO week for the given date.\n * The result will be in the local timezone.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of an ISO week\n *\n * @example\n * // The start of an ISO week for 2 September 2014 11:55:00:\n * const result = startOfISOWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function startOfISOWeek(date, options) {\n  return startOfWeek(date, { ...options, weekStartsOn: 1 });\n}\n\n// Fallback for modularized imports:\nexport default startOfISOWeek;\n","import { constructFrom } from \"./constructFrom.js\";\nimport { startOfISOWeek } from \"./startOfISOWeek.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link getISOWeekYear} function options.\n */\n\n/**\n * @name getISOWeekYear\n * @category ISO Week-Numbering Year Helpers\n * @summary Get the ISO week-numbering year of the given date.\n *\n * @description\n * Get the ISO week-numbering year of the given date,\n * which always starts 3 days before the year's first Thursday.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @param date - The given date\n *\n * @returns The ISO week-numbering year\n *\n * @example\n * // Which ISO-week numbering year is 2 January 2005?\n * const result = getISOWeekYear(new Date(2005, 0, 2))\n * //=> 2004\n */\nexport function getISOWeekYear(date, options) {\n  const _date = toDate(date, options?.in);\n  const year = _date.getFullYear();\n\n  const fourthOfJanuaryOfNextYear = constructFrom(_date, 0);\n  fourthOfJanuaryOfNextYear.setFullYear(year + 1, 0, 4);\n  fourthOfJanuaryOfNextYear.setHours(0, 0, 0, 0);\n  const startOfNextYear = startOfISOWeek(fourthOfJanuaryOfNextYear);\n\n  const fourthOfJanuaryOfThisYear = constructFrom(_date, 0);\n  fourthOfJanuaryOfThisYear.setFullYear(year, 0, 4);\n  fourthOfJanuaryOfThisYear.setHours(0, 0, 0, 0);\n  const startOfThisYear = startOfISOWeek(fourthOfJanuaryOfThisYear);\n\n  if (_date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (_date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}\n\n// Fallback for modularized imports:\nexport default getISOWeekYear;\n","import { toDate } from \"../toDate.js\";\n\n/**\n * Google Chrome as of 67.0.3396.87 introduced timezones with offset that includes seconds.\n * They usually appear for dates that denote time before the timezones were introduced\n * (e.g. for 'Europe/Prague' timezone the offset is GMT+00:57:44 before 1 October 1891\n * and GMT+01:00:00 after that date)\n *\n * Date#getTimezoneOffset returns the offset in minutes and would return 57 for the example above,\n * which would lead to incorrect calculations.\n *\n * This function returns the timezone offset in milliseconds that takes seconds in account.\n */\nexport function getTimezoneOffsetInMilliseconds(date) {\n  const _date = toDate(date);\n  const utcDate = new Date(\n    Date.UTC(\n      _date.getFullYear(),\n      _date.getMonth(),\n      _date.getDate(),\n      _date.getHours(),\n      _date.getMinutes(),\n      _date.getSeconds(),\n      _date.getMilliseconds(),\n    ),\n  );\n  utcDate.setUTCFullYear(_date.getFullYear());\n  return +date - +utcDate;\n}\n","import { constructFrom } from \"../constructFrom.js\";\n\nexport function normalizeDates(context, ...dates) {\n  const normalize = constructFrom.bind(\n    null,\n    context || dates.find((date) => typeof date === \"object\"),\n  );\n  return dates.map(normalize);\n}\n","import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link startOfDay} function options.\n */\n\n/**\n * @name startOfDay\n * @category Day Helpers\n * @summary Return the start of a day for the given date.\n *\n * @description\n * Return the start of a day for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - The options\n *\n * @returns The start of a day\n *\n * @example\n * // The start of a day for 2 September 2014 11:55:00:\n * const result = startOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 00:00:00\n */\nexport function startOfDay(date, options) {\n  const _date = toDate(date, options?.in);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfDay;\n","import { getTimezoneOffsetInMilliseconds } from \"./_lib/getTimezoneOffsetInMilliseconds.js\";\nimport { normalizeDates } from \"./_lib/normalizeDates.js\";\nimport { millisecondsInDay } from \"./constants.js\";\nimport { startOfDay } from \"./startOfDay.js\";\n\n/**\n * The {@link differenceInCalendarDays} function options.\n */\n\n/**\n * @name differenceInCalendarDays\n * @category Day Helpers\n * @summary Get the number of calendar days between the given dates.\n *\n * @description\n * Get the number of calendar days between the given dates. This means that the times are removed\n * from the dates and then the difference in days is calculated.\n *\n * @param laterDate - The later date\n * @param earlierDate - The earlier date\n * @param options - The options object\n *\n * @returns The number of calendar days\n *\n * @example\n * // How many calendar days are between\n * // 2 July 2011 23:00:00 and 2 July 2012 00:00:00?\n * const result = differenceInCalendarDays(\n *   new Date(2012, 6, 2, 0, 0),\n *   new Date(2011, 6, 2, 23, 0)\n * )\n * //=> 366\n * // How many calendar days are between\n * // 2 July 2011 23:59:00 and 3 July 2011 00:01:00?\n * const result = differenceInCalendarDays(\n *   new Date(2011, 6, 3, 0, 1),\n *   new Date(2011, 6, 2, 23, 59)\n * )\n * //=> 1\n */\nexport function differenceInCalendarDays(laterDate, earlierDate, options) {\n  const [laterDate_, earlierDate_] = normalizeDates(\n    options?.in,\n    laterDate,\n    earlierDate,\n  );\n\n  const laterStartOfDay = startOfDay(laterDate_);\n  const earlierStartOfDay = startOfDay(earlierDate_);\n\n  const laterTimestamp =\n    +laterStartOfDay - getTimezoneOffsetInMilliseconds(laterStartOfDay);\n  const earlierTimestamp =\n    +earlierStartOfDay - getTimezoneOffsetInMilliseconds(earlierStartOfDay);\n\n  // Round the number of days to the nearest integer because the number of\n  // milliseconds in a day is not constant (e.g. it's different in the week of\n  // the daylight saving time clock shift).\n  return Math.round((laterTimestamp - earlierTimestamp) / millisecondsInDay);\n}\n\n// Fallback for modularized imports:\nexport default differenceInCalendarDays;\n","import { constructFrom } from \"./constructFrom.js\";\nimport { getISOWeekYear } from \"./getISOWeekYear.js\";\nimport { startOfISOWeek } from \"./startOfISOWeek.js\";\n\n/**\n * The {@link startOfISOWeekYear} function options.\n */\n\n/**\n * @name startOfISOWeekYear\n * @category ISO Week-Numbering Year Helpers\n * @summary Return the start of an ISO week-numbering year for the given date.\n *\n * @description\n * Return the start of an ISO week-numbering year,\n * which always starts 3 days before the year's first Thursday.\n * The result will be in the local timezone.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of an ISO week-numbering year\n *\n * @example\n * // The start of an ISO week-numbering year for 2 July 2005:\n * const result = startOfISOWeekYear(new Date(2005, 6, 2))\n * //=> Mon Jan 03 2005 00:00:00\n */\nexport function startOfISOWeekYear(date, options) {\n  const year = getISOWeekYear(date, options);\n  const fourthOfJanuary = constructFrom(options?.in || date, 0);\n  fourthOfJanuary.setFullYear(year, 0, 4);\n  fourthOfJanuary.setHours(0, 0, 0, 0);\n  return startOfISOWeek(fourthOfJanuary);\n}\n\n// Fallback for modularized imports:\nexport default startOfISOWeekYear;\n","import { normalizeDates } from \"./_lib/normalizeDates.js\";\nimport { startOfDay } from \"./startOfDay.js\";\n\n/**\n * The {@link isSameDay} function options.\n */\n\n/**\n * @name isSameDay\n * @category Day Helpers\n * @summary Are the given dates in the same day (and year and month)?\n *\n * @description\n * Are the given dates in the same day (and year and month)?\n *\n * @param laterDate - The first date to check\n * @param earlierDate - The second date to check\n * @param options - An object with options\n *\n * @returns The dates are in the same day (and year and month)\n *\n * @example\n * // Are 4 September 06:00:00 and 4 September 18:00:00 in the same day?\n * const result = isSameDay(new Date(2014, 8, 4, 6, 0), new Date(2014, 8, 4, 18, 0))\n * //=> true\n *\n * @example\n * // Are 4 September and 4 October in the same day?\n * const result = isSameDay(new Date(2014, 8, 4), new Date(2014, 9, 4))\n * //=> false\n *\n * @example\n * // Are 4 September, 2014 and 4 September, 2015 in the same day?\n * const result = isSameDay(new Date(2014, 8, 4), new Date(2015, 8, 4))\n * //=> false\n */\nexport function isSameDay(laterDate, earlierDate, options) {\n  const [dateLeft_, dateRight_] = normalizeDates(\n    options?.in,\n    laterDate,\n    earlierDate,\n  );\n  return +startOfDay(dateLeft_) === +startOfDay(dateRight_);\n}\n\n// Fallback for modularized imports:\nexport default isSameDay;\n","/**\n * @name isDate\n * @category Common Helpers\n * @summary Is the given value a date?\n *\n * @description\n * Returns true if the given value is an instance of Date. The function works for dates transferred across iframes.\n *\n * @param value - The value to check\n *\n * @returns True if the given value is a date\n *\n * @example\n * // For a valid date:\n * const result = isDate(new Date())\n * //=> true\n *\n * @example\n * // For an invalid date:\n * const result = isDate(new Date(NaN))\n * //=> true\n *\n * @example\n * // For some value:\n * const result = isDate('2014-02-31')\n * //=> false\n *\n * @example\n * // For an object:\n * const result = isDate({})\n * //=> false\n */\nexport function isDate(value) {\n  return (\n    value instanceof Date ||\n    (typeof value === \"object\" &&\n      Object.prototype.toString.call(value) === \"[object Date]\")\n  );\n}\n\n// Fallback for modularized imports:\nexport default isDate;\n","import { isDate } from \"./isDate.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * @name isValid\n * @category Common Helpers\n * @summary Is the given date valid?\n *\n * @description\n * Returns false if argument is Invalid Date and true otherwise.\n * Argument is converted to Date using `toDate`. See [toDate](https://date-fns.org/docs/toDate)\n * Invalid Date is a Date, whose time value is NaN.\n *\n * Time value of Date: http://es5.github.io/#x15.9.1.1\n *\n * @param date - The date to check\n *\n * @returns The date is valid\n *\n * @example\n * // For the valid date:\n * const result = isValid(new Date(2014, 1, 31))\n * //=> true\n *\n * @example\n * // For the value, convertible into a date:\n * const result = isValid(1393804800000)\n * //=> true\n *\n * @example\n * // For the invalid date:\n * const result = isValid(new Date(''))\n * //=> false\n */\nexport function isValid(date) {\n  return !((!isDate(date) && typeof date !== \"number\") || isNaN(+toDate(date)));\n}\n\n// Fallback for modularized imports:\nexport default isValid;\n","import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link endOfMonth} function options.\n */\n\n/**\n * @name endOfMonth\n * @category Month Helpers\n * @summary Return the end of a month for the given date.\n *\n * @description\n * Return the end of a month for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The end of a month\n *\n * @example\n * // The end of a month for 2 September 2014 11:55:00:\n * const result = endOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 30 2014 23:59:59.999\n */\nexport function endOfMonth(date, options) {\n  const _date = toDate(date, options?.in);\n  const month = _date.getMonth();\n  _date.setFullYear(_date.getFullYear(), month + 1, 0);\n  _date.setHours(23, 59, 59, 999);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default endOfMonth;\n","import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link startOfMonth} function options.\n */\n\n/**\n * @name startOfMonth\n * @category Month Helpers\n * @summary Return the start of a month for the given date.\n *\n * @description\n * Return the start of a month for the given date. The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments.\n * Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed,\n * or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of a month\n *\n * @example\n * // The start of a month for 2 September 2014 11:55:00:\n * const result = startOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function startOfMonth(date, options) {\n  const _date = toDate(date, options?.in);\n  _date.setDate(1);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfMonth;\n","import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link startOfYear} function options.\n */\n\n/**\n * @name startOfYear\n * @category Year Helpers\n * @summary Return the start of a year for the given date.\n *\n * @description\n * Return the start of a year for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - The options\n *\n * @returns The start of a year\n *\n * @example\n * // The start of a year for 2 September 2014 11:55:00:\n * const result = startOfYear(new Date(2014, 8, 2, 11, 55, 00))\n * //=> Wed Jan 01 2014 00:00:00\n */\nexport function startOfYear(date, options) {\n  const date_ = toDate(date, options?.in);\n  date_.setFullYear(date_.getFullYear(), 0, 1);\n  date_.setHours(0, 0, 0, 0);\n  return date_;\n}\n\n// Fallback for modularized imports:\nexport default startOfYear;\n","import { getDefaultOptions } from \"./_lib/defaultOptions.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link endOfWeek} function options.\n */\n\n/**\n * @name endOfWeek\n * @category Week Helpers\n * @summary Return the end of a week for the given date.\n *\n * @description\n * Return the end of a week for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The end of a week\n *\n * @example\n * // The end of a week for 2 September 2014 11:55:00:\n * const result = endOfWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Sat Sep 06 2014 23:59:59.999\n *\n * @example\n * // If the week starts on Monday, the end of the week for 2 September 2014 11:55:00:\n * const result = endOfWeek(new Date(2014, 8, 2, 11, 55, 0), { weekStartsOn: 1 })\n * //=> Sun Sep 07 2014 23:59:59.999\n */\nexport function endOfWeek(date, options) {\n  const defaultOptions = getDefaultOptions();\n  const weekStartsOn =\n    options?.weekStartsOn ??\n    options?.locale?.options?.weekStartsOn ??\n    defaultOptions.weekStartsOn ??\n    defaultOptions.locale?.options?.weekStartsOn ??\n    0;\n\n  const _date = toDate(date, options?.in);\n  const day = _date.getDay();\n  const diff = (day < weekStartsOn ? -7 : 0) + 6 - (day - weekStartsOn);\n\n  _date.setDate(_date.getDate() + diff);\n  _date.setHours(23, 59, 59, 999);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default endOfWeek;\n","const formatDistanceLocale = {\n  lessThanXSeconds: {\n    one: \"less than a second\",\n    other: \"less than {{count}} seconds\",\n  },\n\n  xSeconds: {\n    one: \"1 second\",\n    other: \"{{count}} seconds\",\n  },\n\n  halfAMinute: \"half a minute\",\n\n  lessThanXMinutes: {\n    one: \"less than a minute\",\n    other: \"less than {{count}} minutes\",\n  },\n\n  xMinutes: {\n    one: \"1 minute\",\n    other: \"{{count}} minutes\",\n  },\n\n  aboutXHours: {\n    one: \"about 1 hour\",\n    other: \"about {{count}} hours\",\n  },\n\n  xHours: {\n    one: \"1 hour\",\n    other: \"{{count}} hours\",\n  },\n\n  xDays: {\n    one: \"1 day\",\n    other: \"{{count}} days\",\n  },\n\n  aboutXWeeks: {\n    one: \"about 1 week\",\n    other: \"about {{count}} weeks\",\n  },\n\n  xWeeks: {\n    one: \"1 week\",\n    other: \"{{count}} weeks\",\n  },\n\n  aboutXMonths: {\n    one: \"about 1 month\",\n    other: \"about {{count}} months\",\n  },\n\n  xMonths: {\n    one: \"1 month\",\n    other: \"{{count}} months\",\n  },\n\n  aboutXYears: {\n    one: \"about 1 year\",\n    other: \"about {{count}} years\",\n  },\n\n  xYears: {\n    one: \"1 year\",\n    other: \"{{count}} years\",\n  },\n\n  overXYears: {\n    one: \"over 1 year\",\n    other: \"over {{count}} years\",\n  },\n\n  almostXYears: {\n    one: \"almost 1 year\",\n    other: \"almost {{count}} years\",\n  },\n};\n\nexport const formatDistance = (token, count, options) => {\n  let result;\n\n  const tokenValue = formatDistanceLocale[token];\n  if (typeof tokenValue === \"string\") {\n    result = tokenValue;\n  } else if (count === 1) {\n    result = tokenValue.one;\n  } else {\n    result = tokenValue.other.replace(\"{{count}}\", count.toString());\n  }\n\n  if (options?.addSuffix) {\n    if (options.comparison && options.comparison > 0) {\n      return \"in \" + result;\n    } else {\n      return result + \" ago\";\n    }\n  }\n\n  return result;\n};\n","export function buildFormatLongFn(args) {\n  return (options = {}) => {\n    // TODO: Remove String()\n    const width = options.width ? String(options.width) : args.defaultWidth;\n    const format = args.formats[width] || args.formats[args.defaultWidth];\n    return format;\n  };\n}\n","import { buildFormatLongFn } from \"../../_lib/buildFormatLongFn.js\";\n\nconst dateFormats = {\n  full: \"EEEE, MMMM do, y\",\n  long: \"MMMM do, y\",\n  medium: \"MMM d, y\",\n  short: \"MM/dd/yyyy\",\n};\n\nconst timeFormats = {\n  full: \"h:mm:ss a zzzz\",\n  long: \"h:mm:ss a z\",\n  medium: \"h:mm:ss a\",\n  short: \"h:mm a\",\n};\n\nconst dateTimeFormats = {\n  full: \"{{date}} 'at' {{time}}\",\n  long: \"{{date}} 'at' {{time}}\",\n  medium: \"{{date}}, {{time}}\",\n  short: \"{{date}}, {{time}}\",\n};\n\nexport const formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: \"full\",\n  }),\n\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: \"full\",\n  }),\n\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: \"full\",\n  }),\n};\n","const formatRelativeLocale = {\n  lastWeek: \"'last' eeee 'at' p\",\n  yesterday: \"'yesterday at' p\",\n  today: \"'today at' p\",\n  tomorrow: \"'tomorrow at' p\",\n  nextWeek: \"eeee 'at' p\",\n  other: \"P\",\n};\n\nexport const formatRelative = (token, _date, _baseDate, _options) =>\n  formatRelativeLocale[token];\n","/**\n * The localize function argument callback which allows to convert raw value to\n * the actual type.\n *\n * @param value - The value to convert\n *\n * @returns The converted value\n */\n\n/**\n * The map of localized values for each width.\n */\n\n/**\n * The index type of the locale unit value. It types conversion of units of\n * values that don't start at 0 (i.e. quarters).\n */\n\n/**\n * Converts the unit value to the tuple of values.\n */\n\n/**\n * The tuple of localized era values. The first element represents BC,\n * the second element represents AD.\n */\n\n/**\n * The tuple of localized quarter values. The first element represents Q1.\n */\n\n/**\n * The tuple of localized day values. The first element represents Sunday.\n */\n\n/**\n * The tuple of localized month values. The first element represents January.\n */\n\nexport function buildLocalizeFn(args) {\n  return (value, options) => {\n    const context = options?.context ? String(options.context) : \"standalone\";\n\n    let valuesArray;\n    if (context === \"formatting\" && args.formattingValues) {\n      const defaultWidth = args.defaultFormattingWidth || args.defaultWidth;\n      const width = options?.width ? String(options.width) : defaultWidth;\n\n      valuesArray =\n        args.formattingValues[width] || args.formattingValues[defaultWidth];\n    } else {\n      const defaultWidth = args.defaultWidth;\n      const width = options?.width ? String(options.width) : args.defaultWidth;\n\n      valuesArray = args.values[width] || args.values[defaultWidth];\n    }\n    const index = args.argumentCallback ? args.argumentCallback(value) : value;\n\n    // @ts-expect-error - For some reason TypeScript just don't want to match it, no matter how hard we try. I challenge you to try to remove it!\n    return valuesArray[index];\n  };\n}\n","import { buildLocalizeFn } from \"../../_lib/buildLocalizeFn.js\";\n\nconst eraValues = {\n  narrow: [\"B\", \"A\"],\n  abbreviated: [\"BC\", \"AD\"],\n  wide: [\"Before Christ\", \"Anno Domini\"],\n};\n\nconst quarterValues = {\n  narrow: [\"1\", \"2\", \"3\", \"4\"],\n  abbreviated: [\"Q1\", \"Q2\", \"Q3\", \"Q4\"],\n  wide: [\"1st quarter\", \"2nd quarter\", \"3rd quarter\", \"4th quarter\"],\n};\n\n// Note: in English, the names of days of the week and months are capitalized.\n// If you are making a new locale based on this one, check if the same is true for the language you're working on.\n// Generally, formatted dates should look like they are in the middle of a sentence,\n// e.g. in Spanish language the weekdays and months should be in the lowercase.\nconst monthValues = {\n  narrow: [\"J\", \"F\", \"M\", \"A\", \"M\", \"J\", \"J\", \"A\", \"S\", \"O\", \"N\", \"D\"],\n  abbreviated: [\n    \"Jan\",\n    \"Feb\",\n    \"Mar\",\n    \"Apr\",\n    \"May\",\n    \"Jun\",\n    \"Jul\",\n    \"Aug\",\n    \"Sep\",\n    \"Oct\",\n    \"Nov\",\n    \"Dec\",\n  ],\n\n  wide: [\n    \"January\",\n    \"February\",\n    \"March\",\n    \"April\",\n    \"May\",\n    \"June\",\n    \"July\",\n    \"August\",\n    \"September\",\n    \"October\",\n    \"November\",\n    \"December\",\n  ],\n};\n\nconst dayValues = {\n  narrow: [\"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\"],\n  short: [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"],\n  abbreviated: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  wide: [\n    \"Sunday\",\n    \"Monday\",\n    \"Tuesday\",\n    \"Wednesday\",\n    \"Thursday\",\n    \"Friday\",\n    \"Saturday\",\n  ],\n};\n\nconst dayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mi\",\n    noon: \"n\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n};\n\nconst formattingDayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mi\",\n    noon: \"n\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n};\n\nconst ordinalNumber = (dirtyNumber, _options) => {\n  const number = Number(dirtyNumber);\n\n  // If ordinal numbers depend on context, for example,\n  // if they are different for different grammatical genders,\n  // use `options.unit`.\n  //\n  // `unit` can be 'year', 'quarter', 'month', 'week', 'date', 'dayOfYear',\n  // 'day', 'hour', 'minute', 'second'.\n\n  const rem100 = number % 100;\n  if (rem100 > 20 || rem100 < 10) {\n    switch (rem100 % 10) {\n      case 1:\n        return number + \"st\";\n      case 2:\n        return number + \"nd\";\n      case 3:\n        return number + \"rd\";\n    }\n  }\n  return number + \"th\";\n};\n\nexport const localize = {\n  ordinalNumber,\n\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: \"wide\",\n  }),\n\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: \"wide\",\n    argumentCallback: (quarter) => quarter - 1,\n  }),\n\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: \"wide\",\n  }),\n\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: \"wide\",\n  }),\n\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: \"wide\",\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: \"wide\",\n  }),\n};\n","export function buildMatchFn(args) {\n  return (string, options = {}) => {\n    const width = options.width;\n\n    const matchPattern =\n      (width && args.matchPatterns[width]) ||\n      args.matchPatterns[args.defaultMatchWidth];\n    const matchResult = string.match(matchPattern);\n\n    if (!matchResult) {\n      return null;\n    }\n    const matchedString = matchResult[0];\n\n    const parsePatterns =\n      (width && args.parsePatterns[width]) ||\n      args.parsePatterns[args.defaultParseWidth];\n\n    const key = Array.isArray(parsePatterns)\n      ? findIndex(parsePatterns, (pattern) => pattern.test(matchedString))\n      : // [TODO] -- I challenge you to fix the type\n        findKey(parsePatterns, (pattern) => pattern.test(matchedString));\n\n    let value;\n\n    value = args.valueCallback ? args.valueCallback(key) : key;\n    value = options.valueCallback\n      ? // [TODO] -- I challenge you to fix the type\n        options.valueCallback(value)\n      : value;\n\n    const rest = string.slice(matchedString.length);\n\n    return { value, rest };\n  };\n}\n\nfunction findKey(object, predicate) {\n  for (const key in object) {\n    if (\n      Object.prototype.hasOwnProperty.call(object, key) &&\n      predicate(object[key])\n    ) {\n      return key;\n    }\n  }\n  return undefined;\n}\n\nfunction findIndex(array, predicate) {\n  for (let key = 0; key < array.length; key++) {\n    if (predicate(array[key])) {\n      return key;\n    }\n  }\n  return undefined;\n}\n","export function buildMatchPatternFn(args) {\n  return (string, options = {}) => {\n    const matchResult = string.match(args.matchPattern);\n    if (!matchResult) return null;\n    const matchedString = matchResult[0];\n\n    const parseResult = string.match(args.parsePattern);\n    if (!parseResult) return null;\n    let value = args.valueCallback\n      ? args.valueCallback(parseResult[0])\n      : parseResult[0];\n\n    // [TODO] I challenge you to fix the type\n    value = options.valueCallback ? options.valueCallback(value) : value;\n\n    const rest = string.slice(matchedString.length);\n\n    return { value, rest };\n  };\n}\n","import { buildMatchFn } from \"../../_lib/buildMatchFn.js\";\nimport { buildMatchPatternFn } from \"../../_lib/buildMatchPatternFn.js\";\n\nconst matchOrdinalNumberPattern = /^(\\d+)(th|st|nd|rd)?/i;\nconst parseOrdinalNumberPattern = /\\d+/i;\n\nconst matchEraPatterns = {\n  narrow: /^(b|a)/i,\n  abbreviated: /^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,\n  wide: /^(before christ|before common era|anno domini|common era)/i,\n};\nconst parseEraPatterns = {\n  any: [/^b/i, /^(a|c)/i],\n};\n\nconst matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^q[1234]/i,\n  wide: /^[1234](th|st|nd|rd)? quarter/i,\n};\nconst parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i],\n};\n\nconst matchMonthPatterns = {\n  narrow: /^[jfmasond]/i,\n  abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,\n  wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i,\n};\nconst parseMonthPatterns = {\n  narrow: [\n    /^j/i,\n    /^f/i,\n    /^m/i,\n    /^a/i,\n    /^m/i,\n    /^j/i,\n    /^j/i,\n    /^a/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i,\n  ],\n\n  any: [\n    /^ja/i,\n    /^f/i,\n    /^mar/i,\n    /^ap/i,\n    /^may/i,\n    /^jun/i,\n    /^jul/i,\n    /^au/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i,\n  ],\n};\n\nconst matchDayPatterns = {\n  narrow: /^[smtwf]/i,\n  short: /^(su|mo|tu|we|th|fr|sa)/i,\n  abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,\n  wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i,\n};\nconst parseDayPatterns = {\n  narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],\n  any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i],\n};\n\nconst matchDayPeriodPatterns = {\n  narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,\n  any: /^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i,\n};\nconst parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^mi/i,\n    noon: /^no/i,\n    morning: /morning/i,\n    afternoon: /afternoon/i,\n    evening: /evening/i,\n    night: /night/i,\n  },\n};\n\nexport const match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: (value) => parseInt(value, 10),\n  }),\n\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: \"any\",\n    valueCallback: (index) => index + 1,\n  }),\n\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: \"any\",\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: \"any\",\n  }),\n};\n","import { formatDistance } from \"./en-US/_lib/formatDistance.js\";\nimport { formatLong } from \"./en-US/_lib/formatLong.js\";\nimport { formatRelative } from \"./en-US/_lib/formatRelative.js\";\nimport { localize } from \"./en-US/_lib/localize.js\";\nimport { match } from \"./en-US/_lib/match.js\";\n\n/**\n * @category Locales\n * @summary English locale (United States).\n * @language English\n * @iso-639-2 eng\n * @author Sasha Koss [@kossnocorp](https://github.com/kossnocorp)\n * @author Lesha Koss [@leshakoss](https://github.com/leshakoss)\n */\nexport const enUS = {\n  code: \"en-US\",\n  formatDistance: formatDistance,\n  formatLong: formatLong,\n  formatRelative: formatRelative,\n  localize: localize,\n  match: match,\n  options: {\n    weekStartsOn: 0 /* Sunday */,\n    firstWeekContainsDate: 1,\n  },\n};\n\n// Fallback for modularized imports:\nexport default enUS;\n","import { differenceInCalendarDays } from \"./differenceInCalendarDays.js\";\nimport { startOfYear } from \"./startOfYear.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link getDayOfYear} function options.\n */\n\n/**\n * @name getDayOfYear\n * @category Day Helpers\n * @summary Get the day of the year of the given date.\n *\n * @description\n * Get the day of the year of the given date.\n *\n * @param date - The given date\n * @param options - The options\n *\n * @returns The day of year\n *\n * @example\n * // Which day of the year is 2 July 2014?\n * const result = getDayOfYear(new Date(2014, 6, 2))\n * //=> 183\n */\nexport function getDayOfYear(date, options) {\n  const _date = toDate(date, options?.in);\n  const diff = differenceInCalendarDays(_date, startOfYear(_date));\n  const dayOfYear = diff + 1;\n  return dayOfYear;\n}\n\n// Fallback for modularized imports:\nexport default getDayOfYear;\n","import { millisecondsInWeek } from \"./constants.js\";\nimport { startOfISOWeek } from \"./startOfISOWeek.js\";\nimport { startOfISOWeekYear } from \"./startOfISOWeekYear.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link getISOWeek} function options.\n */\n\n/**\n * @name getISOWeek\n * @category ISO Week Helpers\n * @summary Get the ISO week of the given date.\n *\n * @description\n * Get the ISO week of the given date.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @param date - The given date\n * @param options - The options\n *\n * @returns The ISO week\n *\n * @example\n * // Which week of the ISO-week numbering year is 2 January 2005?\n * const result = getISOWeek(new Date(2005, 0, 2))\n * //=> 53\n */\nexport function getISOWeek(date, options) {\n  const _date = toDate(date, options?.in);\n  const diff = +startOfISOWeek(_date) - +startOfISOWeekYear(_date);\n\n  // Round the number of weeks to the nearest integer because the number of\n  // milliseconds in a week is not constant (e.g. it's different in the week of\n  // the daylight saving time clock shift).\n  return Math.round(diff / millisecondsInWeek) + 1;\n}\n\n// Fallback for modularized imports:\nexport default getISOWeek;\n","import { getDefaultOptions } from \"./_lib/defaultOptions.js\";\nimport { constructFrom } from \"./constructFrom.js\";\nimport { startOfWeek } from \"./startOfWeek.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link getWeekYear} function options.\n */\n\n/**\n * @name getWeekYear\n * @category Week-Numbering Year Helpers\n * @summary Get the local week-numbering year of the given date.\n *\n * @description\n * Get the local week-numbering year of the given date.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#The_ISO_week_date_system\n *\n * @param date - The given date\n * @param options - An object with options.\n *\n * @returns The local week-numbering year\n *\n * @example\n * // Which week numbering year is 26 December 2004 with the default settings?\n * const result = getWeekYear(new Date(2004, 11, 26))\n * //=> 2005\n *\n * @example\n * // Which week numbering year is 26 December 2004 if week starts on Saturday?\n * const result = getWeekYear(new Date(2004, 11, 26), { weekStartsOn: 6 })\n * //=> 2004\n *\n * @example\n * // Which week numbering year is 26 December 2004 if the first week contains 4 January?\n * const result = getWeekYear(new Date(2004, 11, 26), { firstWeekContainsDate: 4 })\n * //=> 2004\n */\nexport function getWeekYear(date, options) {\n  const _date = toDate(date, options?.in);\n  const year = _date.getFullYear();\n\n  const defaultOptions = getDefaultOptions();\n  const firstWeekContainsDate =\n    options?.firstWeekContainsDate ??\n    options?.locale?.options?.firstWeekContainsDate ??\n    defaultOptions.firstWeekContainsDate ??\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\n    1;\n\n  const firstWeekOfNextYear = constructFrom(options?.in || date, 0);\n  firstWeekOfNextYear.setFullYear(year + 1, 0, firstWeekContainsDate);\n  firstWeekOfNextYear.setHours(0, 0, 0, 0);\n  const startOfNextYear = startOfWeek(firstWeekOfNextYear, options);\n\n  const firstWeekOfThisYear = constructFrom(options?.in || date, 0);\n  firstWeekOfThisYear.setFullYear(year, 0, firstWeekContainsDate);\n  firstWeekOfThisYear.setHours(0, 0, 0, 0);\n  const startOfThisYear = startOfWeek(firstWeekOfThisYear, options);\n\n  if (+_date >= +startOfNextYear) {\n    return year + 1;\n  } else if (+_date >= +startOfThisYear) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}\n\n// Fallback for modularized imports:\nexport default getWeekYear;\n","import { getDefaultOptions } from \"./_lib/defaultOptions.js\";\nimport { constructFrom } from \"./constructFrom.js\";\nimport { getWeekYear } from \"./getWeekYear.js\";\nimport { startOfWeek } from \"./startOfWeek.js\";\n\n/**\n * The {@link startOfWeekYear} function options.\n */\n\n/**\n * @name startOfWeekYear\n * @category Week-Numbering Year Helpers\n * @summary Return the start of a local week-numbering year for the given date.\n *\n * @description\n * Return the start of a local week-numbering year.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#The_ISO_week_date_system\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of a week-numbering year\n *\n * @example\n * // The start of an a week-numbering year for 2 July 2005 with default settings:\n * const result = startOfWeekYear(new Date(2005, 6, 2))\n * //=> Sun Dec 26 2004 00:00:00\n *\n * @example\n * // The start of a week-numbering year for 2 July 2005\n * // if Monday is the first day of week\n * // and 4 January is always in the first week of the year:\n * const result = startOfWeekYear(new Date(2005, 6, 2), {\n *   weekStartsOn: 1,\n *   firstWeekContainsDate: 4\n * })\n * //=> Mon Jan 03 2005 00:00:00\n */\nexport function startOfWeekYear(date, options) {\n  const defaultOptions = getDefaultOptions();\n  const firstWeekContainsDate =\n    options?.firstWeekContainsDate ??\n    options?.locale?.options?.firstWeekContainsDate ??\n    defaultOptions.firstWeekContainsDate ??\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\n    1;\n\n  const year = getWeekYear(date, options);\n  const firstWeek = constructFrom(options?.in || date, 0);\n  firstWeek.setFullYear(year, 0, firstWeekContainsDate);\n  firstWeek.setHours(0, 0, 0, 0);\n  const _date = startOfWeek(firstWeek, options);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfWeekYear;\n","import { millisecondsInWeek } from \"./constants.js\";\nimport { startOfWeek } from \"./startOfWeek.js\";\nimport { startOfWeekYear } from \"./startOfWeekYear.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link getWeek} function options.\n */\n\n/**\n * @name getWeek\n * @category Week Helpers\n * @summary Get the local week index of the given date.\n *\n * @description\n * Get the local week index of the given date.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#The_ISO_week_date_system\n *\n * @param date - The given date\n * @param options - An object with options\n *\n * @returns The week\n *\n * @example\n * // Which week of the local week numbering year is 2 January 2005 with default options?\n * const result = getWeek(new Date(2005, 0, 2))\n * //=> 2\n *\n * @example\n * // Which week of the local week numbering year is 2 January 2005,\n * // if Monday is the first day of the week,\n * // and the first week of the year always contains 4 January?\n * const result = getWeek(new Date(2005, 0, 2), {\n *   weekStartsOn: 1,\n *   firstWeekContainsDate: 4\n * })\n * //=> 53\n */\nexport function getWeek(date, options) {\n  const _date = toDate(date, options?.in);\n  const diff = +startOfWeek(_date, options) - +startOfWeekYear(_date, options);\n\n  // Round the number of weeks to the nearest integer because the number of\n  // milliseconds in a week is not constant (e.g. it's different in the week of\n  // the daylight saving time clock shift).\n  return Math.round(diff / millisecondsInWeek) + 1;\n}\n\n// Fallback for modularized imports:\nexport default getWeek;\n","export function addLeadingZeros(number, targetLength) {\n  const sign = number < 0 ? \"-\" : \"\";\n  const output = Math.abs(number).toString().padStart(targetLength, \"0\");\n  return sign + output;\n}\n","import { addLeadingZeros } from \"../addLeadingZeros.js\";\n\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* |                                |\n * |  d  | Day of month                   |  D  |                                |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  m  | Minute                         |  M  | Month                          |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  y  | Year (abs)                     |  Y  |                                |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n */\n\nexport const lightFormatters = {\n  // Year\n  y(date, token) {\n    // From http://www.unicode.org/reports/tr35/tr35-31/tr35-dates.html#Date_Format_tokens\n    // | Year     |     y | yy |   yyy |  yyyy | yyyyy |\n    // |----------|-------|----|-------|-------|-------|\n    // | AD 1     |     1 | 01 |   001 |  0001 | 00001 |\n    // | AD 12    |    12 | 12 |   012 |  0012 | 00012 |\n    // | AD 123   |   123 | 23 |   123 |  0123 | 00123 |\n    // | AD 1234  |  1234 | 34 |  1234 |  1234 | 01234 |\n    // | AD 12345 | 12345 | 45 | 12345 | 12345 | 12345 |\n\n    const signedYear = date.getFullYear();\n    // Returns 1 for 1 BC (which is year 0 in JavaScript)\n    const year = signedYear > 0 ? signedYear : 1 - signedYear;\n    return addLeadingZeros(token === \"yy\" ? year % 100 : year, token.length);\n  },\n\n  // Month\n  M(date, token) {\n    const month = date.getMonth();\n    return token === \"M\" ? String(month + 1) : addLeadingZeros(month + 1, 2);\n  },\n\n  // Day of the month\n  d(date, token) {\n    return addLeadingZeros(date.getDate(), token.length);\n  },\n\n  // AM or PM\n  a(date, token) {\n    const dayPeriodEnumValue = date.getHours() / 12 >= 1 ? \"pm\" : \"am\";\n\n    switch (token) {\n      case \"a\":\n      case \"aa\":\n        return dayPeriodEnumValue.toUpperCase();\n      case \"aaa\":\n        return dayPeriodEnumValue;\n      case \"aaaaa\":\n        return dayPeriodEnumValue[0];\n      case \"aaaa\":\n      default:\n        return dayPeriodEnumValue === \"am\" ? \"a.m.\" : \"p.m.\";\n    }\n  },\n\n  // Hour [1-12]\n  h(date, token) {\n    return addLeadingZeros(date.getHours() % 12 || 12, token.length);\n  },\n\n  // Hour [0-23]\n  H(date, token) {\n    return addLeadingZeros(date.getHours(), token.length);\n  },\n\n  // Minute\n  m(date, token) {\n    return addLeadingZeros(date.getMinutes(), token.length);\n  },\n\n  // Second\n  s(date, token) {\n    return addLeadingZeros(date.getSeconds(), token.length);\n  },\n\n  // Fraction of second\n  S(date, token) {\n    const numberOfDigits = token.length;\n    const milliseconds = date.getMilliseconds();\n    const fractionalSeconds = Math.trunc(\n      milliseconds * Math.pow(10, numberOfDigits - 3),\n    );\n    return addLeadingZeros(fractionalSeconds, token.length);\n  },\n};\n","import { getDayOfYear } from \"../../getDayOfYear.js\";\nimport { getISOWeek } from \"../../getISOWeek.js\";\nimport { getISOWeekYear } from \"../../getISOWeekYear.js\";\nimport { getWeek } from \"../../getWeek.js\";\nimport { getWeekYear } from \"../../getWeekYear.js\";\n\nimport { addLeadingZeros } from \"../addLeadingZeros.js\";\nimport { lightFormatters } from \"./lightFormatters.js\";\n\nconst dayPeriodEnum = {\n  am: \"am\",\n  pm: \"pm\",\n  midnight: \"midnight\",\n  noon: \"noon\",\n  morning: \"morning\",\n  afternoon: \"afternoon\",\n  evening: \"evening\",\n  night: \"night\",\n};\n\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* | Milliseconds in day            |\n * |  b  | AM, PM, noon, midnight         |  B  | Flexible day period            |\n * |  c  | Stand-alone local day of week  |  C* | Localized hour w/ day period   |\n * |  d  | Day of month                   |  D  | Day of year                    |\n * |  e  | Local day of week              |  E  | Day of week                    |\n * |  f  |                                |  F* | Day of week in month           |\n * |  g* | Modified Julian day            |  G  | Era                            |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  i! | ISO day of week                |  I! | ISO week of year               |\n * |  j* | Localized hour w/ day period   |  J* | Localized hour w/o day period  |\n * |  k  | Hour [1-24]                    |  K  | Hour [0-11]                    |\n * |  l* | (deprecated)                   |  L  | Stand-alone month              |\n * |  m  | Minute                         |  M  | Month                          |\n * |  n  |                                |  N  |                                |\n * |  o! | Ordinal number modifier        |  O  | Timezone (GMT)                 |\n * |  p! | Long localized time            |  P! | Long localized date            |\n * |  q  | Stand-alone quarter            |  Q  | Quarter                        |\n * |  r* | Related Gregorian year         |  R! | ISO week-numbering year        |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  t! | Seconds timestamp              |  T! | Milliseconds timestamp         |\n * |  u  | Extended year                  |  U* | Cyclic year                    |\n * |  v* | Timezone (generic non-locat.)  |  V* | Timezone (location)            |\n * |  w  | Local week of year             |  W* | Week of month                  |\n * |  x  | Timezone (ISO-8601 w/o Z)      |  X  | Timezone (ISO-8601)            |\n * |  y  | Year (abs)                     |  Y  | Local week-numbering year      |\n * |  z  | Timezone (specific non-locat.) |  Z* | Timezone (aliases)             |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n *\n * Letters marked by ! are non-standard, but implemented by date-fns:\n * - `o` modifies the previous token to turn it into an ordinal (see `format` docs)\n * - `i` is ISO day of week. For `i` and `ii` is returns numeric ISO week days,\n *   i.e. 7 for Sunday, 1 for Monday, etc.\n * - `I` is ISO week of year, as opposed to `w` which is local week of year.\n * - `R` is ISO week-numbering year, as opposed to `Y` which is local week-numbering year.\n *   `R` is supposed to be used in conjunction with `I` and `i`\n *   for universal ISO week-numbering date, whereas\n *   `Y` is supposed to be used in conjunction with `w` and `e`\n *   for week-numbering date specific to the locale.\n * - `P` is long localized date format\n * - `p` is long localized time format\n */\n\nexport const formatters = {\n  // Era\n  G: function (date, token, localize) {\n    const era = date.getFullYear() > 0 ? 1 : 0;\n    switch (token) {\n      // AD, BC\n      case \"G\":\n      case \"GG\":\n      case \"GGG\":\n        return localize.era(era, { width: \"abbreviated\" });\n      // A, B\n      case \"GGGGG\":\n        return localize.era(era, { width: \"narrow\" });\n      // Anno Domini, Before Christ\n      case \"GGGG\":\n      default:\n        return localize.era(era, { width: \"wide\" });\n    }\n  },\n\n  // Year\n  y: function (date, token, localize) {\n    // Ordinal number\n    if (token === \"yo\") {\n      const signedYear = date.getFullYear();\n      // Returns 1 for 1 BC (which is year 0 in JavaScript)\n      const year = signedYear > 0 ? signedYear : 1 - signedYear;\n      return localize.ordinalNumber(year, { unit: \"year\" });\n    }\n\n    return lightFormatters.y(date, token);\n  },\n\n  // Local week-numbering year\n  Y: function (date, token, localize, options) {\n    const signedWeekYear = getWeekYear(date, options);\n    // Returns 1 for 1 BC (which is year 0 in JavaScript)\n    const weekYear = signedWeekYear > 0 ? signedWeekYear : 1 - signedWeekYear;\n\n    // Two digit year\n    if (token === \"YY\") {\n      const twoDigitYear = weekYear % 100;\n      return addLeadingZeros(twoDigitYear, 2);\n    }\n\n    // Ordinal number\n    if (token === \"Yo\") {\n      return localize.ordinalNumber(weekYear, { unit: \"year\" });\n    }\n\n    // Padding\n    return addLeadingZeros(weekYear, token.length);\n  },\n\n  // ISO week-numbering year\n  R: function (date, token) {\n    const isoWeekYear = getISOWeekYear(date);\n\n    // Padding\n    return addLeadingZeros(isoWeekYear, token.length);\n  },\n\n  // Extended year. This is a single number designating the year of this calendar system.\n  // The main difference between `y` and `u` localizers are B.C. years:\n  // | Year | `y` | `u` |\n  // |------|-----|-----|\n  // | AC 1 |   1 |   1 |\n  // | BC 1 |   1 |   0 |\n  // | BC 2 |   2 |  -1 |\n  // Also `yy` always returns the last two digits of a year,\n  // while `uu` pads single digit years to 2 characters and returns other years unchanged.\n  u: function (date, token) {\n    const year = date.getFullYear();\n    return addLeadingZeros(year, token.length);\n  },\n\n  // Quarter\n  Q: function (date, token, localize) {\n    const quarter = Math.ceil((date.getMonth() + 1) / 3);\n    switch (token) {\n      // 1, 2, 3, 4\n      case \"Q\":\n        return String(quarter);\n      // 01, 02, 03, 04\n      case \"QQ\":\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n      case \"Qo\":\n        return localize.ordinalNumber(quarter, { unit: \"quarter\" });\n      // Q1, Q2, Q3, Q4\n      case \"QQQ\":\n        return localize.quarter(quarter, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n      case \"QQQQQ\":\n        return localize.quarter(quarter, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // 1st quarter, 2nd quarter, ...\n      case \"QQQQ\":\n      default:\n        return localize.quarter(quarter, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Stand-alone quarter\n  q: function (date, token, localize) {\n    const quarter = Math.ceil((date.getMonth() + 1) / 3);\n    switch (token) {\n      // 1, 2, 3, 4\n      case \"q\":\n        return String(quarter);\n      // 01, 02, 03, 04\n      case \"qq\":\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n      case \"qo\":\n        return localize.ordinalNumber(quarter, { unit: \"quarter\" });\n      // Q1, Q2, Q3, Q4\n      case \"qqq\":\n        return localize.quarter(quarter, {\n          width: \"abbreviated\",\n          context: \"standalone\",\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n      case \"qqqqq\":\n        return localize.quarter(quarter, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // 1st quarter, 2nd quarter, ...\n      case \"qqqq\":\n      default:\n        return localize.quarter(quarter, {\n          width: \"wide\",\n          context: \"standalone\",\n        });\n    }\n  },\n\n  // Month\n  M: function (date, token, localize) {\n    const month = date.getMonth();\n    switch (token) {\n      case \"M\":\n      case \"MM\":\n        return lightFormatters.M(date, token);\n      // 1st, 2nd, ..., 12th\n      case \"Mo\":\n        return localize.ordinalNumber(month + 1, { unit: \"month\" });\n      // Jan, Feb, ..., Dec\n      case \"MMM\":\n        return localize.month(month, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // J, F, ..., D\n      case \"MMMMM\":\n        return localize.month(month, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // January, February, ..., December\n      case \"MMMM\":\n      default:\n        return localize.month(month, { width: \"wide\", context: \"formatting\" });\n    }\n  },\n\n  // Stand-alone month\n  L: function (date, token, localize) {\n    const month = date.getMonth();\n    switch (token) {\n      // 1, 2, ..., 12\n      case \"L\":\n        return String(month + 1);\n      // 01, 02, ..., 12\n      case \"LL\":\n        return addLeadingZeros(month + 1, 2);\n      // 1st, 2nd, ..., 12th\n      case \"Lo\":\n        return localize.ordinalNumber(month + 1, { unit: \"month\" });\n      // Jan, Feb, ..., Dec\n      case \"LLL\":\n        return localize.month(month, {\n          width: \"abbreviated\",\n          context: \"standalone\",\n        });\n      // J, F, ..., D\n      case \"LLLLL\":\n        return localize.month(month, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // January, February, ..., December\n      case \"LLLL\":\n      default:\n        return localize.month(month, { width: \"wide\", context: \"standalone\" });\n    }\n  },\n\n  // Local week of year\n  w: function (date, token, localize, options) {\n    const week = getWeek(date, options);\n\n    if (token === \"wo\") {\n      return localize.ordinalNumber(week, { unit: \"week\" });\n    }\n\n    return addLeadingZeros(week, token.length);\n  },\n\n  // ISO week of year\n  I: function (date, token, localize) {\n    const isoWeek = getISOWeek(date);\n\n    if (token === \"Io\") {\n      return localize.ordinalNumber(isoWeek, { unit: \"week\" });\n    }\n\n    return addLeadingZeros(isoWeek, token.length);\n  },\n\n  // Day of the month\n  d: function (date, token, localize) {\n    if (token === \"do\") {\n      return localize.ordinalNumber(date.getDate(), { unit: \"date\" });\n    }\n\n    return lightFormatters.d(date, token);\n  },\n\n  // Day of year\n  D: function (date, token, localize) {\n    const dayOfYear = getDayOfYear(date);\n\n    if (token === \"Do\") {\n      return localize.ordinalNumber(dayOfYear, { unit: \"dayOfYear\" });\n    }\n\n    return addLeadingZeros(dayOfYear, token.length);\n  },\n\n  // Day of week\n  E: function (date, token, localize) {\n    const dayOfWeek = date.getDay();\n    switch (token) {\n      // Tue\n      case \"E\":\n      case \"EE\":\n      case \"EEE\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // T\n      case \"EEEEE\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"EEEEEE\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"formatting\",\n        });\n      // Tuesday\n      case \"EEEE\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Local day of week\n  e: function (date, token, localize, options) {\n    const dayOfWeek = date.getDay();\n    const localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n    switch (token) {\n      // Numerical value (Nth day of week with current locale or weekStartsOn)\n      case \"e\":\n        return String(localDayOfWeek);\n      // Padded numerical value\n      case \"ee\":\n        return addLeadingZeros(localDayOfWeek, 2);\n      // 1st, 2nd, ..., 7th\n      case \"eo\":\n        return localize.ordinalNumber(localDayOfWeek, { unit: \"day\" });\n      case \"eee\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // T\n      case \"eeeee\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"eeeeee\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"formatting\",\n        });\n      // Tuesday\n      case \"eeee\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Stand-alone local day of week\n  c: function (date, token, localize, options) {\n    const dayOfWeek = date.getDay();\n    const localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n    switch (token) {\n      // Numerical value (same as in `e`)\n      case \"c\":\n        return String(localDayOfWeek);\n      // Padded numerical value\n      case \"cc\":\n        return addLeadingZeros(localDayOfWeek, token.length);\n      // 1st, 2nd, ..., 7th\n      case \"co\":\n        return localize.ordinalNumber(localDayOfWeek, { unit: \"day\" });\n      case \"ccc\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"standalone\",\n        });\n      // T\n      case \"ccccc\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // Tu\n      case \"cccccc\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"standalone\",\n        });\n      // Tuesday\n      case \"cccc\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"standalone\",\n        });\n    }\n  },\n\n  // ISO day of week\n  i: function (date, token, localize) {\n    const dayOfWeek = date.getDay();\n    const isoDayOfWeek = dayOfWeek === 0 ? 7 : dayOfWeek;\n    switch (token) {\n      // 2\n      case \"i\":\n        return String(isoDayOfWeek);\n      // 02\n      case \"ii\":\n        return addLeadingZeros(isoDayOfWeek, token.length);\n      // 2nd\n      case \"io\":\n        return localize.ordinalNumber(isoDayOfWeek, { unit: \"day\" });\n      // Tue\n      case \"iii\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // T\n      case \"iiiii\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"iiiiii\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"formatting\",\n        });\n      // Tuesday\n      case \"iiii\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // AM or PM\n  a: function (date, token, localize) {\n    const hours = date.getHours();\n    const dayPeriodEnumValue = hours / 12 >= 1 ? \"pm\" : \"am\";\n\n    switch (token) {\n      case \"a\":\n      case \"aa\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      case \"aaa\":\n        return localize\n          .dayPeriod(dayPeriodEnumValue, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          })\n          .toLowerCase();\n      case \"aaaaa\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"aaaa\":\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // AM, PM, midnight, noon\n  b: function (date, token, localize) {\n    const hours = date.getHours();\n    let dayPeriodEnumValue;\n    if (hours === 12) {\n      dayPeriodEnumValue = dayPeriodEnum.noon;\n    } else if (hours === 0) {\n      dayPeriodEnumValue = dayPeriodEnum.midnight;\n    } else {\n      dayPeriodEnumValue = hours / 12 >= 1 ? \"pm\" : \"am\";\n    }\n\n    switch (token) {\n      case \"b\":\n      case \"bb\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      case \"bbb\":\n        return localize\n          .dayPeriod(dayPeriodEnumValue, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          })\n          .toLowerCase();\n      case \"bbbbb\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"bbbb\":\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // in the morning, in the afternoon, in the evening, at night\n  B: function (date, token, localize) {\n    const hours = date.getHours();\n    let dayPeriodEnumValue;\n    if (hours >= 17) {\n      dayPeriodEnumValue = dayPeriodEnum.evening;\n    } else if (hours >= 12) {\n      dayPeriodEnumValue = dayPeriodEnum.afternoon;\n    } else if (hours >= 4) {\n      dayPeriodEnumValue = dayPeriodEnum.morning;\n    } else {\n      dayPeriodEnumValue = dayPeriodEnum.night;\n    }\n\n    switch (token) {\n      case \"B\":\n      case \"BB\":\n      case \"BBB\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      case \"BBBBB\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"BBBB\":\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Hour [1-12]\n  h: function (date, token, localize) {\n    if (token === \"ho\") {\n      let hours = date.getHours() % 12;\n      if (hours === 0) hours = 12;\n      return localize.ordinalNumber(hours, { unit: \"hour\" });\n    }\n\n    return lightFormatters.h(date, token);\n  },\n\n  // Hour [0-23]\n  H: function (date, token, localize) {\n    if (token === \"Ho\") {\n      return localize.ordinalNumber(date.getHours(), { unit: \"hour\" });\n    }\n\n    return lightFormatters.H(date, token);\n  },\n\n  // Hour [0-11]\n  K: function (date, token, localize) {\n    const hours = date.getHours() % 12;\n\n    if (token === \"Ko\") {\n      return localize.ordinalNumber(hours, { unit: \"hour\" });\n    }\n\n    return addLeadingZeros(hours, token.length);\n  },\n\n  // Hour [1-24]\n  k: function (date, token, localize) {\n    let hours = date.getHours();\n    if (hours === 0) hours = 24;\n\n    if (token === \"ko\") {\n      return localize.ordinalNumber(hours, { unit: \"hour\" });\n    }\n\n    return addLeadingZeros(hours, token.length);\n  },\n\n  // Minute\n  m: function (date, token, localize) {\n    if (token === \"mo\") {\n      return localize.ordinalNumber(date.getMinutes(), { unit: \"minute\" });\n    }\n\n    return lightFormatters.m(date, token);\n  },\n\n  // Second\n  s: function (date, token, localize) {\n    if (token === \"so\") {\n      return localize.ordinalNumber(date.getSeconds(), { unit: \"second\" });\n    }\n\n    return lightFormatters.s(date, token);\n  },\n\n  // Fraction of second\n  S: function (date, token) {\n    return lightFormatters.S(date, token);\n  },\n\n  // Timezone (ISO-8601. If offset is 0, output is always `'Z'`)\n  X: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    if (timezoneOffset === 0) {\n      return \"Z\";\n    }\n\n    switch (token) {\n      // Hours and optional minutes\n      case \"X\":\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XX`\n      case \"XXXX\":\n      case \"XX\": // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XXX`\n      case \"XXXXX\":\n      case \"XXX\": // Hours and minutes with `:` delimiter\n      default:\n        return formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Timezone (ISO-8601. If offset is 0, output is `'+00:00'` or equivalent)\n  x: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    switch (token) {\n      // Hours and optional minutes\n      case \"x\":\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xx`\n      case \"xxxx\":\n      case \"xx\": // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xxx`\n      case \"xxxxx\":\n      case \"xxx\": // Hours and minutes with `:` delimiter\n      default:\n        return formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Timezone (GMT)\n  O: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case \"O\":\n      case \"OO\":\n      case \"OOO\":\n        return \"GMT\" + formatTimezoneShort(timezoneOffset, \":\");\n      // Long\n      case \"OOOO\":\n      default:\n        return \"GMT\" + formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Timezone (specific non-location)\n  z: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case \"z\":\n      case \"zz\":\n      case \"zzz\":\n        return \"GMT\" + formatTimezoneShort(timezoneOffset, \":\");\n      // Long\n      case \"zzzz\":\n      default:\n        return \"GMT\" + formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Seconds timestamp\n  t: function (date, token, _localize) {\n    const timestamp = Math.trunc(+date / 1000);\n    return addLeadingZeros(timestamp, token.length);\n  },\n\n  // Milliseconds timestamp\n  T: function (date, token, _localize) {\n    return addLeadingZeros(+date, token.length);\n  },\n};\n\nfunction formatTimezoneShort(offset, delimiter = \"\") {\n  const sign = offset > 0 ? \"-\" : \"+\";\n  const absOffset = Math.abs(offset);\n  const hours = Math.trunc(absOffset / 60);\n  const minutes = absOffset % 60;\n  if (minutes === 0) {\n    return sign + String(hours);\n  }\n  return sign + String(hours) + delimiter + addLeadingZeros(minutes, 2);\n}\n\nfunction formatTimezoneWithOptionalMinutes(offset, delimiter) {\n  if (offset % 60 === 0) {\n    const sign = offset > 0 ? \"-\" : \"+\";\n    return sign + addLeadingZeros(Math.abs(offset) / 60, 2);\n  }\n  return formatTimezone(offset, delimiter);\n}\n\nfunction formatTimezone(offset, delimiter = \"\") {\n  const sign = offset > 0 ? \"-\" : \"+\";\n  const absOffset = Math.abs(offset);\n  const hours = addLeadingZeros(Math.trunc(absOffset / 60), 2);\n  const minutes = addLeadingZeros(absOffset % 60, 2);\n  return sign + hours + delimiter + minutes;\n}\n","const dateLongFormatter = (pattern, formatLong) => {\n  switch (pattern) {\n    case \"P\":\n      return formatLong.date({ width: \"short\" });\n    case \"PP\":\n      return formatLong.date({ width: \"medium\" });\n    case \"PPP\":\n      return formatLong.date({ width: \"long\" });\n    case \"PPPP\":\n    default:\n      return formatLong.date({ width: \"full\" });\n  }\n};\n\nconst timeLongFormatter = (pattern, formatLong) => {\n  switch (pattern) {\n    case \"p\":\n      return formatLong.time({ width: \"short\" });\n    case \"pp\":\n      return formatLong.time({ width: \"medium\" });\n    case \"ppp\":\n      return formatLong.time({ width: \"long\" });\n    case \"pppp\":\n    default:\n      return formatLong.time({ width: \"full\" });\n  }\n};\n\nconst dateTimeLongFormatter = (pattern, formatLong) => {\n  const matchResult = pattern.match(/(P+)(p+)?/) || [];\n  const datePattern = matchResult[1];\n  const timePattern = matchResult[2];\n\n  if (!timePattern) {\n    return dateLongFormatter(pattern, formatLong);\n  }\n\n  let dateTimeFormat;\n\n  switch (datePattern) {\n    case \"P\":\n      dateTimeFormat = formatLong.dateTime({ width: \"short\" });\n      break;\n    case \"PP\":\n      dateTimeFormat = formatLong.dateTime({ width: \"medium\" });\n      break;\n    case \"PPP\":\n      dateTimeFormat = formatLong.dateTime({ width: \"long\" });\n      break;\n    case \"PPPP\":\n    default:\n      dateTimeFormat = formatLong.dateTime({ width: \"full\" });\n      break;\n  }\n\n  return dateTimeFormat\n    .replace(\"{{date}}\", dateLongFormatter(datePattern, formatLong))\n    .replace(\"{{time}}\", timeLongFormatter(timePattern, formatLong));\n};\n\nexport const longFormatters = {\n  p: timeLongFormatter,\n  P: dateTimeLongFormatter,\n};\n","const dayOfYearTokenRE = /^D+$/;\nconst weekYearTokenRE = /^Y+$/;\n\nconst throwTokens = [\"D\", \"DD\", \"YY\", \"YYYY\"];\n\nexport function isProtectedDayOfYearToken(token) {\n  return dayOfYearTokenRE.test(token);\n}\n\nexport function isProtectedWeekYearToken(token) {\n  return weekYearTokenRE.test(token);\n}\n\nexport function warnOrThrowProtectedError(token, format, input) {\n  const _message = message(token, format, input);\n  console.warn(_message);\n  if (throwTokens.includes(token)) throw new RangeError(_message);\n}\n\nfunction message(token, format, input) {\n  const subject = token[0] === \"Y\" ? \"years\" : \"days of the month\";\n  return `Use \\`${token.toLowerCase()}\\` instead of \\`${token}\\` (in \\`${format}\\`) for formatting ${subject} to the input \\`${input}\\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`;\n}\n","import { defaultLocale } from \"./_lib/defaultLocale.js\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.js\";\nimport { formatters } from \"./_lib/format/formatters.js\";\nimport { longFormatters } from \"./_lib/format/longFormatters.js\";\nimport {\n  isProtectedDayOfYearToken,\n  isProtectedWeekYearToken,\n  warnOrThrowProtectedError,\n} from \"./_lib/protectedTokens.js\";\nimport { isValid } from \"./isValid.js\";\nimport { toDate } from \"./toDate.js\";\n\n// Rexports of internal for libraries to use.\n// See: https://github.com/date-fns/date-fns/issues/3638#issuecomment-1877082874\nexport { formatters, longFormatters };\n\n// This RegExp consists of three parts separated by `|`:\n// - [yYQqMLwIdDecihHKkms]o matches any available ordinal number token\n//   (one of the certain letters followed by `o`)\n// - (\\w)\\1* matches any sequences of the same letter\n// - '' matches two quote characters in a row\n// - '(''|[^'])+('|$) matches anything surrounded by two quote characters ('),\n//   except a single quote symbol, which ends the sequence.\n//   Two quote characters do not end the sequence.\n//   If there is no matching single quote\n//   then the sequence will continue until the end of the string.\n// - . matches any single character unmatched by previous parts of the RegExps\nconst formattingTokensRegExp =\n  /[yYQqMLwIdDecihHKkms]o|(\\w)\\1*|''|'(''|[^'])+('|$)|./g;\n\n// This RegExp catches symbols escaped by quotes, and also\n// sequences of symbols P, p, and the combinations like `PPPPPPPppppp`\nconst longFormattingTokensRegExp = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;\n\nconst escapedStringRegExp = /^'([^]*?)'?$/;\nconst doubleQuoteRegExp = /''/g;\nconst unescapedLatinCharacterRegExp = /[a-zA-Z]/;\n\nexport { format as formatDate };\n\n/**\n * The {@link format} function options.\n */\n\n/**\n * @name format\n * @alias formatDate\n * @category Common Helpers\n * @summary Format the date.\n *\n * @description\n * Return the formatted date string in the given format. The result may vary by locale.\n *\n * >  Please note that the `format` tokens differ from Moment.js and other libraries.\n * > See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * The characters wrapped between two single quotes characters (') are escaped.\n * Two single quotes in a row, whether inside or outside a quoted sequence, represent a 'real' single quote.\n * (see the last example)\n *\n * Format of the string is based on Unicode Technical Standard #35:\n * https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * with a few additions (see note 7 below the table).\n *\n * Accepted patterns:\n * | Unit                            | Pattern | Result examples                   | Notes |\n * |---------------------------------|---------|-----------------------------------|-------|\n * | Era                             | G..GGG  | AD, BC                            |       |\n * |                                 | GGGG    | Anno Domini, Before Christ        | 2     |\n * |                                 | GGGGG   | A, B                              |       |\n * | Calendar year                   | y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | yo      | 44th, 1st, 0th, 17th              | 5,7   |\n * |                                 | yy      | 44, 01, 00, 17                    | 5     |\n * |                                 | yyy     | 044, 001, 1900, 2017              | 5     |\n * |                                 | yyyy    | 0044, 0001, 1900, 2017            | 5     |\n * |                                 | yyyyy   | ...                               | 3,5   |\n * | Local week-numbering year       | Y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | Yo      | 44th, 1st, 1900th, 2017th         | 5,7   |\n * |                                 | YY      | 44, 01, 00, 17                    | 5,8   |\n * |                                 | YYY     | 044, 001, 1900, 2017              | 5     |\n * |                                 | YYYY    | 0044, 0001, 1900, 2017            | 5,8   |\n * |                                 | YYYYY   | ...                               | 3,5   |\n * | ISO week-numbering year         | R       | -43, 0, 1, 1900, 2017             | 5,7   |\n * |                                 | RR      | -43, 00, 01, 1900, 2017           | 5,7   |\n * |                                 | RRR     | -043, 000, 001, 1900, 2017        | 5,7   |\n * |                                 | RRRR    | -0043, 0000, 0001, 1900, 2017     | 5,7   |\n * |                                 | RRRRR   | ...                               | 3,5,7 |\n * | Extended year                   | u       | -43, 0, 1, 1900, 2017             | 5     |\n * |                                 | uu      | -43, 01, 1900, 2017               | 5     |\n * |                                 | uuu     | -043, 001, 1900, 2017             | 5     |\n * |                                 | uuuu    | -0043, 0001, 1900, 2017           | 5     |\n * |                                 | uuuuu   | ...                               | 3,5   |\n * | Quarter (formatting)            | Q       | 1, 2, 3, 4                        |       |\n * |                                 | Qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | QQ      | 01, 02, 03, 04                    |       |\n * |                                 | QQQ     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | QQQQ    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | QQQQQ   | 1, 2, 3, 4                        | 4     |\n * | Quarter (stand-alone)           | q       | 1, 2, 3, 4                        |       |\n * |                                 | qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | qq      | 01, 02, 03, 04                    |       |\n * |                                 | qqq     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | qqqq    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | qqqqq   | 1, 2, 3, 4                        | 4     |\n * | Month (formatting)              | M       | 1, 2, ..., 12                     |       |\n * |                                 | Mo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | MM      | 01, 02, ..., 12                   |       |\n * |                                 | MMM     | Jan, Feb, ..., Dec                |       |\n * |                                 | MMMM    | January, February, ..., December  | 2     |\n * |                                 | MMMMM   | J, F, ..., D                      |       |\n * | Month (stand-alone)             | L       | 1, 2, ..., 12                     |       |\n * |                                 | Lo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | LL      | 01, 02, ..., 12                   |       |\n * |                                 | LLL     | Jan, Feb, ..., Dec                |       |\n * |                                 | LLLL    | January, February, ..., December  | 2     |\n * |                                 | LLLLL   | J, F, ..., D                      |       |\n * | Local week of year              | w       | 1, 2, ..., 53                     |       |\n * |                                 | wo      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | ww      | 01, 02, ..., 53                   |       |\n * | ISO week of year                | I       | 1, 2, ..., 53                     | 7     |\n * |                                 | Io      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | II      | 01, 02, ..., 53                   | 7     |\n * | Day of month                    | d       | 1, 2, ..., 31                     |       |\n * |                                 | do      | 1st, 2nd, ..., 31st               | 7     |\n * |                                 | dd      | 01, 02, ..., 31                   |       |\n * | Day of year                     | D       | 1, 2, ..., 365, 366               | 9     |\n * |                                 | Do      | 1st, 2nd, ..., 365th, 366th       | 7     |\n * |                                 | DD      | 01, 02, ..., 365, 366             | 9     |\n * |                                 | DDD     | 001, 002, ..., 365, 366           |       |\n * |                                 | DDDD    | ...                               | 3     |\n * | Day of week (formatting)        | E..EEE  | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | EEEE    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | EEEEE   | M, T, W, T, F, S, S               |       |\n * |                                 | EEEEEE  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | ISO day of week (formatting)    | i       | 1, 2, 3, ..., 7                   | 7     |\n * |                                 | io      | 1st, 2nd, ..., 7th                | 7     |\n * |                                 | ii      | 01, 02, ..., 07                   | 7     |\n * |                                 | iii     | Mon, Tue, Wed, ..., Sun           | 7     |\n * |                                 | iiii    | Monday, Tuesday, ..., Sunday      | 2,7   |\n * |                                 | iiiii   | M, T, W, T, F, S, S               | 7     |\n * |                                 | iiiiii  | Mo, Tu, We, Th, Fr, Sa, Su        | 7     |\n * | Local day of week (formatting)  | e       | 2, 3, 4, ..., 1                   |       |\n * |                                 | eo      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | ee      | 02, 03, ..., 01                   |       |\n * |                                 | eee     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | eeee    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | eeeee   | M, T, W, T, F, S, S               |       |\n * |                                 | eeeeee  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | Local day of week (stand-alone) | c       | 2, 3, 4, ..., 1                   |       |\n * |                                 | co      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | cc      | 02, 03, ..., 01                   |       |\n * |                                 | ccc     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | cccc    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | ccccc   | M, T, W, T, F, S, S               |       |\n * |                                 | cccccc  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | AM, PM                          | a..aa   | AM, PM                            |       |\n * |                                 | aaa     | am, pm                            |       |\n * |                                 | aaaa    | a.m., p.m.                        | 2     |\n * |                                 | aaaaa   | a, p                              |       |\n * | AM, PM, noon, midnight          | b..bb   | AM, PM, noon, midnight            |       |\n * |                                 | bbb     | am, pm, noon, midnight            |       |\n * |                                 | bbbb    | a.m., p.m., noon, midnight        | 2     |\n * |                                 | bbbbb   | a, p, n, mi                       |       |\n * | Flexible day period             | B..BBB  | at night, in the morning, ...     |       |\n * |                                 | BBBB    | at night, in the morning, ...     | 2     |\n * |                                 | BBBBB   | at night, in the morning, ...     |       |\n * | Hour [1-12]                     | h       | 1, 2, ..., 11, 12                 |       |\n * |                                 | ho      | 1st, 2nd, ..., 11th, 12th         | 7     |\n * |                                 | hh      | 01, 02, ..., 11, 12               |       |\n * | Hour [0-23]                     | H       | 0, 1, 2, ..., 23                  |       |\n * |                                 | Ho      | 0th, 1st, 2nd, ..., 23rd          | 7     |\n * |                                 | HH      | 00, 01, 02, ..., 23               |       |\n * | Hour [0-11]                     | K       | 1, 2, ..., 11, 0                  |       |\n * |                                 | Ko      | 1st, 2nd, ..., 11th, 0th          | 7     |\n * |                                 | KK      | 01, 02, ..., 11, 00               |       |\n * | Hour [1-24]                     | k       | 24, 1, 2, ..., 23                 |       |\n * |                                 | ko      | 24th, 1st, 2nd, ..., 23rd         | 7     |\n * |                                 | kk      | 24, 01, 02, ..., 23               |       |\n * | Minute                          | m       | 0, 1, ..., 59                     |       |\n * |                                 | mo      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | mm      | 00, 01, ..., 59                   |       |\n * | Second                          | s       | 0, 1, ..., 59                     |       |\n * |                                 | so      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | ss      | 00, 01, ..., 59                   |       |\n * | Fraction of second              | S       | 0, 1, ..., 9                      |       |\n * |                                 | SS      | 00, 01, ..., 99                   |       |\n * |                                 | SSS     | 000, 001, ..., 999                |       |\n * |                                 | SSSS    | ...                               | 3     |\n * | Timezone (ISO-8601 w/ Z)        | X       | -08, +0530, Z                     |       |\n * |                                 | XX      | -0800, +0530, Z                   |       |\n * |                                 | XXX     | -08:00, +05:30, Z                 |       |\n * |                                 | XXXX    | -0800, +0530, Z, +123456          | 2     |\n * |                                 | XXXXX   | -08:00, +05:30, Z, +12:34:56      |       |\n * | Timezone (ISO-8601 w/o Z)       | x       | -08, +0530, +00                   |       |\n * |                                 | xx      | -0800, +0530, +0000               |       |\n * |                                 | xxx     | -08:00, +05:30, +00:00            | 2     |\n * |                                 | xxxx    | -0800, +0530, +0000, +123456      |       |\n * |                                 | xxxxx   | -08:00, +05:30, +00:00, +12:34:56 |       |\n * | Timezone (GMT)                  | O...OOO | GMT-8, GMT+5:30, GMT+0            |       |\n * |                                 | OOOO    | GMT-08:00, GMT+05:30, GMT+00:00   | 2     |\n * | Timezone (specific non-locat.)  | z...zzz | GMT-8, GMT+5:30, GMT+0            | 6     |\n * |                                 | zzzz    | GMT-08:00, GMT+05:30, GMT+00:00   | 2,6   |\n * | Seconds timestamp               | t       | 512969520                         | 7     |\n * |                                 | tt      | ...                               | 3,7   |\n * | Milliseconds timestamp          | T       | 512969520900                      | 7     |\n * |                                 | TT      | ...                               | 3,7   |\n * | Long localized date             | P       | 04/29/1453                        | 7     |\n * |                                 | PP      | Apr 29, 1453                      | 7     |\n * |                                 | PPP     | April 29th, 1453                  | 7     |\n * |                                 | PPPP    | Friday, April 29th, 1453          | 2,7   |\n * | Long localized time             | p       | 12:00 AM                          | 7     |\n * |                                 | pp      | 12:00:00 AM                       | 7     |\n * |                                 | ppp     | 12:00:00 AM GMT+2                 | 7     |\n * |                                 | pppp    | 12:00:00 AM GMT+02:00             | 2,7   |\n * | Combination of date and time    | Pp      | 04/29/1453, 12:00 AM              | 7     |\n * |                                 | PPpp    | Apr 29, 1453, 12:00:00 AM         | 7     |\n * |                                 | PPPppp  | April 29th, 1453 at ...           | 7     |\n * |                                 | PPPPpppp| Friday, April 29th, 1453 at ...   | 2,7   |\n * Notes:\n * 1. \"Formatting\" units (e.g. formatting quarter) in the default en-US locale\n *    are the same as \"stand-alone\" units, but are different in some languages.\n *    \"Formatting\" units are declined according to the rules of the language\n *    in the context of a date. \"Stand-alone\" units are always nominative singular:\n *\n *    `format(new Date(2017, 10, 6), 'do LLLL', {locale: cs}) //=> '6. listopad'`\n *\n *    `format(new Date(2017, 10, 6), 'do MMMM', {locale: cs}) //=> '6. listopadu'`\n *\n * 2. Any sequence of the identical letters is a pattern, unless it is escaped by\n *    the single quote characters (see below).\n *    If the sequence is longer than listed in table (e.g. `EEEEEEEEEEE`)\n *    the output will be the same as default pattern for this unit, usually\n *    the longest one (in case of ISO weekdays, `EEEE`). Default patterns for units\n *    are marked with \"2\" in the last column of the table.\n *\n *    `format(new Date(2017, 10, 6), 'MMM') //=> 'Nov'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMM') //=> 'N'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMMM') //=> 'November'`\n *\n * 3. Some patterns could be unlimited length (such as `yyyyyyyy`).\n *    The output will be padded with zeros to match the length of the pattern.\n *\n *    `format(new Date(2017, 10, 6), 'yyyyyyyy') //=> '00002017'`\n *\n * 4. `QQQQQ` and `qqqqq` could be not strictly numerical in some locales.\n *    These tokens represent the shortest form of the quarter.\n *\n * 5. The main difference between `y` and `u` patterns are B.C. years:\n *\n *    | Year | `y` | `u` |\n *    |------|-----|-----|\n *    | AC 1 |   1 |   1 |\n *    | BC 1 |   1 |   0 |\n *    | BC 2 |   2 |  -1 |\n *\n *    Also `yy` always returns the last two digits of a year,\n *    while `uu` pads single digit years to 2 characters and returns other years unchanged:\n *\n *    | Year | `yy` | `uu` |\n *    |------|------|------|\n *    | 1    |   01 |   01 |\n *    | 14   |   14 |   14 |\n *    | 376  |   76 |  376 |\n *    | 1453 |   53 | 1453 |\n *\n *    The same difference is true for local and ISO week-numbering years (`Y` and `R`),\n *    except local week-numbering years are dependent on `options.weekStartsOn`\n *    and `options.firstWeekContainsDate` (compare [getISOWeekYear](https://date-fns.org/docs/getISOWeekYear)\n *    and [getWeekYear](https://date-fns.org/docs/getWeekYear)).\n *\n * 6. Specific non-location timezones are currently unavailable in `date-fns`,\n *    so right now these tokens fall back to GMT timezones.\n *\n * 7. These patterns are not in the Unicode Technical Standard #35:\n *    - `i`: ISO day of week\n *    - `I`: ISO week of year\n *    - `R`: ISO week-numbering year\n *    - `t`: seconds timestamp\n *    - `T`: milliseconds timestamp\n *    - `o`: ordinal number modifier\n *    - `P`: long localized date\n *    - `p`: long localized time\n *\n * 8. `YY` and `YYYY` tokens represent week-numbering years but they are often confused with years.\n *    You should enable `options.useAdditionalWeekYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * 9. `D` and `DD` tokens represent days of the year but they are often confused with days of the month.\n *    You should enable `options.useAdditionalDayOfYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * @param date - The original date\n * @param format - The string of tokens\n * @param options - An object with options\n *\n * @returns The formatted date string\n *\n * @throws `date` must not be Invalid Date\n * @throws `options.locale` must contain `localize` property\n * @throws `options.locale` must contain `formatLong` property\n * @throws use `yyyy` instead of `YYYY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `yy` instead of `YY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `d` instead of `D` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `dd` instead of `DD` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws format string contains an unescaped latin alphabet character\n *\n * @example\n * // Represent 11 February 2014 in middle-endian format:\n * const result = format(new Date(2014, 1, 11), 'MM/dd/yyyy')\n * //=> '02/11/2014'\n *\n * @example\n * // Represent 2 July 2014 in Esperanto:\n * import { eoLocale } from 'date-fns/locale/eo'\n * const result = format(new Date(2014, 6, 2), \"do 'de' MMMM yyyy\", {\n *   locale: eoLocale\n * })\n * //=> '2-a de julio 2014'\n *\n * @example\n * // Escape string by single quote characters:\n * const result = format(new Date(2014, 6, 2, 15), \"h 'o''clock'\")\n * //=> \"3 o'clock\"\n */\nexport function format(date, formatStr, options) {\n  const defaultOptions = getDefaultOptions();\n  const locale = options?.locale ?? defaultOptions.locale ?? defaultLocale;\n\n  const firstWeekContainsDate =\n    options?.firstWeekContainsDate ??\n    options?.locale?.options?.firstWeekContainsDate ??\n    defaultOptions.firstWeekContainsDate ??\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\n    1;\n\n  const weekStartsOn =\n    options?.weekStartsOn ??\n    options?.locale?.options?.weekStartsOn ??\n    defaultOptions.weekStartsOn ??\n    defaultOptions.locale?.options?.weekStartsOn ??\n    0;\n\n  const originalDate = toDate(date, options?.in);\n\n  if (!isValid(originalDate)) {\n    throw new RangeError(\"Invalid time value\");\n  }\n\n  let parts = formatStr\n    .match(longFormattingTokensRegExp)\n    .map((substring) => {\n      const firstCharacter = substring[0];\n      if (firstCharacter === \"p\" || firstCharacter === \"P\") {\n        const longFormatter = longFormatters[firstCharacter];\n        return longFormatter(substring, locale.formatLong);\n      }\n      return substring;\n    })\n    .join(\"\")\n    .match(formattingTokensRegExp)\n    .map((substring) => {\n      // Replace two single quote characters with one single quote character\n      if (substring === \"''\") {\n        return { isToken: false, value: \"'\" };\n      }\n\n      const firstCharacter = substring[0];\n      if (firstCharacter === \"'\") {\n        return { isToken: false, value: cleanEscapedString(substring) };\n      }\n\n      if (formatters[firstCharacter]) {\n        return { isToken: true, value: substring };\n      }\n\n      if (firstCharacter.match(unescapedLatinCharacterRegExp)) {\n        throw new RangeError(\n          \"Format string contains an unescaped latin alphabet character `\" +\n            firstCharacter +\n            \"`\",\n        );\n      }\n\n      return { isToken: false, value: substring };\n    });\n\n  // invoke localize preprocessor (only for french locales at the moment)\n  if (locale.localize.preprocessor) {\n    parts = locale.localize.preprocessor(originalDate, parts);\n  }\n\n  const formatterOptions = {\n    firstWeekContainsDate,\n    weekStartsOn,\n    locale,\n  };\n\n  return parts\n    .map((part) => {\n      if (!part.isToken) return part.value;\n\n      const token = part.value;\n\n      if (\n        (!options?.useAdditionalWeekYearTokens &&\n          isProtectedWeekYearToken(token)) ||\n        (!options?.useAdditionalDayOfYearTokens &&\n          isProtectedDayOfYearToken(token))\n      ) {\n        warnOrThrowProtectedError(token, formatStr, String(date));\n      }\n\n      const formatter = formatters[token[0]];\n      return formatter(originalDate, token, locale.localize, formatterOptions);\n    })\n    .join(\"\");\n}\n\nfunction cleanEscapedString(input) {\n  const matched = input.match(escapedStringRegExp);\n\n  if (!matched) {\n    return input;\n  }\n\n  return matched[1].replace(doubleQuoteRegExp, \"'\");\n}\n\n// Fallback for modularized imports:\nexport default format;\n","import { toDate } from \"./toDate.js\";\n\n/**\n * @name isAfter\n * @category Common Helpers\n * @summary Is the first date after the second one?\n *\n * @description\n * Is the first date after the second one?\n *\n * @param date - The date that should be after the other one to return true\n * @param dateToCompare - The date to compare with\n *\n * @returns The first date is after the second date\n *\n * @example\n * // Is 10 July 1989 after 11 February 1987?\n * const result = isAfter(new Date(1989, 6, 10), new Date(1987, 1, 11))\n * //=> true\n */\nexport function isAfter(date, dateToCompare) {\n  return +toDate(date) > +toDate(dateToCompare);\n}\n\n// Fallback for modularized imports:\nexport default isAfter;\n","import { toDate } from \"./toDate.js\";\n\n/**\n * @name isBefore\n * @category Common Helpers\n * @summary Is the first date before the second one?\n *\n * @description\n * Is the first date before the second one?\n *\n * @param date - The date that should be before the other one to return true\n * @param dateToCompare - The date to compare with\n *\n * @returns The first date is before the second date\n *\n * @example\n * // Is 10 July 1989 before 11 February 1987?\n * const result = isBefore(new Date(1989, 6, 10), new Date(1987, 1, 11))\n * //=> false\n */\nexport function isBefore(date, dateToCompare) {\n  return +toDate(date) < +toDate(dateToCompare);\n}\n\n// Fallback for modularized imports:\nexport default isBefore;\n","import { toDate } from \"./toDate.js\";\n\n/**\n * @name isEqual\n * @category Common Helpers\n * @summary Are the given dates equal?\n *\n * @description\n * Are the given dates equal?\n *\n * @param dateLeft - The first date to compare\n * @param dateRight - The second date to compare\n *\n * @returns The dates are equal\n *\n * @example\n * // Are 2 July 2014 06:30:45.000 and 2 July 2014 06:30:45.500 equal?\n * const result = isEqual(\n *   new Date(2014, 6, 2, 6, 30, 45, 0),\n *   new Date(2014, 6, 2, 6, 30, 45, 500)\n * )\n * //=> false\n */\nexport function isEqual(leftDate, rightDate) {\n  return +toDate(leftDate) === +toDate(rightDate);\n}\n\n// Fallback for modularized imports:\nexport default isEqual;\n","import { normalizeDates } from \"./_lib/normalizeDates.js\";\nimport { startOfWeek } from \"./startOfWeek.js\";\n\n/**\n * The {@link isSameWeek} function options.\n */\n\n/**\n * @name isSameWeek\n * @category Week Helpers\n * @summary Are the given dates in the same week (and month and year)?\n *\n * @description\n * Are the given dates in the same week (and month and year)?\n *\n * @param laterDate - The first date to check\n * @param earlierDate - The second date to check\n * @param options - An object with options\n *\n * @returns The dates are in the same week (and month and year)\n *\n * @example\n * // Are 31 August 2014 and 4 September 2014 in the same week?\n * const result = isSameWeek(new Date(2014, 7, 31), new Date(2014, 8, 4))\n * //=> true\n *\n * @example\n * // If week starts with Monday,\n * // are 31 August 2014 and 4 September 2014 in the same week?\n * const result = isSameWeek(new Date(2014, 7, 31), new Date(2014, 8, 4), {\n *   weekStartsOn: 1\n * })\n * //=> false\n *\n * @example\n * // Are 1 January 2014 and 1 January 2015 in the same week?\n * const result = isSameWeek(new Date(2014, 0, 1), new Date(2015, 0, 1))\n * //=> false\n */\nexport function isSameWeek(laterDate, earlierDate, options) {\n  const [laterDate_, earlierDate_] = normalizeDates(\n    options?.in,\n    laterDate,\n    earlierDate,\n  );\n  return (\n    +startOfWeek(laterDate_, options) === +startOfWeek(earlierDate_, options)\n  );\n}\n\n// Fallback for modularized imports:\nexport default isSameWeek;\n","import {\n  millisecondsInHour,\n  millisecondsInMinute,\n} from \"./constants.js\";\nimport { constructFrom } from \"./constructFrom.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link parseISO} function options.\n */\n\n/**\n * @name parseISO\n * @category Common Helpers\n * @summary Parse ISO string\n *\n * @description\n * Parse the given string in ISO 8601 format and return an instance of Date.\n *\n * Function accepts complete ISO 8601 formats as well as partial implementations.\n * ISO 8601: http://en.wikipedia.org/wiki/ISO_8601\n *\n * If the argument isn't a string, the function cannot parse the string or\n * the values are invalid, it returns Invalid Date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param argument - The value to convert\n * @param options - An object with options\n *\n * @returns The parsed date in the local time zone\n *\n * @example\n * // Convert string '2014-02-11T11:30:30' to date:\n * const result = parseISO('2014-02-11T11:30:30')\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert string '+02014101' to date,\n * // if the additional number of digits in the extended year format is 1:\n * const result = parseISO('+02014101', { additionalDigits: 1 })\n * //=> Fri Apr 11 2014 00:00:00\n */\nexport function parseISO(argument, options) {\n  const invalidDate = () => constructFrom(options?.in, NaN);\n\n  const additionalDigits = options?.additionalDigits ?? 2;\n  const dateStrings = splitDateString(argument);\n\n  let date;\n  if (dateStrings.date) {\n    const parseYearResult = parseYear(dateStrings.date, additionalDigits);\n    date = parseDate(parseYearResult.restDateString, parseYearResult.year);\n  }\n\n  if (!date || isNaN(+date)) return invalidDate();\n\n  const timestamp = +date;\n  let time = 0;\n  let offset;\n\n  if (dateStrings.time) {\n    time = parseTime(dateStrings.time);\n    if (isNaN(time)) return invalidDate();\n  }\n\n  if (dateStrings.timezone) {\n    offset = parseTimezone(dateStrings.timezone);\n    if (isNaN(offset)) return invalidDate();\n  } else {\n    const tmpDate = new Date(timestamp + time);\n    const result = toDate(0, options?.in);\n    result.setFullYear(\n      tmpDate.getUTCFullYear(),\n      tmpDate.getUTCMonth(),\n      tmpDate.getUTCDate(),\n    );\n    result.setHours(\n      tmpDate.getUTCHours(),\n      tmpDate.getUTCMinutes(),\n      tmpDate.getUTCSeconds(),\n      tmpDate.getUTCMilliseconds(),\n    );\n    return result;\n  }\n\n  return toDate(timestamp + time + offset, options?.in);\n}\n\nconst patterns = {\n  dateTimeDelimiter: /[T ]/,\n  timeZoneDelimiter: /[Z ]/i,\n  timezone: /([Z+-].*)$/,\n};\n\nconst dateRegex =\n  /^-?(?:(\\d{3})|(\\d{2})(?:-?(\\d{2}))?|W(\\d{2})(?:-?(\\d{1}))?|)$/;\nconst timeRegex =\n  /^(\\d{2}(?:[.,]\\d*)?)(?::?(\\d{2}(?:[.,]\\d*)?))?(?::?(\\d{2}(?:[.,]\\d*)?))?$/;\nconst timezoneRegex = /^([+-])(\\d{2})(?::?(\\d{2}))?$/;\n\nfunction splitDateString(dateString) {\n  const dateStrings = {};\n  const array = dateString.split(patterns.dateTimeDelimiter);\n  let timeString;\n\n  // The regex match should only return at maximum two array elements.\n  // [date], [time], or [date, time].\n  if (array.length > 2) {\n    return dateStrings;\n  }\n\n  if (/:/.test(array[0])) {\n    timeString = array[0];\n  } else {\n    dateStrings.date = array[0];\n    timeString = array[1];\n    if (patterns.timeZoneDelimiter.test(dateStrings.date)) {\n      dateStrings.date = dateString.split(patterns.timeZoneDelimiter)[0];\n      timeString = dateString.substr(\n        dateStrings.date.length,\n        dateString.length,\n      );\n    }\n  }\n\n  if (timeString) {\n    const token = patterns.timezone.exec(timeString);\n    if (token) {\n      dateStrings.time = timeString.replace(token[1], \"\");\n      dateStrings.timezone = token[1];\n    } else {\n      dateStrings.time = timeString;\n    }\n  }\n\n  return dateStrings;\n}\n\nfunction parseYear(dateString, additionalDigits) {\n  const regex = new RegExp(\n    \"^(?:(\\\\d{4}|[+-]\\\\d{\" +\n      (4 + additionalDigits) +\n      \"})|(\\\\d{2}|[+-]\\\\d{\" +\n      (2 + additionalDigits) +\n      \"})$)\",\n  );\n\n  const captures = dateString.match(regex);\n  // Invalid ISO-formatted year\n  if (!captures) return { year: NaN, restDateString: \"\" };\n\n  const year = captures[1] ? parseInt(captures[1]) : null;\n  const century = captures[2] ? parseInt(captures[2]) : null;\n\n  // either year or century is null, not both\n  return {\n    year: century === null ? year : century * 100,\n    restDateString: dateString.slice((captures[1] || captures[2]).length),\n  };\n}\n\nfunction parseDate(dateString, year) {\n  // Invalid ISO-formatted year\n  if (year === null) return new Date(NaN);\n\n  const captures = dateString.match(dateRegex);\n  // Invalid ISO-formatted string\n  if (!captures) return new Date(NaN);\n\n  const isWeekDate = !!captures[4];\n  const dayOfYear = parseDateUnit(captures[1]);\n  const month = parseDateUnit(captures[2]) - 1;\n  const day = parseDateUnit(captures[3]);\n  const week = parseDateUnit(captures[4]);\n  const dayOfWeek = parseDateUnit(captures[5]) - 1;\n\n  if (isWeekDate) {\n    if (!validateWeekDate(year, week, dayOfWeek)) {\n      return new Date(NaN);\n    }\n    return dayOfISOWeekYear(year, week, dayOfWeek);\n  } else {\n    const date = new Date(0);\n    if (\n      !validateDate(year, month, day) ||\n      !validateDayOfYearDate(year, dayOfYear)\n    ) {\n      return new Date(NaN);\n    }\n    date.setUTCFullYear(year, month, Math.max(dayOfYear, day));\n    return date;\n  }\n}\n\nfunction parseDateUnit(value) {\n  return value ? parseInt(value) : 1;\n}\n\nfunction parseTime(timeString) {\n  const captures = timeString.match(timeRegex);\n  if (!captures) return NaN; // Invalid ISO-formatted time\n\n  const hours = parseTimeUnit(captures[1]);\n  const minutes = parseTimeUnit(captures[2]);\n  const seconds = parseTimeUnit(captures[3]);\n\n  if (!validateTime(hours, minutes, seconds)) {\n    return NaN;\n  }\n\n  return (\n    hours * millisecondsInHour + minutes * millisecondsInMinute + seconds * 1000\n  );\n}\n\nfunction parseTimeUnit(value) {\n  return (value && parseFloat(value.replace(\",\", \".\"))) || 0;\n}\n\nfunction parseTimezone(timezoneString) {\n  if (timezoneString === \"Z\") return 0;\n\n  const captures = timezoneString.match(timezoneRegex);\n  if (!captures) return 0;\n\n  const sign = captures[1] === \"+\" ? -1 : 1;\n  const hours = parseInt(captures[2]);\n  const minutes = (captures[3] && parseInt(captures[3])) || 0;\n\n  if (!validateTimezone(hours, minutes)) {\n    return NaN;\n  }\n\n  return sign * (hours * millisecondsInHour + minutes * millisecondsInMinute);\n}\n\nfunction dayOfISOWeekYear(isoWeekYear, week, day) {\n  const date = new Date(0);\n  date.setUTCFullYear(isoWeekYear, 0, 4);\n  const fourthOfJanuaryDay = date.getUTCDay() || 7;\n  const diff = (week - 1) * 7 + day + 1 - fourthOfJanuaryDay;\n  date.setUTCDate(date.getUTCDate() + diff);\n  return date;\n}\n\n// Validation functions\n\n// February is null to handle the leap year (using ||)\nconst daysInMonths = [31, null, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n\nfunction isLeapYearIndex(year) {\n  return year % 400 === 0 || (year % 4 === 0 && year % 100 !== 0);\n}\n\nfunction validateDate(year, month, date) {\n  return (\n    month >= 0 &&\n    month <= 11 &&\n    date >= 1 &&\n    date <= (daysInMonths[month] || (isLeapYearIndex(year) ? 29 : 28))\n  );\n}\n\nfunction validateDayOfYearDate(year, dayOfYear) {\n  return dayOfYear >= 1 && dayOfYear <= (isLeapYearIndex(year) ? 366 : 365);\n}\n\nfunction validateWeekDate(_year, week, day) {\n  return week >= 1 && week <= 53 && day >= 0 && day <= 6;\n}\n\nfunction validateTime(hours, minutes, seconds) {\n  if (hours === 24) {\n    return minutes === 0 && seconds === 0;\n  }\n\n  return (\n    seconds >= 0 &&\n    seconds < 60 &&\n    minutes >= 0 &&\n    minutes < 60 &&\n    hours >= 0 &&\n    hours < 25\n  );\n}\n\nfunction validateTimezone(_hours, minutes) {\n  return minutes >= 0 && minutes <= 59;\n}\n\n// Fallback for modularized imports:\nexport default parseISO;\n","function declension(scheme, count) {\n  // scheme for count=1 exists\n  if (scheme.one !== undefined && count === 1) {\n    return scheme.one;\n  }\n\n  const rem10 = count % 10;\n  const rem100 = count % 100;\n\n  // 1, 21, 31, ...\n  if (rem10 === 1 && rem100 !== 11) {\n    return scheme.singularNominative.replace(\"{{count}}\", String(count));\n\n    // 2, 3, 4, 22, 23, 24, 32 ...\n  } else if (rem10 >= 2 && rem10 <= 4 && (rem100 < 10 || rem100 > 20)) {\n    return scheme.singularGenitive.replace(\"{{count}}\", String(count));\n\n    // 5, 6, 7, 8, 9, 10, 11, ...\n  } else {\n    return scheme.pluralGenitive.replace(\"{{count}}\", String(count));\n  }\n}\n\nfunction buildLocalizeTokenFn(scheme) {\n  return (count, options) => {\n    if (options?.addSuffix) {\n      if (options.comparison && options.comparison > 0) {\n        if (scheme.future) {\n          return declension(scheme.future, count);\n        } else {\n          return \" \" + declension(scheme.regular, count);\n        }\n      } else {\n        if (scheme.past) {\n          return declension(scheme.past, count);\n        } else {\n          return declension(scheme.regular, count) + \" \";\n        }\n      }\n    } else {\n      return declension(scheme.regular, count);\n    }\n  };\n}\n\nconst formatDistanceLocale = {\n  lessThanXSeconds: buildLocalizeTokenFn({\n    regular: {\n      one: \" \",\n      singularNominative: \" {{count}} \",\n      singularGenitive: \" {{count}} \",\n      pluralGenitive: \" {{count}} \",\n    },\n    future: {\n      one: \",   \",\n      singularNominative: \",   {{count}} \",\n      singularGenitive: \",   {{count}} \",\n      pluralGenitive: \",   {{count}} \",\n    },\n  }),\n\n  xSeconds: buildLocalizeTokenFn({\n    regular: {\n      singularNominative: \"{{count}} \",\n      singularGenitive: \"{{count}} \",\n      pluralGenitive: \"{{count}} \",\n    },\n    past: {\n      singularNominative: \"{{count}}  \",\n      singularGenitive: \"{{count}}  \",\n      pluralGenitive: \"{{count}}  \",\n    },\n    future: {\n      singularNominative: \" {{count}} \",\n      singularGenitive: \" {{count}} \",\n      pluralGenitive: \" {{count}} \",\n    },\n  }),\n\n  halfAMinute: (_count, options) => {\n    if (options?.addSuffix) {\n      if (options.comparison && options.comparison > 0) {\n        return \" \";\n      } else {\n        return \" \";\n      }\n    }\n\n    return \"\";\n  },\n\n  lessThanXMinutes: buildLocalizeTokenFn({\n    regular: {\n      one: \" \",\n      singularNominative: \" {{count}} \",\n      singularGenitive: \" {{count}} \",\n      pluralGenitive: \" {{count}} \",\n    },\n    future: {\n      one: \",   \",\n      singularNominative: \",   {{count}} \",\n      singularGenitive: \",   {{count}} \",\n      pluralGenitive: \",   {{count}} \",\n    },\n  }),\n\n  xMinutes: buildLocalizeTokenFn({\n    regular: {\n      singularNominative: \"{{count}} \",\n      singularGenitive: \"{{count}} \",\n      pluralGenitive: \"{{count}} \",\n    },\n    past: {\n      singularNominative: \"{{count}}  \",\n      singularGenitive: \"{{count}}  \",\n      pluralGenitive: \"{{count}}  \",\n    },\n    future: {\n      singularNominative: \" {{count}} \",\n      singularGenitive: \" {{count}} \",\n      pluralGenitive: \" {{count}} \",\n    },\n  }),\n\n  aboutXHours: buildLocalizeTokenFn({\n    regular: {\n      singularNominative: \" {{count}} \",\n      singularGenitive: \" {{count}} \",\n      pluralGenitive: \" {{count}} \",\n    },\n    future: {\n      singularNominative: \"  {{count}} \",\n      singularGenitive: \"  {{count}} \",\n      pluralGenitive: \"  {{count}} \",\n    },\n  }),\n\n  xHours: buildLocalizeTokenFn({\n    regular: {\n      singularNominative: \"{{count}} \",\n      singularGenitive: \"{{count}} \",\n      pluralGenitive: \"{{count}} \",\n    },\n  }),\n\n  xDays: buildLocalizeTokenFn({\n    regular: {\n      singularNominative: \"{{count}} \",\n      singularGenitive: \"{{count}} \",\n      pluralGenitive: \"{{count}} \",\n    },\n  }),\n\n  aboutXWeeks: buildLocalizeTokenFn({\n    regular: {\n      singularNominative: \" {{count}} \",\n      singularGenitive: \" {{count}} \",\n      pluralGenitive: \" {{count}} \",\n    },\n    future: {\n      singularNominative: \"  {{count}} \",\n      singularGenitive: \"  {{count}} \",\n      pluralGenitive: \"  {{count}} \",\n    },\n  }),\n\n  xWeeks: buildLocalizeTokenFn({\n    regular: {\n      singularNominative: \"{{count}} \",\n      singularGenitive: \"{{count}} \",\n      pluralGenitive: \"{{count}} \",\n    },\n  }),\n\n  aboutXMonths: buildLocalizeTokenFn({\n    regular: {\n      singularNominative: \" {{count}} \",\n      singularGenitive: \" {{count}} \",\n      pluralGenitive: \" {{count}} \",\n    },\n    future: {\n      singularNominative: \"  {{count}} \",\n      singularGenitive: \"  {{count}} \",\n      pluralGenitive: \"  {{count}} \",\n    },\n  }),\n\n  xMonths: buildLocalizeTokenFn({\n    regular: {\n      singularNominative: \"{{count}} \",\n      singularGenitive: \"{{count}} \",\n      pluralGenitive: \"{{count}} \",\n    },\n  }),\n\n  aboutXYears: buildLocalizeTokenFn({\n    regular: {\n      singularNominative: \" {{count}} \",\n      singularGenitive: \" {{count}} \",\n      pluralGenitive: \" {{count}} \",\n    },\n    future: {\n      singularNominative: \"  {{count}} \",\n      singularGenitive: \"  {{count}} \",\n      pluralGenitive: \"  {{count}} \",\n    },\n  }),\n\n  xYears: buildLocalizeTokenFn({\n    regular: {\n      singularNominative: \"{{count}} \",\n      singularGenitive: \"{{count}} \",\n      pluralGenitive: \"{{count}} \",\n    },\n  }),\n\n  overXYears: buildLocalizeTokenFn({\n    regular: {\n      singularNominative: \" {{count}} \",\n      singularGenitive: \" {{count}} \",\n      pluralGenitive: \" {{count}} \",\n    },\n    future: {\n      singularNominative: \",   {{count}} \",\n      singularGenitive: \",   {{count}} \",\n      pluralGenitive: \",   {{count}} \",\n    },\n  }),\n\n  almostXYears: buildLocalizeTokenFn({\n    regular: {\n      singularNominative: \" {{count}} \",\n      singularGenitive: \" {{count}} \",\n      pluralGenitive: \" {{count}} \",\n    },\n    future: {\n      singularNominative: \"  {{count}} \",\n      singularGenitive: \"  {{count}} \",\n      pluralGenitive: \"  {{count}} \",\n    },\n  }),\n};\n\nexport const formatDistance = (token, count, options) => {\n  return formatDistanceLocale[token](count, options);\n};\n","import { buildFormatLongFn } from \"../../_lib/buildFormatLongFn.js\";\n\nconst dateFormats = {\n  full: \"EEEE, d MMMM y '.'\",\n  long: \"d MMMM y '.'\",\n  medium: \"d MMM y '.'\",\n  short: \"dd.MM.y\",\n};\n\nconst timeFormats = {\n  full: \"H:mm:ss zzzz\",\n  long: \"H:mm:ss z\",\n  medium: \"H:mm:ss\",\n  short: \"H:mm\",\n};\n\nconst dateTimeFormats = {\n  any: \"{{date}}, {{time}}\",\n};\n\nexport const formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: \"full\",\n  }),\n\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: \"full\",\n  }),\n\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: \"any\",\n  }),\n};\n","import { isSameWeek } from \"../../../isSameWeek.js\";\n\nconst accusativeWeekdays = [\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n  \"\",\n];\n\nfunction lastWeek(day) {\n  const weekday = accusativeWeekdays[day];\n\n  switch (day) {\n    case 0:\n      return \"'  \" + weekday + \" ' p\";\n    case 1:\n    case 2:\n    case 4:\n      return \"'  \" + weekday + \" ' p\";\n    case 3:\n    case 5:\n    case 6:\n      return \"'  \" + weekday + \" ' p\";\n  }\n}\n\nfunction thisWeek(day) {\n  const weekday = accusativeWeekdays[day];\n\n  if (day === 2 /* Tue */) {\n    return \"' \" + weekday + \" ' p\";\n  } else {\n    return \"' \" + weekday + \" ' p\";\n  }\n}\n\nfunction nextWeek(day) {\n  const weekday = accusativeWeekdays[day];\n\n  switch (day) {\n    case 0:\n      return \"'  \" + weekday + \" ' p\";\n    case 1:\n    case 2:\n    case 4:\n      return \"'  \" + weekday + \" ' p\";\n    case 3:\n    case 5:\n    case 6:\n      return \"'  \" + weekday + \" ' p\";\n  }\n}\n\nconst formatRelativeLocale = {\n  lastWeek: (date, baseDate, options) => {\n    const day = date.getDay();\n    if (isSameWeek(date, baseDate, options)) {\n      return thisWeek(day);\n    } else {\n      return lastWeek(day);\n    }\n  },\n  yesterday: \"' ' p\",\n  today: \"' ' p\",\n  tomorrow: \"' ' p\",\n  nextWeek: (date, baseDate, options) => {\n    const day = date.getDay();\n    if (isSameWeek(date, baseDate, options)) {\n      return thisWeek(day);\n    } else {\n      return nextWeek(day);\n    }\n  },\n  other: \"P\",\n};\n\nexport const formatRelative = (token, date, baseDate, options) => {\n  const format = formatRelativeLocale[token];\n\n  if (typeof format === \"function\") {\n    return format(date, baseDate, options);\n  }\n\n  return format;\n};\n","import { buildLocalizeFn } from \"../../_lib/buildLocalizeFn.js\";\n\nconst eraValues = {\n  narrow: [\" ..\", \"..\"],\n  abbreviated: [\" . .\", \". .\"],\n  wide: [\"  \", \" \"],\n};\n\nconst quarterValues = {\n  narrow: [\"1\", \"2\", \"3\", \"4\"],\n  abbreviated: [\"1- .\", \"2- .\", \"3- .\", \"4- .\"],\n  wide: [\"1- \", \"2- \", \"3- \", \"4- \"],\n};\n\nconst monthValues = {\n  narrow: [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"],\n  abbreviated: [\n    \".\",\n    \".\",\n    \"\",\n    \".\",\n    \"\",\n    \"\",\n    \"\",\n    \".\",\n    \".\",\n    \".\",\n    \".\",\n    \".\",\n  ],\n\n  wide: [\n    \"\",\n    \"\",\n    \"\",\n    \"\",\n    \"\",\n    \"\",\n    \"\",\n    \"\",\n    \"\",\n    \"\",\n    \"\",\n    \"\",\n  ],\n};\n\nconst formattingMonthValues = {\n  narrow: [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\"],\n  abbreviated: [\n    \".\",\n    \".\",\n    \".\",\n    \".\",\n    \"\",\n    \".\",\n    \".\",\n    \".\",\n    \".\",\n    \".\",\n    \".\",\n    \".\",\n  ],\n\n  wide: [\n    \"\",\n    \"\",\n    \"\",\n    \"\",\n    \"\",\n    \"\",\n    \"\",\n    \"\",\n    \"\",\n    \"\",\n    \"\",\n    \"\",\n  ],\n};\n\nconst dayValues = {\n  narrow: [\"\", \"\", \"\", \"\", \"\", \"\", \"\"],\n  short: [\"\", \"\", \"\", \"\", \"\", \"\", \"\"],\n  abbreviated: [\"\", \"\", \"\", \"\", \"\", \"\", \"\"],\n  wide: [\n    \"\",\n    \"\",\n    \"\",\n    \"\",\n    \"\",\n    \"\",\n    \"\",\n  ],\n};\n\nconst dayPeriodValues = {\n  narrow: {\n    am: \"\",\n    pm: \"\",\n    midnight: \".\",\n    noon: \".\",\n    morning: \"\",\n    afternoon: \"\",\n    evening: \".\",\n    night: \"\",\n  },\n  abbreviated: {\n    am: \"\",\n    pm: \"\",\n    midnight: \".\",\n    noon: \".\",\n    morning: \"\",\n    afternoon: \"\",\n    evening: \".\",\n    night: \"\",\n  },\n  wide: {\n    am: \"\",\n    pm: \"\",\n    midnight: \"\",\n    noon: \"\",\n    morning: \"\",\n    afternoon: \"\",\n    evening: \"\",\n    night: \"\",\n  },\n};\n\nconst formattingDayPeriodValues = {\n  narrow: {\n    am: \"\",\n    pm: \"\",\n    midnight: \".\",\n    noon: \".\",\n    morning: \"\",\n    afternoon: \"\",\n    evening: \".\",\n    night: \"\",\n  },\n  abbreviated: {\n    am: \"\",\n    pm: \"\",\n    midnight: \".\",\n    noon: \".\",\n    morning: \"\",\n    afternoon: \"\",\n    evening: \".\",\n    night: \"\",\n  },\n  wide: {\n    am: \"\",\n    pm: \"\",\n    midnight: \"\",\n    noon: \"\",\n    morning: \"\",\n    afternoon: \"\",\n    evening: \"\",\n    night: \"\",\n  },\n};\n\nconst ordinalNumber = (dirtyNumber, options) => {\n  const number = Number(dirtyNumber);\n  const unit = options?.unit;\n\n  let suffix;\n  if (unit === \"date\") {\n    suffix = \"-\";\n  } else if (unit === \"week\" || unit === \"minute\" || unit === \"second\") {\n    suffix = \"-\";\n  } else {\n    suffix = \"-\";\n  }\n\n  return number + suffix;\n};\n\nexport const localize = {\n  ordinalNumber,\n\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: \"wide\",\n  }),\n\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: \"wide\",\n    argumentCallback: (quarter) => quarter - 1,\n  }),\n\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: \"wide\",\n    formattingValues: formattingMonthValues,\n    defaultFormattingWidth: \"wide\",\n  }),\n\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: \"wide\",\n  }),\n\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: \"any\",\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: \"wide\",\n  }),\n};\n","import { buildMatchFn } from \"../../_lib/buildMatchFn.js\";\nimport { buildMatchPatternFn } from \"../../_lib/buildMatchPatternFn.js\";\n\nconst matchOrdinalNumberPattern = /^(\\d+)(-?(||||||||||))?/i;\nconst parseOrdinalNumberPattern = /\\d+/i;\n\nconst matchEraPatterns = {\n  narrow: /^(( )?\\.?\\s?\\.?)/i,\n  abbreviated: /^(( )?\\.?\\s?\\.?)/i,\n  wide: /^(  | | )/i,\n};\nconst parseEraPatterns = {\n  any: [/^/i, /^/i],\n};\n\nconst matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^[1234](-?[]??)? .?/i,\n  wide: /^[1234](-?[]??)? /i,\n};\n\nconst parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i],\n};\n\nconst matchMonthPatterns = {\n  narrow: /^[]/i,\n  abbreviated:\n    /^(||?||[]|[]?|[]?||?||?|)\\.?/i,\n  wide: /^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[]|[])/i,\n};\n\nconst parseMonthPatterns = {\n  narrow: [\n    /^/i,\n    /^/i,\n    /^/i,\n    /^/i,\n    /^/i,\n    /^/i,\n    /^/i,\n    /^/i,\n    /^/i,\n    /^/i,\n    /^/i,\n    /^/i,\n  ],\n\n  any: [\n    /^/i,\n    /^/i,\n    /^/i,\n    /^/i,\n    /^[]/i,\n    /^/i,\n    /^/i,\n    /^/i,\n    /^/i,\n    /^/i,\n    /^/i,\n    /^/i,\n  ],\n};\n\nconst matchDayPatterns = {\n  narrow: /^[]/i,\n  short: /^(|||||||||||)\\.?/i,\n  abbreviated: /^(||||||||||||).?/i,\n  wide: /^([]|?|?|[]|?|[]|[])/i,\n};\n\nconst parseDayPatterns = {\n  narrow: [/^/i, /^/i, /^/i, /^/i, /^/i, /^/i, /^/i],\n  any: [/^[]/i, /^[]/i, /^/i, /^/i, /^/i, /^[]/i, /^[]/i],\n};\n\nconst matchDayPeriodPatterns = {\n  narrow: /^([]|\\.?|\\.?|[]|||\\.?|[])/i,\n  abbreviated: /^([]|\\.?|\\.?|[]|||\\.?|[])/i,\n  wide: /^([]|||[]|||?|[])/i,\n};\n\nconst parseDayPeriodPatterns = {\n  any: {\n    am: /^/i,\n    pm: /^/i,\n    midnight: /^/i,\n    noon: /^/i,\n    morning: /^/i,\n    afternoon: /^[]/i,\n    evening: /^/i,\n    night: /^/i,\n  },\n};\n\nexport const match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: (value) => parseInt(value, 10),\n  }),\n\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: \"any\",\n    valueCallback: (index) => index + 1,\n  }),\n\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: \"any\",\n  }),\n};\n","import { formatDistance } from \"./ru/_lib/formatDistance.js\";\nimport { formatLong } from \"./ru/_lib/formatLong.js\";\nimport { formatRelative } from \"./ru/_lib/formatRelative.js\";\nimport { localize } from \"./ru/_lib/localize.js\";\nimport { match } from \"./ru/_lib/match.js\";\n\n/**\n * @category Locales\n * @summary Russian locale.\n * @language Russian\n * @iso-639-2 rus\n * @author Sasha Koss [@kossnocorp](https://github.com/kossnocorp)\n * @author Lesha Koss [@leshakoss](https://github.com/leshakoss)\n */\nexport const ru = {\n  code: \"ru\",\n  formatDistance: formatDistance,\n  formatLong: formatLong,\n  formatRelative: formatRelative,\n  localize: localize,\n  match: match,\n  options: {\n    weekStartsOn: 1 /* Monday */,\n    firstWeekContainsDate: 1,\n  },\n};\n\n// Fallback for modularized imports:\nexport default ru;\n","const instanceOfAny = (object, constructors) => constructors.some((c) => object instanceof c);\n\nlet idbProxyableTypes;\nlet cursorAdvanceMethods;\n// This is a function to prevent it throwing up in node environments.\nfunction getIdbProxyableTypes() {\n    return (idbProxyableTypes ||\n        (idbProxyableTypes = [\n            IDBDatabase,\n            IDBObjectStore,\n            IDBIndex,\n            IDBCursor,\n            IDBTransaction,\n        ]));\n}\n// This is a function to prevent it throwing up in node environments.\nfunction getCursorAdvanceMethods() {\n    return (cursorAdvanceMethods ||\n        (cursorAdvanceMethods = [\n            IDBCursor.prototype.advance,\n            IDBCursor.prototype.continue,\n            IDBCursor.prototype.continuePrimaryKey,\n        ]));\n}\nconst transactionDoneMap = new WeakMap();\nconst transformCache = new WeakMap();\nconst reverseTransformCache = new WeakMap();\nfunction promisifyRequest(request) {\n    const promise = new Promise((resolve, reject) => {\n        const unlisten = () => {\n            request.removeEventListener('success', success);\n            request.removeEventListener('error', error);\n        };\n        const success = () => {\n            resolve(wrap(request.result));\n            unlisten();\n        };\n        const error = () => {\n            reject(request.error);\n            unlisten();\n        };\n        request.addEventListener('success', success);\n        request.addEventListener('error', error);\n    });\n    // This mapping exists in reverseTransformCache but doesn't exist in transformCache. This\n    // is because we create many promises from a single IDBRequest.\n    reverseTransformCache.set(promise, request);\n    return promise;\n}\nfunction cacheDonePromiseForTransaction(tx) {\n    // Early bail if we've already created a done promise for this transaction.\n    if (transactionDoneMap.has(tx))\n        return;\n    const done = new Promise((resolve, reject) => {\n        const unlisten = () => {\n            tx.removeEventListener('complete', complete);\n            tx.removeEventListener('error', error);\n            tx.removeEventListener('abort', error);\n        };\n        const complete = () => {\n            resolve();\n            unlisten();\n        };\n        const error = () => {\n            reject(tx.error || new DOMException('AbortError', 'AbortError'));\n            unlisten();\n        };\n        tx.addEventListener('complete', complete);\n        tx.addEventListener('error', error);\n        tx.addEventListener('abort', error);\n    });\n    // Cache it for later retrieval.\n    transactionDoneMap.set(tx, done);\n}\nlet idbProxyTraps = {\n    get(target, prop, receiver) {\n        if (target instanceof IDBTransaction) {\n            // Special handling for transaction.done.\n            if (prop === 'done')\n                return transactionDoneMap.get(target);\n            // Make tx.store return the only store in the transaction, or undefined if there are many.\n            if (prop === 'store') {\n                return receiver.objectStoreNames[1]\n                    ? undefined\n                    : receiver.objectStore(receiver.objectStoreNames[0]);\n            }\n        }\n        // Else transform whatever we get back.\n        return wrap(target[prop]);\n    },\n    set(target, prop, value) {\n        target[prop] = value;\n        return true;\n    },\n    has(target, prop) {\n        if (target instanceof IDBTransaction &&\n            (prop === 'done' || prop === 'store')) {\n            return true;\n        }\n        return prop in target;\n    },\n};\nfunction replaceTraps(callback) {\n    idbProxyTraps = callback(idbProxyTraps);\n}\nfunction wrapFunction(func) {\n    // Due to expected object equality (which is enforced by the caching in `wrap`), we\n    // only create one new func per func.\n    // Cursor methods are special, as the behaviour is a little more different to standard IDB. In\n    // IDB, you advance the cursor and wait for a new 'success' on the IDBRequest that gave you the\n    // cursor. It's kinda like a promise that can resolve with many values. That doesn't make sense\n    // with real promises, so each advance methods returns a new promise for the cursor object, or\n    // undefined if the end of the cursor has been reached.\n    if (getCursorAdvanceMethods().includes(func)) {\n        return function (...args) {\n            // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\n            // the original object.\n            func.apply(unwrap(this), args);\n            return wrap(this.request);\n        };\n    }\n    return function (...args) {\n        // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\n        // the original object.\n        return wrap(func.apply(unwrap(this), args));\n    };\n}\nfunction transformCachableValue(value) {\n    if (typeof value === 'function')\n        return wrapFunction(value);\n    // This doesn't return, it just creates a 'done' promise for the transaction,\n    // which is later returned for transaction.done (see idbObjectHandler).\n    if (value instanceof IDBTransaction)\n        cacheDonePromiseForTransaction(value);\n    if (instanceOfAny(value, getIdbProxyableTypes()))\n        return new Proxy(value, idbProxyTraps);\n    // Return the same value back if we're not going to transform it.\n    return value;\n}\nfunction wrap(value) {\n    // We sometimes generate multiple promises from a single IDBRequest (eg when cursoring), because\n    // IDB is weird and a single IDBRequest can yield many responses, so these can't be cached.\n    if (value instanceof IDBRequest)\n        return promisifyRequest(value);\n    // If we've already transformed this value before, reuse the transformed value.\n    // This is faster, but it also provides object equality.\n    if (transformCache.has(value))\n        return transformCache.get(value);\n    const newValue = transformCachableValue(value);\n    // Not all types are transformed.\n    // These may be primitive types, so they can't be WeakMap keys.\n    if (newValue !== value) {\n        transformCache.set(value, newValue);\n        reverseTransformCache.set(newValue, value);\n    }\n    return newValue;\n}\nconst unwrap = (value) => reverseTransformCache.get(value);\n\n/**\n * Open a database.\n *\n * @param name Name of the database.\n * @param version Schema version.\n * @param callbacks Additional callbacks.\n */\nfunction openDB(name, version, { blocked, upgrade, blocking, terminated } = {}) {\n    const request = indexedDB.open(name, version);\n    const openPromise = wrap(request);\n    if (upgrade) {\n        request.addEventListener('upgradeneeded', (event) => {\n            upgrade(wrap(request.result), event.oldVersion, event.newVersion, wrap(request.transaction), event);\n        });\n    }\n    if (blocked) {\n        request.addEventListener('blocked', (event) => blocked(\n        // Casting due to https://github.com/microsoft/TypeScript-DOM-lib-generator/pull/1405\n        event.oldVersion, event.newVersion, event));\n    }\n    openPromise\n        .then((db) => {\n        if (terminated)\n            db.addEventListener('close', () => terminated());\n        if (blocking) {\n            db.addEventListener('versionchange', (event) => blocking(event.oldVersion, event.newVersion, event));\n        }\n    })\n        .catch(() => { });\n    return openPromise;\n}\n/**\n * Delete a database.\n *\n * @param name Name of the database.\n */\nfunction deleteDB(name, { blocked } = {}) {\n    const request = indexedDB.deleteDatabase(name);\n    if (blocked) {\n        request.addEventListener('blocked', (event) => blocked(\n        // Casting due to https://github.com/microsoft/TypeScript-DOM-lib-generator/pull/1405\n        event.oldVersion, event));\n    }\n    return wrap(request).then(() => undefined);\n}\n\nconst readMethods = ['get', 'getKey', 'getAll', 'getAllKeys', 'count'];\nconst writeMethods = ['put', 'add', 'delete', 'clear'];\nconst cachedMethods = new Map();\nfunction getMethod(target, prop) {\n    if (!(target instanceof IDBDatabase &&\n        !(prop in target) &&\n        typeof prop === 'string')) {\n        return;\n    }\n    if (cachedMethods.get(prop))\n        return cachedMethods.get(prop);\n    const targetFuncName = prop.replace(/FromIndex$/, '');\n    const useIndex = prop !== targetFuncName;\n    const isWrite = writeMethods.includes(targetFuncName);\n    if (\n    // Bail if the target doesn't exist on the target. Eg, getAll isn't in Edge.\n    !(targetFuncName in (useIndex ? IDBIndex : IDBObjectStore).prototype) ||\n        !(isWrite || readMethods.includes(targetFuncName))) {\n        return;\n    }\n    const method = async function (storeName, ...args) {\n        // isWrite ? 'readwrite' : undefined gzipps better, but fails in Edge :(\n        const tx = this.transaction(storeName, isWrite ? 'readwrite' : 'readonly');\n        let target = tx.store;\n        if (useIndex)\n            target = target.index(args.shift());\n        // Must reject if op rejects.\n        // If it's a write operation, must reject if tx.done rejects.\n        // Must reject with op rejection first.\n        // Must resolve with op value.\n        // Must handle both promises (no unhandled rejections)\n        return (await Promise.all([\n            target[targetFuncName](...args),\n            isWrite && tx.done,\n        ]))[0];\n    };\n    cachedMethods.set(prop, method);\n    return method;\n}\nreplaceTraps((oldTraps) => ({\n    ...oldTraps,\n    get: (target, prop, receiver) => getMethod(target, prop) || oldTraps.get(target, prop, receiver),\n    has: (target, prop) => !!getMethod(target, prop) || oldTraps.has(target, prop),\n}));\n\nconst advanceMethodProps = ['continue', 'continuePrimaryKey', 'advance'];\nconst methodMap = {};\nconst advanceResults = new WeakMap();\nconst ittrProxiedCursorToOriginalProxy = new WeakMap();\nconst cursorIteratorTraps = {\n    get(target, prop) {\n        if (!advanceMethodProps.includes(prop))\n            return target[prop];\n        let cachedFunc = methodMap[prop];\n        if (!cachedFunc) {\n            cachedFunc = methodMap[prop] = function (...args) {\n                advanceResults.set(this, ittrProxiedCursorToOriginalProxy.get(this)[prop](...args));\n            };\n        }\n        return cachedFunc;\n    },\n};\nasync function* iterate(...args) {\n    // tslint:disable-next-line:no-this-assignment\n    let cursor = this;\n    if (!(cursor instanceof IDBCursor)) {\n        cursor = await cursor.openCursor(...args);\n    }\n    if (!cursor)\n        return;\n    cursor = cursor;\n    const proxiedCursor = new Proxy(cursor, cursorIteratorTraps);\n    ittrProxiedCursorToOriginalProxy.set(proxiedCursor, cursor);\n    // Map this double-proxy back to the original, so other cursor methods work.\n    reverseTransformCache.set(proxiedCursor, unwrap(cursor));\n    while (cursor) {\n        yield proxiedCursor;\n        // If one of the advancing methods was not called, call continue().\n        cursor = await (advanceResults.get(proxiedCursor) || cursor.continue());\n        advanceResults.delete(proxiedCursor);\n    }\n}\nfunction isIteratorProp(target, prop) {\n    return ((prop === Symbol.asyncIterator &&\n        instanceOfAny(target, [IDBIndex, IDBObjectStore, IDBCursor])) ||\n        (prop === 'iterate' && instanceOfAny(target, [IDBIndex, IDBObjectStore])));\n}\nreplaceTraps((oldTraps) => ({\n    ...oldTraps,\n    get(target, prop, receiver) {\n        if (isIteratorProp(target, prop))\n            return iterate;\n        return oldTraps.get(target, prop, receiver);\n    },\n    has(target, prop) {\n        return isIteratorProp(target, prop) || oldTraps.has(target, prop);\n    },\n}));\n\nexport { deleteDB, openDB, unwrap, wrap };\n","import { openDB, type DBSchema } from 'idb';\n\nimport type { Budget, Transaction } from '../models/schemas';\n\nexport const DB_NAME = 'BudgetDB';\nexport const DB_VERSION = 1;\n\nexport const budgetStore = 'budget';\nexport const transactionStore = 'transactions';\n\ntype BudgetKey = 'current';\n\ninterface BudgetDbSchema extends DBSchema {\n  [budgetStore]: {\n    key: BudgetKey;\n    value: Budget;\n  };\n  [transactionStore]: {\n    key: number;\n    value: Transaction;\n    indexes: { date: string };\n  };\n}\n\nexport const dbPromise = openDB<BudgetDbSchema>(DB_NAME, DB_VERSION, {\n  upgrade(db) {\n    if (!db.objectStoreNames.contains(budgetStore)) {\n      db.createObjectStore(budgetStore);\n    }\n\n    if (!db.objectStoreNames.contains(transactionStore)) {\n      const store = db.createObjectStore(transactionStore, {\n        keyPath: 'id',\n        autoIncrement: true,\n      });\n      store.createIndex('date', 'date');\n    }\n  },\n});\n\nexport async function saveBudget(budget: Budget): Promise<void> {\n  const db = await dbPromise;\n  await db.put(budgetStore, budget, 'current');\n}\n\nexport async function getBudget(): Promise<Budget | undefined> {\n  const db = await dbPromise;\n  return db.get(budgetStore, 'current');\n}\n\nexport async function addTransaction(tx: Omit<Transaction, 'id'>): Promise<number> {\n  const db = await dbPromise;\n  return db.add(transactionStore, tx);\n}\n\nexport async function deleteTransaction(id: number): Promise<void> {\n  const db = await dbPromise;\n  await db.delete(transactionStore, id);\n}\n\n/**\n *      (YYYY-MM-DD),      id.\n *   date,      .\n */\nexport async function getAllTransactions(): Promise<Transaction[]> {\n  const db = await dbPromise;\n  const tx = db.transaction(transactionStore, 'readonly');\n  const index = tx.store.index('date');\n\n  const result: Transaction[] = [];\n\n  let cursor = await index.openCursor(null, 'prev');\n  while (cursor) {\n    result.push(cursor.value);\n    cursor = await cursor.continue();\n  }\n\n  result.sort((a, b) => {\n    if (a.date === b.date) {\n      return (b.id ?? 0) - (a.id ?? 0);\n    }\n    return a.date < b.date ? 1 : -1;\n  });\n\n  await tx.done;\n  return result;\n}\n","import type { Budget, Transaction } from '../models/schemas';\n\nexport type Route = 'start' | 'main' | 'history';\n\nexport interface AppState {\n  route: Route;\n  budget: Budget | null;\n  transactions: Transaction[];\n  loading: boolean;\n  error: string | null;\n}\n\ntype Listener<T> = (state: Readonly<T>) => void;\n\nfunction shallowEqual<T extends object>(a: T, b: T): boolean {\n  if (Object.is(a, b)) {\n    return true;\n  }\n\n  const aKeys = Object.keys(a) as Array<keyof T>;\n  const bKeys = Object.keys(b) as Array<keyof T>;\n\n  if (aKeys.length !== bKeys.length) {\n    return false;\n  }\n\n  for (const key of aKeys) {\n    if (!Object.prototype.hasOwnProperty.call(b, key)) {\n      return false;\n    }\n    if (!Object.is(a[key], b[key])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport function createStore<T extends object>(initialState: T) {\n  let state = initialState;\n  const listeners = new Set<Listener<T>>();\n\n  const getState = (): Readonly<T> => state;\n\n  const setState = (partial: Partial<T> | ((prev: Readonly<T>) => Partial<T>)) => {\n    const patch = typeof partial === 'function' ? partial(state) : partial;\n    const nextState = { ...state, ...patch } as T;\n\n    if (shallowEqual(state, nextState)) {\n      return;\n    }\n\n    state = nextState;\n    listeners.forEach(listener => listener(state));\n  };\n\n  const subscribe = (listener: Listener<T>) => {\n    listeners.add(listener);\n    return () => {\n      listeners.delete(listener);\n    };\n  };\n\n  return { getState, setState, subscribe };\n}\n\nexport const appStore = createStore<AppState>({\n  route: 'start',\n  budget: null,\n  transactions: [],\n  loading: false,\n  error: null,\n});\n","import { format, parseISO, differenceInCalendarDays, startOfDay } from 'date-fns';\nimport { ru } from 'date-fns/locale';\n\nimport { deleteTransaction, getAllTransactions } from '../utils/db';\nimport { appStore } from '../utils/state';\n\nimport type { Transaction } from '../models/schemas';\n\nfunction formatRuDayMonth(iso: string): string {\n  const d = parseISO(iso);\n  return format(d, 'd MMMM', { locale: ru });\n}\n\nfunction averageSpentPerDay(budget: { startDate: string }, txs: Transaction[]): number {\n  const start = startOfDay(parseISO(budget.startDate));\n  const today = startOfDay(new Date());\n\n  const daysPassed = Math.max(1, differenceInCalendarDays(today, start) + 1);\n\n  const spent = txs\n    .filter(t => t.type === 'expense')\n    .reduce((sum, t) => sum + Math.abs(t.amount), 0);\n\n  if (spent === 0) {\n    return 0;\n  }\n  return spent / daysPassed;\n}\n\nfunction formatMoney(n: number): string {\n  return `${new Intl.NumberFormat('ru-RU', { maximumFractionDigits: 2 }).format(n)} `;\n}\n\nexport function renderHistoryPage(): HTMLElement {\n  const state = appStore.getState();\n  const wrapper = document.createElement('div');\n  wrapper.className = 'min-h-screen bg-slate-50';\n\n  const budget = state.budget;\n  if (!budget) {\n    appStore.setState({ route: 'start' });\n    return wrapper;\n  }\n\n  const originalTxs = (state.transactions as Transaction[]) ?? [];\n  const deletedIds = new Set<number>();\n\n  const goMain = () => appStore.setState({ route: 'main' });\n\n  const getVisibleTxs = (): Transaction[] =>\n    originalTxs.filter(t => (typeof t.id === 'number' ? !deletedIds.has(t.id) : true));\n\n  const getVisibleExpenses = (): Array<Transaction & { amount: number }> =>\n    getVisibleTxs()\n      .filter(t => t.type === 'expense')\n      .map(t => ({ ...t, amount: Math.abs(t.amount) }));\n\n  const renderExpensesList = (\n    expenses: Array<Transaction & { amount: number }>,\n    mobile: boolean\n  ) => {\n    if (!expenses.length) {\n      return `<div class=\"${mobile ? 'mt-4' : ''} text-[16px] font-normal leading-[1.5] text-slate-500 font-inter\">  .</div>`;\n    }\n\n    return expenses\n      .map((t, idx) => {\n        const divider =\n          idx === expenses.length - 1\n            ? ''\n            : `<div class=\"h-px w-full ${mobile ? 'bg-slate-200' : 'bg-slate-500'}\"></div>`;\n\n        const deleteBtn =\n          typeof t.id === 'number'\n            ? `\n            <button\n              type=\"button\"\n              class=\"ml-1 inline-flex ${mobile ? 'h-8 w-8' : 'h-6 w-6'} items-center justify-center text-slate-500 hover:text-slate-700\"\n              aria-label=\"\"\n              data-del-id=\"${String(t.id)}\"\n            >\n              ${renderDeleteIcon()}\n            </button>\n          `\n            : '';\n\n        return `\n          <div class=\"${mobile ? 'py-2' : ''} flex items-baseline gap-3\">\n            <div class=\"flex-1 text-[18px] ${mobile ? 'font-normal' : 'font-semibold'} leading-[1.3] text-slate-900 font-inter\">\n              ${formatMoney(t.amount)}\n            </div>\n\n            <div class=\"text-[16px] font-normal leading-[1.5] text-slate-500 font-inter\">\n              ${formatRuDayMonth(t.date)}\n            </div>\n\n            ${deleteBtn}\n          </div>\n          ${divider}\n        `;\n      })\n      .join('');\n  };\n\n  const renderAll = () => {\n    const visibleTxs = getVisibleTxs();\n    const visibleExpenses = getVisibleExpenses();\n    const avgSpent = averageSpentPerDay(budget, visibleTxs);\n    const hasChanges = deletedIds.size > 0;\n\n    wrapper.innerHTML = `\n      <div class=\"min-[704px]:hidden min-h-screen bg-white px-4 py-8\">\n        <div class=\"pb-32\">\n          <div class=\"flex flex-col gap-1\">\n            <div class=\"text-[24px] font-bold leading-[1.2] text-slate-900 font-inter\">\n               \n            </div>\n            <div id=\"avgMobile\" class=\"text-[12px] font-normal leading-[1.4] text-blue-500 font-inter\">\n                 : ${formatMoney(avgSpent)}\n            </div>\n          </div>\n\n          <div id=\"historyListMobile\" class=\"mt-6 flex flex-col gap-2\">\n            ${renderExpensesList(visibleExpenses, true)}\n          </div>\n        </div>\n\n        <div class=\"fixed inset-x-0 bottom-0 bg-white px-4 pb-8 pt-4\">\n          <button\n            id=\"backBtnMobile\"\n            type=\"button\"\n            class=\"${hasChanges ? 'hidden' : ''} h-12 w-full rounded border border-blue-500 bg-white px-4 font-inter text-[16px] font-medium leading-[1.5] text-blue-500 transition-colors duration-150 hover:bg-blue-500/10\"\n          >\n            \n          </button>\n\n          <button\n            id=\"cancelBtnMobile\"\n            type=\"button\"\n            class=\"${hasChanges ? '' : 'hidden'} h-12 w-full rounded border border-blue-500 bg-white px-4 font-inter text-[16px] font-medium leading-[1.5] text-blue-500 transition-colors duration-150 hover:bg-blue-500/10\"\n          >\n              \n          </button>\n\n          <button\n            id=\"saveBtnMobile\"\n            type=\"button\"\n            class=\"${hasChanges ? '' : 'hidden'} mt-3 h-12 w-full rounded bg-blue-500 px-4 font-inter text-[16px] font-medium leading-[1.5] text-white transition-colors duration-150 hover:bg-blue-500/85\"\n          >\n            \n          </button>\n        </div>\n      </div>\n\n      <div\n        class=\"hidden min-[704px]:flex min-h-screen bg-slate-50 px-4 pt-16 pb-6 flex-col items-center\n               min-[704px]:pt-0 min-[704px]:pb-0 min-[704px]:justify-center\n               min-[1140px]:pt-16 min-[1140px]:pb-6 min-[1140px]:justify-start\"\n      >\n        <div class=\"w-full flex flex-col min-[704px]:w-[524px] min-[1140px]:w-[558px]\">\n          <section class=\"w-full rounded-2xl border border-slate-200 bg-white p-6 shadow-[0_2px_8px_rgba(0,0,0,0.10)]\">\n            <div class=\"flex flex-col gap-6\">\n              <div class=\"flex flex-col gap-1\">\n                <div class=\"text-[24px] font-semibold leading-[1.2] text-slate-900 font-inter\">\n                   \n                </div>\n                <div id=\"avgDesktop\" class=\"text-[12px] font-normal leading-[1.4] text-blue-500 font-inter\">\n                     : ${formatMoney(avgSpent)}\n                </div>\n              </div>\n\n              <div id=\"historyListDesktop\" class=\"flex flex-col gap-2\">\n                ${renderExpensesList(visibleExpenses, false)}\n              </div>\n\n              ${\n                hasChanges\n                  ? `\n                    <button\n                      id=\"cancelBtnDesktop\"\n                      type=\"button\"\n                      class=\"h-12 w-full rounded-[4px] border border-blue-500 bg-white px-4 text-[16px] font-medium leading-[1.5] text-blue-500 hover:bg-blue-500/10 font-inter\"\n                    >\n                        \n                    </button>\n                    <button\n                      id=\"saveBtnDesktop\"\n                      type=\"button\"\n                      class=\"h-12 w-full rounded-[4px] bg-blue-500 px-4 text-[16px] font-medium leading-[1.5] text-white hover:bg-blue-500/85 font-inter\"\n                    >\n                      \n                    </button>\n                  `\n                  : `\n                    <button\n                      id=\"backBtnDesktop\"\n                      type=\"button\"\n                      class=\"h-12 w-full rounded-[4px] border border-blue-500 bg-white px-4 text-[16px] font-medium leading-[1.5] text-blue-500 hover:bg-blue-500/10 font-inter\"\n                    >\n                      \n                    </button>\n                  `\n              }\n            </div>\n          </section>\n        </div>\n      </div>\n    `;\n\n    wrapper.querySelector<HTMLButtonElement>('#backBtnMobile')?.addEventListener('click', goMain);\n    wrapper.querySelector<HTMLButtonElement>('#backBtnDesktop')?.addEventListener('click', goMain);\n\n    wrapper.querySelector<HTMLButtonElement>('#cancelBtnMobile')?.addEventListener('click', goMain);\n    wrapper\n      .querySelector<HTMLButtonElement>('#cancelBtnDesktop')\n      ?.addEventListener('click', goMain);\n\n    const save = () => {\n      void (async () => {\n        if (!deletedIds.size) {\n          goMain();\n          return;\n        }\n\n        const ids = Array.from(deletedIds.values());\n        await Promise.all(ids.map(id => deleteTransaction(id)));\n\n        const fresh = await getAllTransactions();\n        appStore.setState({ transactions: fresh });\n\n        goMain();\n      })();\n    };\n\n    wrapper.querySelector<HTMLButtonElement>('#saveBtnMobile')?.addEventListener('click', save);\n    wrapper.querySelector<HTMLButtonElement>('#saveBtnDesktop')?.addEventListener('click', save);\n\n    const onDeleteClick = (e: Event) => {\n      const btn = (e.target as HTMLElement).closest<HTMLButtonElement>('button[data-del-id]');\n      if (!btn) {\n        return;\n      }\n\n      const id = Number(btn.dataset.delId);\n      if (!Number.isFinite(id)) {\n        return;\n      }\n\n      deletedIds.add(id);\n      renderAll();\n    };\n\n    wrapper\n      .querySelector<HTMLElement>('#historyListMobile')\n      ?.addEventListener('click', onDeleteClick);\n    wrapper\n      .querySelector<HTMLElement>('#historyListDesktop')\n      ?.addEventListener('click', onDeleteClick);\n  };\n\n  renderAll();\n  return wrapper;\n}\n\nfunction renderDeleteIcon(): string {\n  return `\n    <img\n      src=\"/assets/delete.svg\"\n      alt=\"\"\n      class=\"h-3 w-3\"\n      aria-hidden=\"true\"\n      draggable=\"false\"\n    />\n  `;\n}\n","import { differenceInCalendarDays, isBefore, parseISO, startOfDay } from 'date-fns';\n\nimport type { Budget, Transaction } from '../models/schemas';\n\nfunction toDay(iso: string): Date {\n  return startOfDay(parseISO(iso));\n}\n\nexport function todayLimit(budget: Budget, txs: Transaction[], todayISO: string): number {\n  const daysLeft = remainingDays(budget, todayISO);\n  if (daysLeft <= 0) {\n    return 0;\n  }\n\n  const netToday = todayNet(txs, todayISO);\n  const balanceNow = totalBalance(budget, txs);\n  const balanceStartOfDay = round2(balanceNow - netToday);\n\n  return round2(balanceStartOfDay / daysLeft);\n}\n/**\n * : [startDate, endDate)  endDate  .\n * : 2025-10-25 .. 2025-10-30 => 5  (25..29)\n */\nexport function periodDays(budget: Budget): number {\n  const s = toDay(budget.startDate);\n  const e = toDay(budget.endDate);\n  return Math.max(0, differenceInCalendarDays(e, s));\n}\n\n/**\n *  ,  today  [startDate, endDate)\n */\nexport function isPeriodActive(budget: Budget, todayISO: string): boolean {\n  const s = toDay(budget.startDate);\n  const e = toDay(budget.endDate);\n  const today = toDay(todayISO);\n\n  if (isBefore(e, s) || differenceInCalendarDays(e, s) <= 0) {\n    return false;\n  }\n  if (isBefore(today, s)) {\n    return false;\n  }\n  if (!isBefore(today, e)) {\n    return false;\n  }\n  return true;\n}\n\nexport function remainingDays(budget: Budget, todayISO: string): number {\n  const today = toDay(todayISO);\n  const end = toDay(budget.endDate);\n  return Math.max(0, differenceInCalendarDays(end, today));\n}\n\nexport function plannedDailyBudget(budget: Budget): number {\n  const days = periodDays(budget);\n  if (days <= 0) {\n    return 0;\n  }\n  return round2(budget.initialBalance / days);\n}\n\nexport function totalBalance(budget: Budget, txs: Transaction[]): number {\n  const delta = txs.reduce((acc, t) => acc + (t.type === 'income' ? t.amount : -t.amount), 0);\n  return round2(budget.initialBalance + delta);\n}\n\nexport function todayNet(txs: Transaction[], todayISO: string): number {\n  return round2(\n    txs\n      .filter(t => t.date === todayISO)\n      .reduce((acc, t) => acc + (t.type === 'income' ? t.amount : -t.amount), 0)\n  );\n}\n\n/**\n *         .\n *       0,  UI   \" / \".\n */\nexport function todayLeft(budget: Budget, txs: Transaction[], todayISO: string): number {\n  if (!isPeriodActive(budget, todayISO)) {\n    return 0;\n  }\n\n  const daysLeft = remainingDays(budget, todayISO);\n  if (daysLeft <= 0) {\n    return 0;\n  }\n\n  const netToday = todayNet(txs, todayISO);\n  const balanceNow = totalBalance(budget, txs);\n  const balanceStartOfDay = round2(balanceNow - netToday);\n\n  const dailyStartOfDay = round2(balanceStartOfDay / daysLeft);\n  return round2(dailyStartOfDay + netToday);\n}\n\nexport function averageRemainingPerDay(\n  budget: Budget,\n  txs: Transaction[],\n  todayISO: string\n): number {\n  if (!isPeriodActive(budget, todayISO)) {\n    return 0;\n  }\n\n  const daysLeft = remainingDays(budget, todayISO);\n  if (daysLeft <= 0) {\n    return 0;\n  }\n\n  const netToday = todayNet(txs, todayISO);\n  const balanceNow = totalBalance(budget, txs);\n  const balanceStartOfDay = round2(balanceNow - netToday);\n\n  return round2(balanceStartOfDay / daysLeft);\n}\n\nexport function totalExpenses(txs: Transaction[]): number {\n  return round2(txs.reduce((acc, t) => acc + (t.type === 'expense' ? t.amount : 0), 0));\n}\n\nfunction round2(n: number): number {\n  return Math.round(n * 100) / 100;\n}\n","import { format } from 'date-fns';\n\nexport function formatISODate(d: Date): string {\n  return format(d, 'yyyy-MM-dd');\n}\n","/** A special constant with type `never` */\nexport const NEVER = Object.freeze({\n    status: \"aborted\",\n});\nexport /*@__NO_SIDE_EFFECTS__*/ function $constructor(name, initializer, params) {\n    function init(inst, def) {\n        var _a;\n        Object.defineProperty(inst, \"_zod\", {\n            value: inst._zod ?? {},\n            enumerable: false,\n        });\n        (_a = inst._zod).traits ?? (_a.traits = new Set());\n        inst._zod.traits.add(name);\n        initializer(inst, def);\n        // support prototype modifications\n        for (const k in _.prototype) {\n            if (!(k in inst))\n                Object.defineProperty(inst, k, { value: _.prototype[k].bind(inst) });\n        }\n        inst._zod.constr = _;\n        inst._zod.def = def;\n    }\n    // doesn't work if Parent has a constructor with arguments\n    const Parent = params?.Parent ?? Object;\n    class Definition extends Parent {\n    }\n    Object.defineProperty(Definition, \"name\", { value: name });\n    function _(def) {\n        var _a;\n        const inst = params?.Parent ? new Definition() : this;\n        init(inst, def);\n        (_a = inst._zod).deferred ?? (_a.deferred = []);\n        for (const fn of inst._zod.deferred) {\n            fn();\n        }\n        return inst;\n    }\n    Object.defineProperty(_, \"init\", { value: init });\n    Object.defineProperty(_, Symbol.hasInstance, {\n        value: (inst) => {\n            if (params?.Parent && inst instanceof params.Parent)\n                return true;\n            return inst?._zod?.traits?.has(name);\n        },\n    });\n    Object.defineProperty(_, \"name\", { value: name });\n    return _;\n}\n//////////////////////////////   UTILITIES   ///////////////////////////////////////\nexport const $brand = Symbol(\"zod_brand\");\nexport class $ZodAsyncError extends Error {\n    constructor() {\n        super(`Encountered Promise during synchronous parse. Use .parseAsync() instead.`);\n    }\n}\nexport class $ZodEncodeError extends Error {\n    constructor(name) {\n        super(`Encountered unidirectional transform during encode: ${name}`);\n        this.name = \"ZodEncodeError\";\n    }\n}\nexport const globalConfig = {};\nexport function config(newConfig) {\n    if (newConfig)\n        Object.assign(globalConfig, newConfig);\n    return globalConfig;\n}\n","// functions\nexport function assertEqual(val) {\n    return val;\n}\nexport function assertNotEqual(val) {\n    return val;\n}\nexport function assertIs(_arg) { }\nexport function assertNever(_x) {\n    throw new Error();\n}\nexport function assert(_) { }\nexport function getEnumValues(entries) {\n    const numericValues = Object.values(entries).filter((v) => typeof v === \"number\");\n    const values = Object.entries(entries)\n        .filter(([k, _]) => numericValues.indexOf(+k) === -1)\n        .map(([_, v]) => v);\n    return values;\n}\nexport function joinValues(array, separator = \"|\") {\n    return array.map((val) => stringifyPrimitive(val)).join(separator);\n}\nexport function jsonStringifyReplacer(_, value) {\n    if (typeof value === \"bigint\")\n        return value.toString();\n    return value;\n}\nexport function cached(getter) {\n    const set = false;\n    return {\n        get value() {\n            if (!set) {\n                const value = getter();\n                Object.defineProperty(this, \"value\", { value });\n                return value;\n            }\n            throw new Error(\"cached value already set\");\n        },\n    };\n}\nexport function nullish(input) {\n    return input === null || input === undefined;\n}\nexport function cleanRegex(source) {\n    const start = source.startsWith(\"^\") ? 1 : 0;\n    const end = source.endsWith(\"$\") ? source.length - 1 : source.length;\n    return source.slice(start, end);\n}\nexport function floatSafeRemainder(val, step) {\n    const valDecCount = (val.toString().split(\".\")[1] || \"\").length;\n    const stepString = step.toString();\n    let stepDecCount = (stepString.split(\".\")[1] || \"\").length;\n    if (stepDecCount === 0 && /\\d?e-\\d?/.test(stepString)) {\n        const match = stepString.match(/\\d?e-(\\d?)/);\n        if (match?.[1]) {\n            stepDecCount = Number.parseInt(match[1]);\n        }\n    }\n    const decCount = valDecCount > stepDecCount ? valDecCount : stepDecCount;\n    const valInt = Number.parseInt(val.toFixed(decCount).replace(\".\", \"\"));\n    const stepInt = Number.parseInt(step.toFixed(decCount).replace(\".\", \"\"));\n    return (valInt % stepInt) / 10 ** decCount;\n}\nconst EVALUATING = Symbol(\"evaluating\");\nexport function defineLazy(object, key, getter) {\n    let value = undefined;\n    Object.defineProperty(object, key, {\n        get() {\n            if (value === EVALUATING) {\n                // Circular reference detected, return undefined to break the cycle\n                return undefined;\n            }\n            if (value === undefined) {\n                value = EVALUATING;\n                value = getter();\n            }\n            return value;\n        },\n        set(v) {\n            Object.defineProperty(object, key, {\n                value: v,\n                // configurable: true,\n            });\n            // object[key] = v;\n        },\n        configurable: true,\n    });\n}\nexport function objectClone(obj) {\n    return Object.create(Object.getPrototypeOf(obj), Object.getOwnPropertyDescriptors(obj));\n}\nexport function assignProp(target, prop, value) {\n    Object.defineProperty(target, prop, {\n        value,\n        writable: true,\n        enumerable: true,\n        configurable: true,\n    });\n}\nexport function mergeDefs(...defs) {\n    const mergedDescriptors = {};\n    for (const def of defs) {\n        const descriptors = Object.getOwnPropertyDescriptors(def);\n        Object.assign(mergedDescriptors, descriptors);\n    }\n    return Object.defineProperties({}, mergedDescriptors);\n}\nexport function cloneDef(schema) {\n    return mergeDefs(schema._zod.def);\n}\nexport function getElementAtPath(obj, path) {\n    if (!path)\n        return obj;\n    return path.reduce((acc, key) => acc?.[key], obj);\n}\nexport function promiseAllObject(promisesObj) {\n    const keys = Object.keys(promisesObj);\n    const promises = keys.map((key) => promisesObj[key]);\n    return Promise.all(promises).then((results) => {\n        const resolvedObj = {};\n        for (let i = 0; i < keys.length; i++) {\n            resolvedObj[keys[i]] = results[i];\n        }\n        return resolvedObj;\n    });\n}\nexport function randomString(length = 10) {\n    const chars = \"abcdefghijklmnopqrstuvwxyz\";\n    let str = \"\";\n    for (let i = 0; i < length; i++) {\n        str += chars[Math.floor(Math.random() * chars.length)];\n    }\n    return str;\n}\nexport function esc(str) {\n    return JSON.stringify(str);\n}\nexport const captureStackTrace = (\"captureStackTrace\" in Error ? Error.captureStackTrace : (..._args) => { });\nexport function isObject(data) {\n    return typeof data === \"object\" && data !== null && !Array.isArray(data);\n}\nexport const allowsEval = cached(() => {\n    // @ts-ignore\n    if (typeof navigator !== \"undefined\" && navigator?.userAgent?.includes(\"Cloudflare\")) {\n        return false;\n    }\n    try {\n        const F = Function;\n        new F(\"\");\n        return true;\n    }\n    catch (_) {\n        return false;\n    }\n});\nexport function isPlainObject(o) {\n    if (isObject(o) === false)\n        return false;\n    // modified constructor\n    const ctor = o.constructor;\n    if (ctor === undefined)\n        return true;\n    // modified prototype\n    const prot = ctor.prototype;\n    if (isObject(prot) === false)\n        return false;\n    // ctor doesn't have static `isPrototypeOf`\n    if (Object.prototype.hasOwnProperty.call(prot, \"isPrototypeOf\") === false) {\n        return false;\n    }\n    return true;\n}\nexport function shallowClone(o) {\n    if (isPlainObject(o))\n        return { ...o };\n    if (Array.isArray(o))\n        return [...o];\n    return o;\n}\nexport function numKeys(data) {\n    let keyCount = 0;\n    for (const key in data) {\n        if (Object.prototype.hasOwnProperty.call(data, key)) {\n            keyCount++;\n        }\n    }\n    return keyCount;\n}\nexport const getParsedType = (data) => {\n    const t = typeof data;\n    switch (t) {\n        case \"undefined\":\n            return \"undefined\";\n        case \"string\":\n            return \"string\";\n        case \"number\":\n            return Number.isNaN(data) ? \"nan\" : \"number\";\n        case \"boolean\":\n            return \"boolean\";\n        case \"function\":\n            return \"function\";\n        case \"bigint\":\n            return \"bigint\";\n        case \"symbol\":\n            return \"symbol\";\n        case \"object\":\n            if (Array.isArray(data)) {\n                return \"array\";\n            }\n            if (data === null) {\n                return \"null\";\n            }\n            if (data.then && typeof data.then === \"function\" && data.catch && typeof data.catch === \"function\") {\n                return \"promise\";\n            }\n            if (typeof Map !== \"undefined\" && data instanceof Map) {\n                return \"map\";\n            }\n            if (typeof Set !== \"undefined\" && data instanceof Set) {\n                return \"set\";\n            }\n            if (typeof Date !== \"undefined\" && data instanceof Date) {\n                return \"date\";\n            }\n            // @ts-ignore\n            if (typeof File !== \"undefined\" && data instanceof File) {\n                return \"file\";\n            }\n            return \"object\";\n        default:\n            throw new Error(`Unknown data type: ${t}`);\n    }\n};\nexport const propertyKeyTypes = new Set([\"string\", \"number\", \"symbol\"]);\nexport const primitiveTypes = new Set([\"string\", \"number\", \"bigint\", \"boolean\", \"symbol\", \"undefined\"]);\nexport function escapeRegex(str) {\n    return str.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n}\n// zod-specific utils\nexport function clone(inst, def, params) {\n    const cl = new inst._zod.constr(def ?? inst._zod.def);\n    if (!def || params?.parent)\n        cl._zod.parent = inst;\n    return cl;\n}\nexport function normalizeParams(_params) {\n    const params = _params;\n    if (!params)\n        return {};\n    if (typeof params === \"string\")\n        return { error: () => params };\n    if (params?.message !== undefined) {\n        if (params?.error !== undefined)\n            throw new Error(\"Cannot specify both `message` and `error` params\");\n        params.error = params.message;\n    }\n    delete params.message;\n    if (typeof params.error === \"string\")\n        return { ...params, error: () => params.error };\n    return params;\n}\nexport function createTransparentProxy(getter) {\n    let target;\n    return new Proxy({}, {\n        get(_, prop, receiver) {\n            target ?? (target = getter());\n            return Reflect.get(target, prop, receiver);\n        },\n        set(_, prop, value, receiver) {\n            target ?? (target = getter());\n            return Reflect.set(target, prop, value, receiver);\n        },\n        has(_, prop) {\n            target ?? (target = getter());\n            return Reflect.has(target, prop);\n        },\n        deleteProperty(_, prop) {\n            target ?? (target = getter());\n            return Reflect.deleteProperty(target, prop);\n        },\n        ownKeys(_) {\n            target ?? (target = getter());\n            return Reflect.ownKeys(target);\n        },\n        getOwnPropertyDescriptor(_, prop) {\n            target ?? (target = getter());\n            return Reflect.getOwnPropertyDescriptor(target, prop);\n        },\n        defineProperty(_, prop, descriptor) {\n            target ?? (target = getter());\n            return Reflect.defineProperty(target, prop, descriptor);\n        },\n    });\n}\nexport function stringifyPrimitive(value) {\n    if (typeof value === \"bigint\")\n        return value.toString() + \"n\";\n    if (typeof value === \"string\")\n        return `\"${value}\"`;\n    return `${value}`;\n}\nexport function optionalKeys(shape) {\n    return Object.keys(shape).filter((k) => {\n        return shape[k]._zod.optin === \"optional\" && shape[k]._zod.optout === \"optional\";\n    });\n}\nexport const NUMBER_FORMAT_RANGES = {\n    safeint: [Number.MIN_SAFE_INTEGER, Number.MAX_SAFE_INTEGER],\n    int32: [-2147483648, 2147483647],\n    uint32: [0, 4294967295],\n    float32: [-3.4028234663852886e38, 3.4028234663852886e38],\n    float64: [-Number.MAX_VALUE, Number.MAX_VALUE],\n};\nexport const BIGINT_FORMAT_RANGES = {\n    int64: [/* @__PURE__*/ BigInt(\"-9223372036854775808\"), /* @__PURE__*/ BigInt(\"9223372036854775807\")],\n    uint64: [/* @__PURE__*/ BigInt(0), /* @__PURE__*/ BigInt(\"18446744073709551615\")],\n};\nexport function pick(schema, mask) {\n    const currDef = schema._zod.def;\n    const def = mergeDefs(schema._zod.def, {\n        get shape() {\n            const newShape = {};\n            for (const key in mask) {\n                if (!(key in currDef.shape)) {\n                    throw new Error(`Unrecognized key: \"${key}\"`);\n                }\n                if (!mask[key])\n                    continue;\n                newShape[key] = currDef.shape[key];\n            }\n            assignProp(this, \"shape\", newShape); // self-caching\n            return newShape;\n        },\n        checks: [],\n    });\n    return clone(schema, def);\n}\nexport function omit(schema, mask) {\n    const currDef = schema._zod.def;\n    const def = mergeDefs(schema._zod.def, {\n        get shape() {\n            const newShape = { ...schema._zod.def.shape };\n            for (const key in mask) {\n                if (!(key in currDef.shape)) {\n                    throw new Error(`Unrecognized key: \"${key}\"`);\n                }\n                if (!mask[key])\n                    continue;\n                delete newShape[key];\n            }\n            assignProp(this, \"shape\", newShape); // self-caching\n            return newShape;\n        },\n        checks: [],\n    });\n    return clone(schema, def);\n}\nexport function extend(schema, shape) {\n    if (!isPlainObject(shape)) {\n        throw new Error(\"Invalid input to extend: expected a plain object\");\n    }\n    const checks = schema._zod.def.checks;\n    const hasChecks = checks && checks.length > 0;\n    if (hasChecks) {\n        throw new Error(\"Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.\");\n    }\n    const def = mergeDefs(schema._zod.def, {\n        get shape() {\n            const _shape = { ...schema._zod.def.shape, ...shape };\n            assignProp(this, \"shape\", _shape); // self-caching\n            return _shape;\n        },\n        checks: [],\n    });\n    return clone(schema, def);\n}\nexport function safeExtend(schema, shape) {\n    if (!isPlainObject(shape)) {\n        throw new Error(\"Invalid input to safeExtend: expected a plain object\");\n    }\n    const def = {\n        ...schema._zod.def,\n        get shape() {\n            const _shape = { ...schema._zod.def.shape, ...shape };\n            assignProp(this, \"shape\", _shape); // self-caching\n            return _shape;\n        },\n        checks: schema._zod.def.checks,\n    };\n    return clone(schema, def);\n}\nexport function merge(a, b) {\n    const def = mergeDefs(a._zod.def, {\n        get shape() {\n            const _shape = { ...a._zod.def.shape, ...b._zod.def.shape };\n            assignProp(this, \"shape\", _shape); // self-caching\n            return _shape;\n        },\n        get catchall() {\n            return b._zod.def.catchall;\n        },\n        checks: [], // delete existing checks\n    });\n    return clone(a, def);\n}\nexport function partial(Class, schema, mask) {\n    const def = mergeDefs(schema._zod.def, {\n        get shape() {\n            const oldShape = schema._zod.def.shape;\n            const shape = { ...oldShape };\n            if (mask) {\n                for (const key in mask) {\n                    if (!(key in oldShape)) {\n                        throw new Error(`Unrecognized key: \"${key}\"`);\n                    }\n                    if (!mask[key])\n                        continue;\n                    // if (oldShape[key]!._zod.optin === \"optional\") continue;\n                    shape[key] = Class\n                        ? new Class({\n                            type: \"optional\",\n                            innerType: oldShape[key],\n                        })\n                        : oldShape[key];\n                }\n            }\n            else {\n                for (const key in oldShape) {\n                    // if (oldShape[key]!._zod.optin === \"optional\") continue;\n                    shape[key] = Class\n                        ? new Class({\n                            type: \"optional\",\n                            innerType: oldShape[key],\n                        })\n                        : oldShape[key];\n                }\n            }\n            assignProp(this, \"shape\", shape); // self-caching\n            return shape;\n        },\n        checks: [],\n    });\n    return clone(schema, def);\n}\nexport function required(Class, schema, mask) {\n    const def = mergeDefs(schema._zod.def, {\n        get shape() {\n            const oldShape = schema._zod.def.shape;\n            const shape = { ...oldShape };\n            if (mask) {\n                for (const key in mask) {\n                    if (!(key in shape)) {\n                        throw new Error(`Unrecognized key: \"${key}\"`);\n                    }\n                    if (!mask[key])\n                        continue;\n                    // overwrite with non-optional\n                    shape[key] = new Class({\n                        type: \"nonoptional\",\n                        innerType: oldShape[key],\n                    });\n                }\n            }\n            else {\n                for (const key in oldShape) {\n                    // overwrite with non-optional\n                    shape[key] = new Class({\n                        type: \"nonoptional\",\n                        innerType: oldShape[key],\n                    });\n                }\n            }\n            assignProp(this, \"shape\", shape); // self-caching\n            return shape;\n        },\n        checks: [],\n    });\n    return clone(schema, def);\n}\n// invalid_type | too_big | too_small | invalid_format | not_multiple_of | unrecognized_keys | invalid_union | invalid_key | invalid_element | invalid_value | custom\nexport function aborted(x, startIndex = 0) {\n    if (x.aborted === true)\n        return true;\n    for (let i = startIndex; i < x.issues.length; i++) {\n        if (x.issues[i]?.continue !== true) {\n            return true;\n        }\n    }\n    return false;\n}\nexport function prefixIssues(path, issues) {\n    return issues.map((iss) => {\n        var _a;\n        (_a = iss).path ?? (_a.path = []);\n        iss.path.unshift(path);\n        return iss;\n    });\n}\nexport function unwrapMessage(message) {\n    return typeof message === \"string\" ? message : message?.message;\n}\nexport function finalizeIssue(iss, ctx, config) {\n    const full = { ...iss, path: iss.path ?? [] };\n    // for backwards compatibility\n    if (!iss.message) {\n        const message = unwrapMessage(iss.inst?._zod.def?.error?.(iss)) ??\n            unwrapMessage(ctx?.error?.(iss)) ??\n            unwrapMessage(config.customError?.(iss)) ??\n            unwrapMessage(config.localeError?.(iss)) ??\n            \"Invalid input\";\n        full.message = message;\n    }\n    // delete (full as any).def;\n    delete full.inst;\n    delete full.continue;\n    if (!ctx?.reportInput) {\n        delete full.input;\n    }\n    return full;\n}\nexport function getSizableOrigin(input) {\n    if (input instanceof Set)\n        return \"set\";\n    if (input instanceof Map)\n        return \"map\";\n    // @ts-ignore\n    if (input instanceof File)\n        return \"file\";\n    return \"unknown\";\n}\nexport function getLengthableOrigin(input) {\n    if (Array.isArray(input))\n        return \"array\";\n    if (typeof input === \"string\")\n        return \"string\";\n    return \"unknown\";\n}\nexport function issue(...args) {\n    const [iss, input, inst] = args;\n    if (typeof iss === \"string\") {\n        return {\n            message: iss,\n            code: \"custom\",\n            input,\n            inst,\n        };\n    }\n    return { ...iss };\n}\nexport function cleanEnum(obj) {\n    return Object.entries(obj)\n        .filter(([k, _]) => {\n        // return true if NaN, meaning it's not a number, thus a string key\n        return Number.isNaN(Number.parseInt(k, 10));\n    })\n        .map((el) => el[1]);\n}\n// Codec utility functions\nexport function base64ToUint8Array(base64) {\n    const binaryString = atob(base64);\n    const bytes = new Uint8Array(binaryString.length);\n    for (let i = 0; i < binaryString.length; i++) {\n        bytes[i] = binaryString.charCodeAt(i);\n    }\n    return bytes;\n}\nexport function uint8ArrayToBase64(bytes) {\n    let binaryString = \"\";\n    for (let i = 0; i < bytes.length; i++) {\n        binaryString += String.fromCharCode(bytes[i]);\n    }\n    return btoa(binaryString);\n}\nexport function base64urlToUint8Array(base64url) {\n    const base64 = base64url.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    const padding = \"=\".repeat((4 - (base64.length % 4)) % 4);\n    return base64ToUint8Array(base64 + padding);\n}\nexport function uint8ArrayToBase64url(bytes) {\n    return uint8ArrayToBase64(bytes).replace(/\\+/g, \"-\").replace(/\\//g, \"_\").replace(/=/g, \"\");\n}\nexport function hexToUint8Array(hex) {\n    const cleanHex = hex.replace(/^0x/, \"\");\n    if (cleanHex.length % 2 !== 0) {\n        throw new Error(\"Invalid hex string length\");\n    }\n    const bytes = new Uint8Array(cleanHex.length / 2);\n    for (let i = 0; i < cleanHex.length; i += 2) {\n        bytes[i / 2] = Number.parseInt(cleanHex.slice(i, i + 2), 16);\n    }\n    return bytes;\n}\nexport function uint8ArrayToHex(bytes) {\n    return Array.from(bytes)\n        .map((b) => b.toString(16).padStart(2, \"0\"))\n        .join(\"\");\n}\n// instanceof\nexport class Class {\n    constructor(..._args) { }\n}\n","import { $constructor } from \"./core.js\";\nimport * as util from \"./util.js\";\nconst initializer = (inst, def) => {\n    inst.name = \"$ZodError\";\n    Object.defineProperty(inst, \"_zod\", {\n        value: inst._zod,\n        enumerable: false,\n    });\n    Object.defineProperty(inst, \"issues\", {\n        value: def,\n        enumerable: false,\n    });\n    inst.message = JSON.stringify(def, util.jsonStringifyReplacer, 2);\n    Object.defineProperty(inst, \"toString\", {\n        value: () => inst.message,\n        enumerable: false,\n    });\n};\nexport const $ZodError = $constructor(\"$ZodError\", initializer);\nexport const $ZodRealError = $constructor(\"$ZodError\", initializer, { Parent: Error });\nexport function flattenError(error, mapper = (issue) => issue.message) {\n    const fieldErrors = {};\n    const formErrors = [];\n    for (const sub of error.issues) {\n        if (sub.path.length > 0) {\n            fieldErrors[sub.path[0]] = fieldErrors[sub.path[0]] || [];\n            fieldErrors[sub.path[0]].push(mapper(sub));\n        }\n        else {\n            formErrors.push(mapper(sub));\n        }\n    }\n    return { formErrors, fieldErrors };\n}\nexport function formatError(error, mapper = (issue) => issue.message) {\n    const fieldErrors = { _errors: [] };\n    const processError = (error) => {\n        for (const issue of error.issues) {\n            if (issue.code === \"invalid_union\" && issue.errors.length) {\n                issue.errors.map((issues) => processError({ issues }));\n            }\n            else if (issue.code === \"invalid_key\") {\n                processError({ issues: issue.issues });\n            }\n            else if (issue.code === \"invalid_element\") {\n                processError({ issues: issue.issues });\n            }\n            else if (issue.path.length === 0) {\n                fieldErrors._errors.push(mapper(issue));\n            }\n            else {\n                let curr = fieldErrors;\n                let i = 0;\n                while (i < issue.path.length) {\n                    const el = issue.path[i];\n                    const terminal = i === issue.path.length - 1;\n                    if (!terminal) {\n                        curr[el] = curr[el] || { _errors: [] };\n                    }\n                    else {\n                        curr[el] = curr[el] || { _errors: [] };\n                        curr[el]._errors.push(mapper(issue));\n                    }\n                    curr = curr[el];\n                    i++;\n                }\n            }\n        }\n    };\n    processError(error);\n    return fieldErrors;\n}\nexport function treeifyError(error, mapper = (issue) => issue.message) {\n    const result = { errors: [] };\n    const processError = (error, path = []) => {\n        var _a, _b;\n        for (const issue of error.issues) {\n            if (issue.code === \"invalid_union\" && issue.errors.length) {\n                // regular union error\n                issue.errors.map((issues) => processError({ issues }, issue.path));\n            }\n            else if (issue.code === \"invalid_key\") {\n                processError({ issues: issue.issues }, issue.path);\n            }\n            else if (issue.code === \"invalid_element\") {\n                processError({ issues: issue.issues }, issue.path);\n            }\n            else {\n                const fullpath = [...path, ...issue.path];\n                if (fullpath.length === 0) {\n                    result.errors.push(mapper(issue));\n                    continue;\n                }\n                let curr = result;\n                let i = 0;\n                while (i < fullpath.length) {\n                    const el = fullpath[i];\n                    const terminal = i === fullpath.length - 1;\n                    if (typeof el === \"string\") {\n                        curr.properties ?? (curr.properties = {});\n                        (_a = curr.properties)[el] ?? (_a[el] = { errors: [] });\n                        curr = curr.properties[el];\n                    }\n                    else {\n                        curr.items ?? (curr.items = []);\n                        (_b = curr.items)[el] ?? (_b[el] = { errors: [] });\n                        curr = curr.items[el];\n                    }\n                    if (terminal) {\n                        curr.errors.push(mapper(issue));\n                    }\n                    i++;\n                }\n            }\n        }\n    };\n    processError(error);\n    return result;\n}\n/** Format a ZodError as a human-readable string in the following form.\n *\n * From\n *\n * ```ts\n * ZodError {\n *   issues: [\n *     {\n *       expected: 'string',\n *       code: 'invalid_type',\n *       path: [ 'username' ],\n *       message: 'Invalid input: expected string'\n *     },\n *     {\n *       expected: 'number',\n *       code: 'invalid_type',\n *       path: [ 'favoriteNumbers', 1 ],\n *       message: 'Invalid input: expected number'\n *     }\n *   ];\n * }\n * ```\n *\n * to\n *\n * ```\n * username\n *    Expected number, received string at \"username\n * favoriteNumbers[0]\n *    Invalid input: expected number\n * ```\n */\nexport function toDotPath(_path) {\n    const segs = [];\n    const path = _path.map((seg) => (typeof seg === \"object\" ? seg.key : seg));\n    for (const seg of path) {\n        if (typeof seg === \"number\")\n            segs.push(`[${seg}]`);\n        else if (typeof seg === \"symbol\")\n            segs.push(`[${JSON.stringify(String(seg))}]`);\n        else if (/[^\\w$]/.test(seg))\n            segs.push(`[${JSON.stringify(seg)}]`);\n        else {\n            if (segs.length)\n                segs.push(\".\");\n            segs.push(seg);\n        }\n    }\n    return segs.join(\"\");\n}\nexport function prettifyError(error) {\n    const lines = [];\n    // sort by path length\n    const issues = [...error.issues].sort((a, b) => (a.path ?? []).length - (b.path ?? []).length);\n    // Process each issue\n    for (const issue of issues) {\n        lines.push(` ${issue.message}`);\n        if (issue.path?.length)\n            lines.push(`   at ${toDotPath(issue.path)}`);\n    }\n    // Convert Map to formatted string\n    return lines.join(\"\\n\");\n}\n","import * as core from \"./core.js\";\nimport * as errors from \"./errors.js\";\nimport * as util from \"./util.js\";\nexport const _parse = (_Err) => (schema, value, _ctx, _params) => {\n    const ctx = _ctx ? Object.assign(_ctx, { async: false }) : { async: false };\n    const result = schema._zod.run({ value, issues: [] }, ctx);\n    if (result instanceof Promise) {\n        throw new core.$ZodAsyncError();\n    }\n    if (result.issues.length) {\n        const e = new (_params?.Err ?? _Err)(result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())));\n        util.captureStackTrace(e, _params?.callee);\n        throw e;\n    }\n    return result.value;\n};\nexport const parse = /* @__PURE__*/ _parse(errors.$ZodRealError);\nexport const _parseAsync = (_Err) => async (schema, value, _ctx, params) => {\n    const ctx = _ctx ? Object.assign(_ctx, { async: true }) : { async: true };\n    let result = schema._zod.run({ value, issues: [] }, ctx);\n    if (result instanceof Promise)\n        result = await result;\n    if (result.issues.length) {\n        const e = new (params?.Err ?? _Err)(result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())));\n        util.captureStackTrace(e, params?.callee);\n        throw e;\n    }\n    return result.value;\n};\nexport const parseAsync = /* @__PURE__*/ _parseAsync(errors.$ZodRealError);\nexport const _safeParse = (_Err) => (schema, value, _ctx) => {\n    const ctx = _ctx ? { ..._ctx, async: false } : { async: false };\n    const result = schema._zod.run({ value, issues: [] }, ctx);\n    if (result instanceof Promise) {\n        throw new core.$ZodAsyncError();\n    }\n    return result.issues.length\n        ? {\n            success: false,\n            error: new (_Err ?? errors.$ZodError)(result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config()))),\n        }\n        : { success: true, data: result.value };\n};\nexport const safeParse = /* @__PURE__*/ _safeParse(errors.$ZodRealError);\nexport const _safeParseAsync = (_Err) => async (schema, value, _ctx) => {\n    const ctx = _ctx ? Object.assign(_ctx, { async: true }) : { async: true };\n    let result = schema._zod.run({ value, issues: [] }, ctx);\n    if (result instanceof Promise)\n        result = await result;\n    return result.issues.length\n        ? {\n            success: false,\n            error: new _Err(result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config()))),\n        }\n        : { success: true, data: result.value };\n};\nexport const safeParseAsync = /* @__PURE__*/ _safeParseAsync(errors.$ZodRealError);\nexport const _encode = (_Err) => (schema, value, _ctx) => {\n    const ctx = _ctx ? Object.assign(_ctx, { direction: \"backward\" }) : { direction: \"backward\" };\n    return _parse(_Err)(schema, value, ctx);\n};\nexport const encode = /* @__PURE__*/ _encode(errors.$ZodRealError);\nexport const _decode = (_Err) => (schema, value, _ctx) => {\n    return _parse(_Err)(schema, value, _ctx);\n};\nexport const decode = /* @__PURE__*/ _decode(errors.$ZodRealError);\nexport const _encodeAsync = (_Err) => async (schema, value, _ctx) => {\n    const ctx = _ctx ? Object.assign(_ctx, { direction: \"backward\" }) : { direction: \"backward\" };\n    return _parseAsync(_Err)(schema, value, ctx);\n};\nexport const encodeAsync = /* @__PURE__*/ _encodeAsync(errors.$ZodRealError);\nexport const _decodeAsync = (_Err) => async (schema, value, _ctx) => {\n    return _parseAsync(_Err)(schema, value, _ctx);\n};\nexport const decodeAsync = /* @__PURE__*/ _decodeAsync(errors.$ZodRealError);\nexport const _safeEncode = (_Err) => (schema, value, _ctx) => {\n    const ctx = _ctx ? Object.assign(_ctx, { direction: \"backward\" }) : { direction: \"backward\" };\n    return _safeParse(_Err)(schema, value, ctx);\n};\nexport const safeEncode = /* @__PURE__*/ _safeEncode(errors.$ZodRealError);\nexport const _safeDecode = (_Err) => (schema, value, _ctx) => {\n    return _safeParse(_Err)(schema, value, _ctx);\n};\nexport const safeDecode = /* @__PURE__*/ _safeDecode(errors.$ZodRealError);\nexport const _safeEncodeAsync = (_Err) => async (schema, value, _ctx) => {\n    const ctx = _ctx ? Object.assign(_ctx, { direction: \"backward\" }) : { direction: \"backward\" };\n    return _safeParseAsync(_Err)(schema, value, ctx);\n};\nexport const safeEncodeAsync = /* @__PURE__*/ _safeEncodeAsync(errors.$ZodRealError);\nexport const _safeDecodeAsync = (_Err) => async (schema, value, _ctx) => {\n    return _safeParseAsync(_Err)(schema, value, _ctx);\n};\nexport const safeDecodeAsync = /* @__PURE__*/ _safeDecodeAsync(errors.$ZodRealError);\n","export const cuid = /^[cC][^\\s-]{8,}$/;\nexport const cuid2 = /^[0-9a-z]+$/;\nexport const ulid = /^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/;\nexport const xid = /^[0-9a-vA-V]{20}$/;\nexport const ksuid = /^[A-Za-z0-9]{27}$/;\nexport const nanoid = /^[a-zA-Z0-9_-]{21}$/;\n/** ISO 8601-1 duration regex. Does not support the 8601-2 extensions like negative durations or fractional/negative components. */\nexport const duration = /^P(?:(\\d+W)|(?!.*W)(?=\\d|T\\d)(\\d+Y)?(\\d+M)?(\\d+D)?(T(?=\\d)(\\d+H)?(\\d+M)?(\\d+([.,]\\d+)?S)?)?)$/;\n/** Implements ISO 8601-2 extensions like explicit +- prefixes, mixing weeks with other units, and fractional/negative components. */\nexport const extendedDuration = /^[-+]?P(?!$)(?:(?:[-+]?\\d+Y)|(?:[-+]?\\d+[.,]\\d+Y$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:(?:[-+]?\\d+W)|(?:[-+]?\\d+[.,]\\d+W$))?(?:(?:[-+]?\\d+D)|(?:[-+]?\\d+[.,]\\d+D$))?(?:T(?=[\\d+-])(?:(?:[-+]?\\d+H)|(?:[-+]?\\d+[.,]\\d+H$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:[-+]?\\d+(?:[.,]\\d+)?S)?)??$/;\n/** A regex for any UUID-like identifier: 8-4-4-4-12 hex pattern */\nexport const guid = /^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/;\n/** Returns a regex for validating an RFC 9562/4122 UUID.\n *\n * @param version Optionally specify a version 1-8. If no version is specified, all versions are supported. */\nexport const uuid = (version) => {\n    if (!version)\n        return /^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/;\n    return new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${version}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`);\n};\nexport const uuid4 = /*@__PURE__*/ uuid(4);\nexport const uuid6 = /*@__PURE__*/ uuid(6);\nexport const uuid7 = /*@__PURE__*/ uuid(7);\n/** Practical email validation */\nexport const email = /^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$/;\n/** Equivalent to the HTML5 input[type=email] validation implemented by browsers. Source: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/email */\nexport const html5Email = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n/** The classic emailregex.com regex for RFC 5322-compliant emails */\nexport const rfc5322Email = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n/** A loose regex that allows Unicode characters, enforces length limits, and that's about it. */\nexport const unicodeEmail = /^[^\\s@\"]{1,64}@[^\\s@]{1,255}$/u;\nexport const idnEmail = unicodeEmail;\nexport const browserEmail = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n// from https://thekevinscott.com/emojis-in-javascript/#writing-a-regular-expression\nconst _emoji = `^(\\\\p{Extended_Pictographic}|\\\\p{Emoji_Component})+$`;\nexport function emoji() {\n    return new RegExp(_emoji, \"u\");\n}\nexport const ipv4 = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/;\nexport const ipv6 = /^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/;\nexport const cidrv4 = /^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\/([0-9]|[1-2][0-9]|3[0-2])$/;\nexport const cidrv6 = /^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/;\n// https://stackoverflow.com/questions/7860392/determine-if-string-is-in-base64-using-javascript\nexport const base64 = /^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/;\nexport const base64url = /^[A-Za-z0-9_-]*$/;\n// based on https://stackoverflow.com/questions/106179/regular-expression-to-match-dns-hostname-or-ip-address\n// export const hostname: RegExp = /^([a-zA-Z0-9-]+\\.)*[a-zA-Z0-9-]+$/;\nexport const hostname = /^(?=.{1,253}\\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\\.?$/;\nexport const domain = /^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\\.)+[a-zA-Z]{2,}$/;\n// https://blog.stevenlevithan.com/archives/validate-phone-number#r4-3 (regex sans spaces)\nexport const e164 = /^\\+(?:[0-9]){6,14}[0-9]$/;\n// const dateSource = `((\\\\d\\\\d[2468][048]|\\\\d\\\\d[13579][26]|\\\\d\\\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\\\d|30)|(02)-(0[1-9]|1\\\\d|2[0-8])))`;\nconst dateSource = `(?:(?:\\\\d\\\\d[2468][048]|\\\\d\\\\d[13579][26]|\\\\d\\\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\\\d|30)|(?:02)-(?:0[1-9]|1\\\\d|2[0-8])))`;\nexport const date = /*@__PURE__*/ new RegExp(`^${dateSource}$`);\nfunction timeSource(args) {\n    const hhmm = `(?:[01]\\\\d|2[0-3]):[0-5]\\\\d`;\n    const regex = typeof args.precision === \"number\"\n        ? args.precision === -1\n            ? `${hhmm}`\n            : args.precision === 0\n                ? `${hhmm}:[0-5]\\\\d`\n                : `${hhmm}:[0-5]\\\\d\\\\.\\\\d{${args.precision}}`\n        : `${hhmm}(?::[0-5]\\\\d(?:\\\\.\\\\d+)?)?`;\n    return regex;\n}\nexport function time(args) {\n    return new RegExp(`^${timeSource(args)}$`);\n}\n// Adapted from https://stackoverflow.com/a/3143231\nexport function datetime(args) {\n    const time = timeSource({ precision: args.precision });\n    const opts = [\"Z\"];\n    if (args.local)\n        opts.push(\"\");\n    // if (args.offset) opts.push(`([+-]\\\\d{2}:\\\\d{2})`);\n    if (args.offset)\n        opts.push(`([+-](?:[01]\\\\d|2[0-3]):[0-5]\\\\d)`);\n    const timeRegex = `${time}(?:${opts.join(\"|\")})`;\n    return new RegExp(`^${dateSource}T(?:${timeRegex})$`);\n}\nexport const string = (params) => {\n    const regex = params ? `[\\\\s\\\\S]{${params?.minimum ?? 0},${params?.maximum ?? \"\"}}` : `[\\\\s\\\\S]*`;\n    return new RegExp(`^${regex}$`);\n};\nexport const bigint = /^-?\\d+n?$/;\nexport const integer = /^-?\\d+$/;\nexport const number = /^-?\\d+(?:\\.\\d+)?/;\nexport const boolean = /^(?:true|false)$/i;\nconst _null = /^null$/i;\nexport { _null as null };\nconst _undefined = /^undefined$/i;\nexport { _undefined as undefined };\n// regex for string with no uppercase letters\nexport const lowercase = /^[^A-Z]*$/;\n// regex for string with no lowercase letters\nexport const uppercase = /^[^a-z]*$/;\n// regex for hexadecimal strings (any length)\nexport const hex = /^[0-9a-fA-F]*$/;\n// Hash regexes for different algorithms and encodings\n// Helper function to create base64 regex with exact length and padding\nfunction fixedBase64(bodyLength, padding) {\n    return new RegExp(`^[A-Za-z0-9+/]{${bodyLength}}${padding}$`);\n}\n// Helper function to create base64url regex with exact length (no padding)\nfunction fixedBase64url(length) {\n    return new RegExp(`^[A-Za-z0-9_-]{${length}}$`);\n}\n// MD5 (16 bytes): base64 = 24 chars total (22 + \"==\")\nexport const md5_hex = /^[0-9a-fA-F]{32}$/;\nexport const md5_base64 = /*@__PURE__*/ fixedBase64(22, \"==\");\nexport const md5_base64url = /*@__PURE__*/ fixedBase64url(22);\n// SHA1 (20 bytes): base64 = 28 chars total (27 + \"=\")\nexport const sha1_hex = /^[0-9a-fA-F]{40}$/;\nexport const sha1_base64 = /*@__PURE__*/ fixedBase64(27, \"=\");\nexport const sha1_base64url = /*@__PURE__*/ fixedBase64url(27);\n// SHA256 (32 bytes): base64 = 44 chars total (43 + \"=\")\nexport const sha256_hex = /^[0-9a-fA-F]{64}$/;\nexport const sha256_base64 = /*@__PURE__*/ fixedBase64(43, \"=\");\nexport const sha256_base64url = /*@__PURE__*/ fixedBase64url(43);\n// SHA384 (48 bytes): base64 = 64 chars total (no padding)\nexport const sha384_hex = /^[0-9a-fA-F]{96}$/;\nexport const sha384_base64 = /*@__PURE__*/ fixedBase64(64, \"\");\nexport const sha384_base64url = /*@__PURE__*/ fixedBase64url(64);\n// SHA512 (64 bytes): base64 = 88 chars total (86 + \"==\")\nexport const sha512_hex = /^[0-9a-fA-F]{128}$/;\nexport const sha512_base64 = /*@__PURE__*/ fixedBase64(86, \"==\");\nexport const sha512_base64url = /*@__PURE__*/ fixedBase64url(86);\n","// import { $ZodType } from \"./schemas.js\";\nimport * as core from \"./core.js\";\nimport * as regexes from \"./regexes.js\";\nimport * as util from \"./util.js\";\nexport const $ZodCheck = /*@__PURE__*/ core.$constructor(\"$ZodCheck\", (inst, def) => {\n    var _a;\n    inst._zod ?? (inst._zod = {});\n    inst._zod.def = def;\n    (_a = inst._zod).onattach ?? (_a.onattach = []);\n});\nconst numericOriginMap = {\n    number: \"number\",\n    bigint: \"bigint\",\n    object: \"date\",\n};\nexport const $ZodCheckLessThan = /*@__PURE__*/ core.$constructor(\"$ZodCheckLessThan\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    const origin = numericOriginMap[typeof def.value];\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        const curr = (def.inclusive ? bag.maximum : bag.exclusiveMaximum) ?? Number.POSITIVE_INFINITY;\n        if (def.value < curr) {\n            if (def.inclusive)\n                bag.maximum = def.value;\n            else\n                bag.exclusiveMaximum = def.value;\n        }\n    });\n    inst._zod.check = (payload) => {\n        if (def.inclusive ? payload.value <= def.value : payload.value < def.value) {\n            return;\n        }\n        payload.issues.push({\n            origin,\n            code: \"too_big\",\n            maximum: def.value,\n            input: payload.value,\n            inclusive: def.inclusive,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckGreaterThan = /*@__PURE__*/ core.$constructor(\"$ZodCheckGreaterThan\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    const origin = numericOriginMap[typeof def.value];\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        const curr = (def.inclusive ? bag.minimum : bag.exclusiveMinimum) ?? Number.NEGATIVE_INFINITY;\n        if (def.value > curr) {\n            if (def.inclusive)\n                bag.minimum = def.value;\n            else\n                bag.exclusiveMinimum = def.value;\n        }\n    });\n    inst._zod.check = (payload) => {\n        if (def.inclusive ? payload.value >= def.value : payload.value > def.value) {\n            return;\n        }\n        payload.issues.push({\n            origin,\n            code: \"too_small\",\n            minimum: def.value,\n            input: payload.value,\n            inclusive: def.inclusive,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckMultipleOf = \n/*@__PURE__*/ core.$constructor(\"$ZodCheckMultipleOf\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    inst._zod.onattach.push((inst) => {\n        var _a;\n        (_a = inst._zod.bag).multipleOf ?? (_a.multipleOf = def.value);\n    });\n    inst._zod.check = (payload) => {\n        if (typeof payload.value !== typeof def.value)\n            throw new Error(\"Cannot mix number and bigint in multiple_of check.\");\n        const isMultiple = typeof payload.value === \"bigint\"\n            ? payload.value % def.value === BigInt(0)\n            : util.floatSafeRemainder(payload.value, def.value) === 0;\n        if (isMultiple)\n            return;\n        payload.issues.push({\n            origin: typeof payload.value,\n            code: \"not_multiple_of\",\n            divisor: def.value,\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckNumberFormat = /*@__PURE__*/ core.$constructor(\"$ZodCheckNumberFormat\", (inst, def) => {\n    $ZodCheck.init(inst, def); // no format checks\n    def.format = def.format || \"float64\";\n    const isInt = def.format?.includes(\"int\");\n    const origin = isInt ? \"int\" : \"number\";\n    const [minimum, maximum] = util.NUMBER_FORMAT_RANGES[def.format];\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.format = def.format;\n        bag.minimum = minimum;\n        bag.maximum = maximum;\n        if (isInt)\n            bag.pattern = regexes.integer;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        if (isInt) {\n            if (!Number.isInteger(input)) {\n                // invalid_format issue\n                // payload.issues.push({\n                //   expected: def.format,\n                //   format: def.format,\n                //   code: \"invalid_format\",\n                //   input,\n                //   inst,\n                // });\n                // invalid_type issue\n                payload.issues.push({\n                    expected: origin,\n                    format: def.format,\n                    code: \"invalid_type\",\n                    continue: false,\n                    input,\n                    inst,\n                });\n                return;\n                // not_multiple_of issue\n                // payload.issues.push({\n                //   code: \"not_multiple_of\",\n                //   origin: \"number\",\n                //   input,\n                //   inst,\n                //   divisor: 1,\n                // });\n            }\n            if (!Number.isSafeInteger(input)) {\n                if (input > 0) {\n                    // too_big\n                    payload.issues.push({\n                        input,\n                        code: \"too_big\",\n                        maximum: Number.MAX_SAFE_INTEGER,\n                        note: \"Integers must be within the safe integer range.\",\n                        inst,\n                        origin,\n                        continue: !def.abort,\n                    });\n                }\n                else {\n                    // too_small\n                    payload.issues.push({\n                        input,\n                        code: \"too_small\",\n                        minimum: Number.MIN_SAFE_INTEGER,\n                        note: \"Integers must be within the safe integer range.\",\n                        inst,\n                        origin,\n                        continue: !def.abort,\n                    });\n                }\n                return;\n            }\n        }\n        if (input < minimum) {\n            payload.issues.push({\n                origin: \"number\",\n                input,\n                code: \"too_small\",\n                minimum,\n                inclusive: true,\n                inst,\n                continue: !def.abort,\n            });\n        }\n        if (input > maximum) {\n            payload.issues.push({\n                origin: \"number\",\n                input,\n                code: \"too_big\",\n                maximum,\n                inst,\n            });\n        }\n    };\n});\nexport const $ZodCheckBigIntFormat = /*@__PURE__*/ core.$constructor(\"$ZodCheckBigIntFormat\", (inst, def) => {\n    $ZodCheck.init(inst, def); // no format checks\n    const [minimum, maximum] = util.BIGINT_FORMAT_RANGES[def.format];\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.format = def.format;\n        bag.minimum = minimum;\n        bag.maximum = maximum;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        if (input < minimum) {\n            payload.issues.push({\n                origin: \"bigint\",\n                input,\n                code: \"too_small\",\n                minimum: minimum,\n                inclusive: true,\n                inst,\n                continue: !def.abort,\n            });\n        }\n        if (input > maximum) {\n            payload.issues.push({\n                origin: \"bigint\",\n                input,\n                code: \"too_big\",\n                maximum,\n                inst,\n            });\n        }\n    };\n});\nexport const $ZodCheckMaxSize = /*@__PURE__*/ core.$constructor(\"$ZodCheckMaxSize\", (inst, def) => {\n    var _a;\n    $ZodCheck.init(inst, def);\n    (_a = inst._zod.def).when ?? (_a.when = (payload) => {\n        const val = payload.value;\n        return !util.nullish(val) && val.size !== undefined;\n    });\n    inst._zod.onattach.push((inst) => {\n        const curr = (inst._zod.bag.maximum ?? Number.POSITIVE_INFINITY);\n        if (def.maximum < curr)\n            inst._zod.bag.maximum = def.maximum;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        const size = input.size;\n        if (size <= def.maximum)\n            return;\n        payload.issues.push({\n            origin: util.getSizableOrigin(input),\n            code: \"too_big\",\n            maximum: def.maximum,\n            inclusive: true,\n            input,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckMinSize = /*@__PURE__*/ core.$constructor(\"$ZodCheckMinSize\", (inst, def) => {\n    var _a;\n    $ZodCheck.init(inst, def);\n    (_a = inst._zod.def).when ?? (_a.when = (payload) => {\n        const val = payload.value;\n        return !util.nullish(val) && val.size !== undefined;\n    });\n    inst._zod.onattach.push((inst) => {\n        const curr = (inst._zod.bag.minimum ?? Number.NEGATIVE_INFINITY);\n        if (def.minimum > curr)\n            inst._zod.bag.minimum = def.minimum;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        const size = input.size;\n        if (size >= def.minimum)\n            return;\n        payload.issues.push({\n            origin: util.getSizableOrigin(input),\n            code: \"too_small\",\n            minimum: def.minimum,\n            inclusive: true,\n            input,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckSizeEquals = /*@__PURE__*/ core.$constructor(\"$ZodCheckSizeEquals\", (inst, def) => {\n    var _a;\n    $ZodCheck.init(inst, def);\n    (_a = inst._zod.def).when ?? (_a.when = (payload) => {\n        const val = payload.value;\n        return !util.nullish(val) && val.size !== undefined;\n    });\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.minimum = def.size;\n        bag.maximum = def.size;\n        bag.size = def.size;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        const size = input.size;\n        if (size === def.size)\n            return;\n        const tooBig = size > def.size;\n        payload.issues.push({\n            origin: util.getSizableOrigin(input),\n            ...(tooBig ? { code: \"too_big\", maximum: def.size } : { code: \"too_small\", minimum: def.size }),\n            inclusive: true,\n            exact: true,\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckMaxLength = /*@__PURE__*/ core.$constructor(\"$ZodCheckMaxLength\", (inst, def) => {\n    var _a;\n    $ZodCheck.init(inst, def);\n    (_a = inst._zod.def).when ?? (_a.when = (payload) => {\n        const val = payload.value;\n        return !util.nullish(val) && val.length !== undefined;\n    });\n    inst._zod.onattach.push((inst) => {\n        const curr = (inst._zod.bag.maximum ?? Number.POSITIVE_INFINITY);\n        if (def.maximum < curr)\n            inst._zod.bag.maximum = def.maximum;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        const length = input.length;\n        if (length <= def.maximum)\n            return;\n        const origin = util.getLengthableOrigin(input);\n        payload.issues.push({\n            origin,\n            code: \"too_big\",\n            maximum: def.maximum,\n            inclusive: true,\n            input,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckMinLength = /*@__PURE__*/ core.$constructor(\"$ZodCheckMinLength\", (inst, def) => {\n    var _a;\n    $ZodCheck.init(inst, def);\n    (_a = inst._zod.def).when ?? (_a.when = (payload) => {\n        const val = payload.value;\n        return !util.nullish(val) && val.length !== undefined;\n    });\n    inst._zod.onattach.push((inst) => {\n        const curr = (inst._zod.bag.minimum ?? Number.NEGATIVE_INFINITY);\n        if (def.minimum > curr)\n            inst._zod.bag.minimum = def.minimum;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        const length = input.length;\n        if (length >= def.minimum)\n            return;\n        const origin = util.getLengthableOrigin(input);\n        payload.issues.push({\n            origin,\n            code: \"too_small\",\n            minimum: def.minimum,\n            inclusive: true,\n            input,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckLengthEquals = /*@__PURE__*/ core.$constructor(\"$ZodCheckLengthEquals\", (inst, def) => {\n    var _a;\n    $ZodCheck.init(inst, def);\n    (_a = inst._zod.def).when ?? (_a.when = (payload) => {\n        const val = payload.value;\n        return !util.nullish(val) && val.length !== undefined;\n    });\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.minimum = def.length;\n        bag.maximum = def.length;\n        bag.length = def.length;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        const length = input.length;\n        if (length === def.length)\n            return;\n        const origin = util.getLengthableOrigin(input);\n        const tooBig = length > def.length;\n        payload.issues.push({\n            origin,\n            ...(tooBig ? { code: \"too_big\", maximum: def.length } : { code: \"too_small\", minimum: def.length }),\n            inclusive: true,\n            exact: true,\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckStringFormat = /*@__PURE__*/ core.$constructor(\"$ZodCheckStringFormat\", (inst, def) => {\n    var _a, _b;\n    $ZodCheck.init(inst, def);\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.format = def.format;\n        if (def.pattern) {\n            bag.patterns ?? (bag.patterns = new Set());\n            bag.patterns.add(def.pattern);\n        }\n    });\n    if (def.pattern)\n        (_a = inst._zod).check ?? (_a.check = (payload) => {\n            def.pattern.lastIndex = 0;\n            if (def.pattern.test(payload.value))\n                return;\n            payload.issues.push({\n                origin: \"string\",\n                code: \"invalid_format\",\n                format: def.format,\n                input: payload.value,\n                ...(def.pattern ? { pattern: def.pattern.toString() } : {}),\n                inst,\n                continue: !def.abort,\n            });\n        });\n    else\n        (_b = inst._zod).check ?? (_b.check = () => { });\n});\nexport const $ZodCheckRegex = /*@__PURE__*/ core.$constructor(\"$ZodCheckRegex\", (inst, def) => {\n    $ZodCheckStringFormat.init(inst, def);\n    inst._zod.check = (payload) => {\n        def.pattern.lastIndex = 0;\n        if (def.pattern.test(payload.value))\n            return;\n        payload.issues.push({\n            origin: \"string\",\n            code: \"invalid_format\",\n            format: \"regex\",\n            input: payload.value,\n            pattern: def.pattern.toString(),\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckLowerCase = /*@__PURE__*/ core.$constructor(\"$ZodCheckLowerCase\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.lowercase);\n    $ZodCheckStringFormat.init(inst, def);\n});\nexport const $ZodCheckUpperCase = /*@__PURE__*/ core.$constructor(\"$ZodCheckUpperCase\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.uppercase);\n    $ZodCheckStringFormat.init(inst, def);\n});\nexport const $ZodCheckIncludes = /*@__PURE__*/ core.$constructor(\"$ZodCheckIncludes\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    const escapedRegex = util.escapeRegex(def.includes);\n    const pattern = new RegExp(typeof def.position === \"number\" ? `^.{${def.position}}${escapedRegex}` : escapedRegex);\n    def.pattern = pattern;\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.patterns ?? (bag.patterns = new Set());\n        bag.patterns.add(pattern);\n    });\n    inst._zod.check = (payload) => {\n        if (payload.value.includes(def.includes, def.position))\n            return;\n        payload.issues.push({\n            origin: \"string\",\n            code: \"invalid_format\",\n            format: \"includes\",\n            includes: def.includes,\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckStartsWith = /*@__PURE__*/ core.$constructor(\"$ZodCheckStartsWith\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    const pattern = new RegExp(`^${util.escapeRegex(def.prefix)}.*`);\n    def.pattern ?? (def.pattern = pattern);\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.patterns ?? (bag.patterns = new Set());\n        bag.patterns.add(pattern);\n    });\n    inst._zod.check = (payload) => {\n        if (payload.value.startsWith(def.prefix))\n            return;\n        payload.issues.push({\n            origin: \"string\",\n            code: \"invalid_format\",\n            format: \"starts_with\",\n            prefix: def.prefix,\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckEndsWith = /*@__PURE__*/ core.$constructor(\"$ZodCheckEndsWith\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    const pattern = new RegExp(`.*${util.escapeRegex(def.suffix)}$`);\n    def.pattern ?? (def.pattern = pattern);\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.patterns ?? (bag.patterns = new Set());\n        bag.patterns.add(pattern);\n    });\n    inst._zod.check = (payload) => {\n        if (payload.value.endsWith(def.suffix))\n            return;\n        payload.issues.push({\n            origin: \"string\",\n            code: \"invalid_format\",\n            format: \"ends_with\",\n            suffix: def.suffix,\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\n///////////////////////////////////\n/////    $ZodCheckProperty    /////\n///////////////////////////////////\nfunction handleCheckPropertyResult(result, payload, property) {\n    if (result.issues.length) {\n        payload.issues.push(...util.prefixIssues(property, result.issues));\n    }\n}\nexport const $ZodCheckProperty = /*@__PURE__*/ core.$constructor(\"$ZodCheckProperty\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    inst._zod.check = (payload) => {\n        const result = def.schema._zod.run({\n            value: payload.value[def.property],\n            issues: [],\n        }, {});\n        if (result instanceof Promise) {\n            return result.then((result) => handleCheckPropertyResult(result, payload, def.property));\n        }\n        handleCheckPropertyResult(result, payload, def.property);\n        return;\n    };\n});\nexport const $ZodCheckMimeType = /*@__PURE__*/ core.$constructor(\"$ZodCheckMimeType\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    const mimeSet = new Set(def.mime);\n    inst._zod.onattach.push((inst) => {\n        inst._zod.bag.mime = def.mime;\n    });\n    inst._zod.check = (payload) => {\n        if (mimeSet.has(payload.value.type))\n            return;\n        payload.issues.push({\n            code: \"invalid_value\",\n            values: def.mime,\n            input: payload.value.type,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckOverwrite = /*@__PURE__*/ core.$constructor(\"$ZodCheckOverwrite\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    inst._zod.check = (payload) => {\n        payload.value = def.tx(payload.value);\n    };\n});\n","export class Doc {\n    constructor(args = []) {\n        this.content = [];\n        this.indent = 0;\n        if (this)\n            this.args = args;\n    }\n    indented(fn) {\n        this.indent += 1;\n        fn(this);\n        this.indent -= 1;\n    }\n    write(arg) {\n        if (typeof arg === \"function\") {\n            arg(this, { execution: \"sync\" });\n            arg(this, { execution: \"async\" });\n            return;\n        }\n        const content = arg;\n        const lines = content.split(\"\\n\").filter((x) => x);\n        const minIndent = Math.min(...lines.map((x) => x.length - x.trimStart().length));\n        const dedented = lines.map((x) => x.slice(minIndent)).map((x) => \" \".repeat(this.indent * 2) + x);\n        for (const line of dedented) {\n            this.content.push(line);\n        }\n    }\n    compile() {\n        const F = Function;\n        const args = this?.args;\n        const content = this?.content ?? [``];\n        const lines = [...content.map((x) => `  ${x}`)];\n        // console.log(lines.join(\"\\n\"));\n        return new F(...args, lines.join(\"\\n\"));\n    }\n}\n","export const version = {\n    major: 4,\n    minor: 1,\n    patch: 12,\n};\n","import * as checks from \"./checks.js\";\nimport * as core from \"./core.js\";\nimport { Doc } from \"./doc.js\";\nimport { parse, parseAsync, safeParse, safeParseAsync } from \"./parse.js\";\nimport * as regexes from \"./regexes.js\";\nimport * as util from \"./util.js\";\nimport { version } from \"./versions.js\";\nexport const $ZodType = /*@__PURE__*/ core.$constructor(\"$ZodType\", (inst, def) => {\n    var _a;\n    inst ?? (inst = {});\n    inst._zod.def = def; // set _def property\n    inst._zod.bag = inst._zod.bag || {}; // initialize _bag object\n    inst._zod.version = version;\n    const checks = [...(inst._zod.def.checks ?? [])];\n    // if inst is itself a checks.$ZodCheck, run it as a check\n    if (inst._zod.traits.has(\"$ZodCheck\")) {\n        checks.unshift(inst);\n    }\n    for (const ch of checks) {\n        for (const fn of ch._zod.onattach) {\n            fn(inst);\n        }\n    }\n    if (checks.length === 0) {\n        // deferred initializer\n        // inst._zod.parse is not yet defined\n        (_a = inst._zod).deferred ?? (_a.deferred = []);\n        inst._zod.deferred?.push(() => {\n            inst._zod.run = inst._zod.parse;\n        });\n    }\n    else {\n        const runChecks = (payload, checks, ctx) => {\n            let isAborted = util.aborted(payload);\n            let asyncResult;\n            for (const ch of checks) {\n                if (ch._zod.def.when) {\n                    const shouldRun = ch._zod.def.when(payload);\n                    if (!shouldRun)\n                        continue;\n                }\n                else if (isAborted) {\n                    continue;\n                }\n                const currLen = payload.issues.length;\n                const _ = ch._zod.check(payload);\n                if (_ instanceof Promise && ctx?.async === false) {\n                    throw new core.$ZodAsyncError();\n                }\n                if (asyncResult || _ instanceof Promise) {\n                    asyncResult = (asyncResult ?? Promise.resolve()).then(async () => {\n                        await _;\n                        const nextLen = payload.issues.length;\n                        if (nextLen === currLen)\n                            return;\n                        if (!isAborted)\n                            isAborted = util.aborted(payload, currLen);\n                    });\n                }\n                else {\n                    const nextLen = payload.issues.length;\n                    if (nextLen === currLen)\n                        continue;\n                    if (!isAborted)\n                        isAborted = util.aborted(payload, currLen);\n                }\n            }\n            if (asyncResult) {\n                return asyncResult.then(() => {\n                    return payload;\n                });\n            }\n            return payload;\n        };\n        // const handleChecksResult = (\n        //   checkResult: ParsePayload,\n        //   originalResult: ParsePayload,\n        //   ctx: ParseContextInternal\n        // ): util.MaybeAsync<ParsePayload> => {\n        //   // if the checks mutated the value && there are no issues, re-parse the result\n        //   if (checkResult.value !== originalResult.value && !checkResult.issues.length)\n        //     return inst._zod.parse(checkResult, ctx);\n        //   return originalResult;\n        // };\n        const handleCanaryResult = (canary, payload, ctx) => {\n            // abort if the canary is aborted\n            if (util.aborted(canary)) {\n                canary.aborted = true;\n                return canary;\n            }\n            // run checks first, then\n            const checkResult = runChecks(payload, checks, ctx);\n            if (checkResult instanceof Promise) {\n                if (ctx.async === false)\n                    throw new core.$ZodAsyncError();\n                return checkResult.then((checkResult) => inst._zod.parse(checkResult, ctx));\n            }\n            return inst._zod.parse(checkResult, ctx);\n        };\n        inst._zod.run = (payload, ctx) => {\n            if (ctx.skipChecks) {\n                return inst._zod.parse(payload, ctx);\n            }\n            if (ctx.direction === \"backward\") {\n                // run canary\n                // initial pass (no checks)\n                const canary = inst._zod.parse({ value: payload.value, issues: [] }, { ...ctx, skipChecks: true });\n                if (canary instanceof Promise) {\n                    return canary.then((canary) => {\n                        return handleCanaryResult(canary, payload, ctx);\n                    });\n                }\n                return handleCanaryResult(canary, payload, ctx);\n            }\n            // forward\n            const result = inst._zod.parse(payload, ctx);\n            if (result instanceof Promise) {\n                if (ctx.async === false)\n                    throw new core.$ZodAsyncError();\n                return result.then((result) => runChecks(result, checks, ctx));\n            }\n            return runChecks(result, checks, ctx);\n        };\n    }\n    inst[\"~standard\"] = {\n        validate: (value) => {\n            try {\n                const r = safeParse(inst, value);\n                return r.success ? { value: r.data } : { issues: r.error?.issues };\n            }\n            catch (_) {\n                return safeParseAsync(inst, value).then((r) => (r.success ? { value: r.data } : { issues: r.error?.issues }));\n            }\n        },\n        vendor: \"zod\",\n        version: 1,\n    };\n});\nexport { clone } from \"./util.js\";\nexport const $ZodString = /*@__PURE__*/ core.$constructor(\"$ZodString\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.pattern = [...(inst?._zod.bag?.patterns ?? [])].pop() ?? regexes.string(inst._zod.bag);\n    inst._zod.parse = (payload, _) => {\n        if (def.coerce)\n            try {\n                payload.value = String(payload.value);\n            }\n            catch (_) { }\n        if (typeof payload.value === \"string\")\n            return payload;\n        payload.issues.push({\n            expected: \"string\",\n            code: \"invalid_type\",\n            input: payload.value,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodStringFormat = /*@__PURE__*/ core.$constructor(\"$ZodStringFormat\", (inst, def) => {\n    // check initialization must come first\n    checks.$ZodCheckStringFormat.init(inst, def);\n    $ZodString.init(inst, def);\n});\nexport const $ZodGUID = /*@__PURE__*/ core.$constructor(\"$ZodGUID\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.guid);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodUUID = /*@__PURE__*/ core.$constructor(\"$ZodUUID\", (inst, def) => {\n    if (def.version) {\n        const versionMap = {\n            v1: 1,\n            v2: 2,\n            v3: 3,\n            v4: 4,\n            v5: 5,\n            v6: 6,\n            v7: 7,\n            v8: 8,\n        };\n        const v = versionMap[def.version];\n        if (v === undefined)\n            throw new Error(`Invalid UUID version: \"${def.version}\"`);\n        def.pattern ?? (def.pattern = regexes.uuid(v));\n    }\n    else\n        def.pattern ?? (def.pattern = regexes.uuid());\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodEmail = /*@__PURE__*/ core.$constructor(\"$ZodEmail\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.email);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodURL = /*@__PURE__*/ core.$constructor(\"$ZodURL\", (inst, def) => {\n    $ZodStringFormat.init(inst, def);\n    inst._zod.check = (payload) => {\n        try {\n            // Trim whitespace from input\n            const trimmed = payload.value.trim();\n            // @ts-ignore\n            const url = new URL(trimmed);\n            if (def.hostname) {\n                def.hostname.lastIndex = 0;\n                if (!def.hostname.test(url.hostname)) {\n                    payload.issues.push({\n                        code: \"invalid_format\",\n                        format: \"url\",\n                        note: \"Invalid hostname\",\n                        pattern: regexes.hostname.source,\n                        input: payload.value,\n                        inst,\n                        continue: !def.abort,\n                    });\n                }\n            }\n            if (def.protocol) {\n                def.protocol.lastIndex = 0;\n                if (!def.protocol.test(url.protocol.endsWith(\":\") ? url.protocol.slice(0, -1) : url.protocol)) {\n                    payload.issues.push({\n                        code: \"invalid_format\",\n                        format: \"url\",\n                        note: \"Invalid protocol\",\n                        pattern: def.protocol.source,\n                        input: payload.value,\n                        inst,\n                        continue: !def.abort,\n                    });\n                }\n            }\n            // Set the output value based on normalize flag\n            if (def.normalize) {\n                // Use normalized URL\n                payload.value = url.href;\n            }\n            else {\n                // Preserve the original input (trimmed)\n                payload.value = trimmed;\n            }\n            return;\n        }\n        catch (_) {\n            payload.issues.push({\n                code: \"invalid_format\",\n                format: \"url\",\n                input: payload.value,\n                inst,\n                continue: !def.abort,\n            });\n        }\n    };\n});\nexport const $ZodEmoji = /*@__PURE__*/ core.$constructor(\"$ZodEmoji\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.emoji());\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodNanoID = /*@__PURE__*/ core.$constructor(\"$ZodNanoID\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.nanoid);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodCUID = /*@__PURE__*/ core.$constructor(\"$ZodCUID\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.cuid);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodCUID2 = /*@__PURE__*/ core.$constructor(\"$ZodCUID2\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.cuid2);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodULID = /*@__PURE__*/ core.$constructor(\"$ZodULID\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.ulid);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodXID = /*@__PURE__*/ core.$constructor(\"$ZodXID\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.xid);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodKSUID = /*@__PURE__*/ core.$constructor(\"$ZodKSUID\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.ksuid);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodISODateTime = /*@__PURE__*/ core.$constructor(\"$ZodISODateTime\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.datetime(def));\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodISODate = /*@__PURE__*/ core.$constructor(\"$ZodISODate\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.date);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodISOTime = /*@__PURE__*/ core.$constructor(\"$ZodISOTime\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.time(def));\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodISODuration = /*@__PURE__*/ core.$constructor(\"$ZodISODuration\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.duration);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodIPv4 = /*@__PURE__*/ core.$constructor(\"$ZodIPv4\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.ipv4);\n    $ZodStringFormat.init(inst, def);\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.format = `ipv4`;\n    });\n});\nexport const $ZodIPv6 = /*@__PURE__*/ core.$constructor(\"$ZodIPv6\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.ipv6);\n    $ZodStringFormat.init(inst, def);\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.format = `ipv6`;\n    });\n    inst._zod.check = (payload) => {\n        try {\n            // @ts-ignore\n            new URL(`http://[${payload.value}]`);\n            // return;\n        }\n        catch {\n            payload.issues.push({\n                code: \"invalid_format\",\n                format: \"ipv6\",\n                input: payload.value,\n                inst,\n                continue: !def.abort,\n            });\n        }\n    };\n});\nexport const $ZodCIDRv4 = /*@__PURE__*/ core.$constructor(\"$ZodCIDRv4\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.cidrv4);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodCIDRv6 = /*@__PURE__*/ core.$constructor(\"$ZodCIDRv6\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.cidrv6); // not used for validation\n    $ZodStringFormat.init(inst, def);\n    inst._zod.check = (payload) => {\n        const parts = payload.value.split(\"/\");\n        try {\n            if (parts.length !== 2)\n                throw new Error();\n            const [address, prefix] = parts;\n            if (!prefix)\n                throw new Error();\n            const prefixNum = Number(prefix);\n            if (`${prefixNum}` !== prefix)\n                throw new Error();\n            if (prefixNum < 0 || prefixNum > 128)\n                throw new Error();\n            // @ts-ignore\n            new URL(`http://[${address}]`);\n        }\n        catch {\n            payload.issues.push({\n                code: \"invalid_format\",\n                format: \"cidrv6\",\n                input: payload.value,\n                inst,\n                continue: !def.abort,\n            });\n        }\n    };\n});\n//////////////////////////////   ZodBase64   //////////////////////////////\nexport function isValidBase64(data) {\n    if (data === \"\")\n        return true;\n    if (data.length % 4 !== 0)\n        return false;\n    try {\n        // @ts-ignore\n        atob(data);\n        return true;\n    }\n    catch {\n        return false;\n    }\n}\nexport const $ZodBase64 = /*@__PURE__*/ core.$constructor(\"$ZodBase64\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.base64);\n    $ZodStringFormat.init(inst, def);\n    inst._zod.onattach.push((inst) => {\n        inst._zod.bag.contentEncoding = \"base64\";\n    });\n    inst._zod.check = (payload) => {\n        if (isValidBase64(payload.value))\n            return;\n        payload.issues.push({\n            code: \"invalid_format\",\n            format: \"base64\",\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\n//////////////////////////////   ZodBase64   //////////////////////////////\nexport function isValidBase64URL(data) {\n    if (!regexes.base64url.test(data))\n        return false;\n    const base64 = data.replace(/[-_]/g, (c) => (c === \"-\" ? \"+\" : \"/\"));\n    const padded = base64.padEnd(Math.ceil(base64.length / 4) * 4, \"=\");\n    return isValidBase64(padded);\n}\nexport const $ZodBase64URL = /*@__PURE__*/ core.$constructor(\"$ZodBase64URL\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.base64url);\n    $ZodStringFormat.init(inst, def);\n    inst._zod.onattach.push((inst) => {\n        inst._zod.bag.contentEncoding = \"base64url\";\n    });\n    inst._zod.check = (payload) => {\n        if (isValidBase64URL(payload.value))\n            return;\n        payload.issues.push({\n            code: \"invalid_format\",\n            format: \"base64url\",\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodE164 = /*@__PURE__*/ core.$constructor(\"$ZodE164\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.e164);\n    $ZodStringFormat.init(inst, def);\n});\n//////////////////////////////   ZodJWT   //////////////////////////////\nexport function isValidJWT(token, algorithm = null) {\n    try {\n        const tokensParts = token.split(\".\");\n        if (tokensParts.length !== 3)\n            return false;\n        const [header] = tokensParts;\n        if (!header)\n            return false;\n        // @ts-ignore\n        const parsedHeader = JSON.parse(atob(header));\n        if (\"typ\" in parsedHeader && parsedHeader?.typ !== \"JWT\")\n            return false;\n        if (!parsedHeader.alg)\n            return false;\n        if (algorithm && (!(\"alg\" in parsedHeader) || parsedHeader.alg !== algorithm))\n            return false;\n        return true;\n    }\n    catch {\n        return false;\n    }\n}\nexport const $ZodJWT = /*@__PURE__*/ core.$constructor(\"$ZodJWT\", (inst, def) => {\n    $ZodStringFormat.init(inst, def);\n    inst._zod.check = (payload) => {\n        if (isValidJWT(payload.value, def.alg))\n            return;\n        payload.issues.push({\n            code: \"invalid_format\",\n            format: \"jwt\",\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCustomStringFormat = /*@__PURE__*/ core.$constructor(\"$ZodCustomStringFormat\", (inst, def) => {\n    $ZodStringFormat.init(inst, def);\n    inst._zod.check = (payload) => {\n        if (def.fn(payload.value))\n            return;\n        payload.issues.push({\n            code: \"invalid_format\",\n            format: def.format,\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodNumber = /*@__PURE__*/ core.$constructor(\"$ZodNumber\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.pattern = inst._zod.bag.pattern ?? regexes.number;\n    inst._zod.parse = (payload, _ctx) => {\n        if (def.coerce)\n            try {\n                payload.value = Number(payload.value);\n            }\n            catch (_) { }\n        const input = payload.value;\n        if (typeof input === \"number\" && !Number.isNaN(input) && Number.isFinite(input)) {\n            return payload;\n        }\n        const received = typeof input === \"number\"\n            ? Number.isNaN(input)\n                ? \"NaN\"\n                : !Number.isFinite(input)\n                    ? \"Infinity\"\n                    : undefined\n            : undefined;\n        payload.issues.push({\n            expected: \"number\",\n            code: \"invalid_type\",\n            input,\n            inst,\n            ...(received ? { received } : {}),\n        });\n        return payload;\n    };\n});\nexport const $ZodNumberFormat = /*@__PURE__*/ core.$constructor(\"$ZodNumber\", (inst, def) => {\n    checks.$ZodCheckNumberFormat.init(inst, def);\n    $ZodNumber.init(inst, def); // no format checksp\n});\nexport const $ZodBoolean = /*@__PURE__*/ core.$constructor(\"$ZodBoolean\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.pattern = regexes.boolean;\n    inst._zod.parse = (payload, _ctx) => {\n        if (def.coerce)\n            try {\n                payload.value = Boolean(payload.value);\n            }\n            catch (_) { }\n        const input = payload.value;\n        if (typeof input === \"boolean\")\n            return payload;\n        payload.issues.push({\n            expected: \"boolean\",\n            code: \"invalid_type\",\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodBigInt = /*@__PURE__*/ core.$constructor(\"$ZodBigInt\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.pattern = regexes.bigint;\n    inst._zod.parse = (payload, _ctx) => {\n        if (def.coerce)\n            try {\n                payload.value = BigInt(payload.value);\n            }\n            catch (_) { }\n        if (typeof payload.value === \"bigint\")\n            return payload;\n        payload.issues.push({\n            expected: \"bigint\",\n            code: \"invalid_type\",\n            input: payload.value,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodBigIntFormat = /*@__PURE__*/ core.$constructor(\"$ZodBigInt\", (inst, def) => {\n    checks.$ZodCheckBigIntFormat.init(inst, def);\n    $ZodBigInt.init(inst, def); // no format checks\n});\nexport const $ZodSymbol = /*@__PURE__*/ core.$constructor(\"$ZodSymbol\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        const input = payload.value;\n        if (typeof input === \"symbol\")\n            return payload;\n        payload.issues.push({\n            expected: \"symbol\",\n            code: \"invalid_type\",\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodUndefined = /*@__PURE__*/ core.$constructor(\"$ZodUndefined\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.pattern = regexes.undefined;\n    inst._zod.values = new Set([undefined]);\n    inst._zod.optin = \"optional\";\n    inst._zod.optout = \"optional\";\n    inst._zod.parse = (payload, _ctx) => {\n        const input = payload.value;\n        if (typeof input === \"undefined\")\n            return payload;\n        payload.issues.push({\n            expected: \"undefined\",\n            code: \"invalid_type\",\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodNull = /*@__PURE__*/ core.$constructor(\"$ZodNull\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.pattern = regexes.null;\n    inst._zod.values = new Set([null]);\n    inst._zod.parse = (payload, _ctx) => {\n        const input = payload.value;\n        if (input === null)\n            return payload;\n        payload.issues.push({\n            expected: \"null\",\n            code: \"invalid_type\",\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodAny = /*@__PURE__*/ core.$constructor(\"$ZodAny\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload) => payload;\n});\nexport const $ZodUnknown = /*@__PURE__*/ core.$constructor(\"$ZodUnknown\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload) => payload;\n});\nexport const $ZodNever = /*@__PURE__*/ core.$constructor(\"$ZodNever\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        payload.issues.push({\n            expected: \"never\",\n            code: \"invalid_type\",\n            input: payload.value,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodVoid = /*@__PURE__*/ core.$constructor(\"$ZodVoid\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        const input = payload.value;\n        if (typeof input === \"undefined\")\n            return payload;\n        payload.issues.push({\n            expected: \"void\",\n            code: \"invalid_type\",\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodDate = /*@__PURE__*/ core.$constructor(\"$ZodDate\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        if (def.coerce) {\n            try {\n                payload.value = new Date(payload.value);\n            }\n            catch (_err) { }\n        }\n        const input = payload.value;\n        const isDate = input instanceof Date;\n        const isValidDate = isDate && !Number.isNaN(input.getTime());\n        if (isValidDate)\n            return payload;\n        payload.issues.push({\n            expected: \"date\",\n            code: \"invalid_type\",\n            input,\n            ...(isDate ? { received: \"Invalid Date\" } : {}),\n            inst,\n        });\n        return payload;\n    };\n});\nfunction handleArrayResult(result, final, index) {\n    if (result.issues.length) {\n        final.issues.push(...util.prefixIssues(index, result.issues));\n    }\n    final.value[index] = result.value;\n}\nexport const $ZodArray = /*@__PURE__*/ core.$constructor(\"$ZodArray\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        const input = payload.value;\n        if (!Array.isArray(input)) {\n            payload.issues.push({\n                expected: \"array\",\n                code: \"invalid_type\",\n                input,\n                inst,\n            });\n            return payload;\n        }\n        payload.value = Array(input.length);\n        const proms = [];\n        for (let i = 0; i < input.length; i++) {\n            const item = input[i];\n            const result = def.element._zod.run({\n                value: item,\n                issues: [],\n            }, ctx);\n            if (result instanceof Promise) {\n                proms.push(result.then((result) => handleArrayResult(result, payload, i)));\n            }\n            else {\n                handleArrayResult(result, payload, i);\n            }\n        }\n        if (proms.length) {\n            return Promise.all(proms).then(() => payload);\n        }\n        return payload; //handleArrayResultsAsync(parseResults, final);\n    };\n});\nfunction handlePropertyResult(result, final, key, input) {\n    if (result.issues.length) {\n        final.issues.push(...util.prefixIssues(key, result.issues));\n    }\n    if (result.value === undefined) {\n        if (key in input) {\n            final.value[key] = undefined;\n        }\n    }\n    else {\n        final.value[key] = result.value;\n    }\n}\nfunction normalizeDef(def) {\n    const keys = Object.keys(def.shape);\n    for (const k of keys) {\n        if (!def.shape?.[k]?._zod?.traits?.has(\"$ZodType\")) {\n            throw new Error(`Invalid element at key \"${k}\": expected a Zod schema`);\n        }\n    }\n    const okeys = util.optionalKeys(def.shape);\n    return {\n        ...def,\n        keys,\n        keySet: new Set(keys),\n        numKeys: keys.length,\n        optionalKeys: new Set(okeys),\n    };\n}\nfunction handleCatchall(proms, input, payload, ctx, def, inst) {\n    const unrecognized = [];\n    // iterate over input keys\n    const keySet = def.keySet;\n    const _catchall = def.catchall._zod;\n    const t = _catchall.def.type;\n    for (const key of Object.keys(input)) {\n        if (keySet.has(key))\n            continue;\n        if (t === \"never\") {\n            unrecognized.push(key);\n            continue;\n        }\n        const r = _catchall.run({ value: input[key], issues: [] }, ctx);\n        if (r instanceof Promise) {\n            proms.push(r.then((r) => handlePropertyResult(r, payload, key, input)));\n        }\n        else {\n            handlePropertyResult(r, payload, key, input);\n        }\n    }\n    if (unrecognized.length) {\n        payload.issues.push({\n            code: \"unrecognized_keys\",\n            keys: unrecognized,\n            input,\n            inst,\n        });\n    }\n    if (!proms.length)\n        return payload;\n    return Promise.all(proms).then(() => {\n        return payload;\n    });\n}\nexport const $ZodObject = /*@__PURE__*/ core.$constructor(\"$ZodObject\", (inst, def) => {\n    // requires cast because technically $ZodObject doesn't extend\n    $ZodType.init(inst, def);\n    // const sh = def.shape;\n    const desc = Object.getOwnPropertyDescriptor(def, \"shape\");\n    if (!desc?.get) {\n        const sh = def.shape;\n        Object.defineProperty(def, \"shape\", {\n            get: () => {\n                const newSh = { ...sh };\n                Object.defineProperty(def, \"shape\", {\n                    value: newSh,\n                });\n                return newSh;\n            },\n        });\n    }\n    const _normalized = util.cached(() => normalizeDef(def));\n    util.defineLazy(inst._zod, \"propValues\", () => {\n        const shape = def.shape;\n        const propValues = {};\n        for (const key in shape) {\n            const field = shape[key]._zod;\n            if (field.values) {\n                propValues[key] ?? (propValues[key] = new Set());\n                for (const v of field.values)\n                    propValues[key].add(v);\n            }\n        }\n        return propValues;\n    });\n    const isObject = util.isObject;\n    const catchall = def.catchall;\n    let value;\n    inst._zod.parse = (payload, ctx) => {\n        value ?? (value = _normalized.value);\n        const input = payload.value;\n        if (!isObject(input)) {\n            payload.issues.push({\n                expected: \"object\",\n                code: \"invalid_type\",\n                input,\n                inst,\n            });\n            return payload;\n        }\n        payload.value = {};\n        const proms = [];\n        const shape = value.shape;\n        for (const key of value.keys) {\n            const el = shape[key];\n            const r = el._zod.run({ value: input[key], issues: [] }, ctx);\n            if (r instanceof Promise) {\n                proms.push(r.then((r) => handlePropertyResult(r, payload, key, input)));\n            }\n            else {\n                handlePropertyResult(r, payload, key, input);\n            }\n        }\n        if (!catchall) {\n            return proms.length ? Promise.all(proms).then(() => payload) : payload;\n        }\n        return handleCatchall(proms, input, payload, ctx, _normalized.value, inst);\n    };\n});\nexport const $ZodObjectJIT = /*@__PURE__*/ core.$constructor(\"$ZodObjectJIT\", (inst, def) => {\n    // requires cast because technically $ZodObject doesn't extend\n    $ZodObject.init(inst, def);\n    const superParse = inst._zod.parse;\n    const _normalized = util.cached(() => normalizeDef(def));\n    const generateFastpass = (shape) => {\n        const doc = new Doc([\"shape\", \"payload\", \"ctx\"]);\n        const normalized = _normalized.value;\n        const parseStr = (key) => {\n            const k = util.esc(key);\n            return `shape[${k}]._zod.run({ value: input[${k}], issues: [] }, ctx)`;\n        };\n        doc.write(`const input = payload.value;`);\n        const ids = Object.create(null);\n        let counter = 0;\n        for (const key of normalized.keys) {\n            ids[key] = `key_${counter++}`;\n        }\n        // A: preserve key order {\n        doc.write(`const newResult = {};`);\n        for (const key of normalized.keys) {\n            const id = ids[key];\n            const k = util.esc(key);\n            doc.write(`const ${id} = ${parseStr(key)};`);\n            doc.write(`\n        if (${id}.issues.length) {\n          payload.issues = payload.issues.concat(${id}.issues.map(iss => ({\n            ...iss,\n            path: iss.path ? [${k}, ...iss.path] : [${k}]\n          })));\n        }\n        \n        \n        if (${id}.value === undefined) {\n          if (${k} in input) {\n            newResult[${k}] = undefined;\n          }\n        } else {\n          newResult[${k}] = ${id}.value;\n        }\n        \n      `);\n        }\n        doc.write(`payload.value = newResult;`);\n        doc.write(`return payload;`);\n        const fn = doc.compile();\n        return (payload, ctx) => fn(shape, payload, ctx);\n    };\n    let fastpass;\n    const isObject = util.isObject;\n    const jit = !core.globalConfig.jitless;\n    const allowsEval = util.allowsEval;\n    const fastEnabled = jit && allowsEval.value; // && !def.catchall;\n    const catchall = def.catchall;\n    let value;\n    inst._zod.parse = (payload, ctx) => {\n        value ?? (value = _normalized.value);\n        const input = payload.value;\n        if (!isObject(input)) {\n            payload.issues.push({\n                expected: \"object\",\n                code: \"invalid_type\",\n                input,\n                inst,\n            });\n            return payload;\n        }\n        if (jit && fastEnabled && ctx?.async === false && ctx.jitless !== true) {\n            // always synchronous\n            if (!fastpass)\n                fastpass = generateFastpass(def.shape);\n            payload = fastpass(payload, ctx);\n            if (!catchall)\n                return payload;\n            return handleCatchall([], input, payload, ctx, value, inst);\n        }\n        return superParse(payload, ctx);\n    };\n});\nfunction handleUnionResults(results, final, inst, ctx) {\n    for (const result of results) {\n        if (result.issues.length === 0) {\n            final.value = result.value;\n            return final;\n        }\n    }\n    const nonaborted = results.filter((r) => !util.aborted(r));\n    if (nonaborted.length === 1) {\n        final.value = nonaborted[0].value;\n        return nonaborted[0];\n    }\n    final.issues.push({\n        code: \"invalid_union\",\n        input: final.value,\n        inst,\n        errors: results.map((result) => result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config()))),\n    });\n    return final;\n}\nexport const $ZodUnion = /*@__PURE__*/ core.$constructor(\"$ZodUnion\", (inst, def) => {\n    $ZodType.init(inst, def);\n    util.defineLazy(inst._zod, \"optin\", () => def.options.some((o) => o._zod.optin === \"optional\") ? \"optional\" : undefined);\n    util.defineLazy(inst._zod, \"optout\", () => def.options.some((o) => o._zod.optout === \"optional\") ? \"optional\" : undefined);\n    util.defineLazy(inst._zod, \"values\", () => {\n        if (def.options.every((o) => o._zod.values)) {\n            return new Set(def.options.flatMap((option) => Array.from(option._zod.values)));\n        }\n        return undefined;\n    });\n    util.defineLazy(inst._zod, \"pattern\", () => {\n        if (def.options.every((o) => o._zod.pattern)) {\n            const patterns = def.options.map((o) => o._zod.pattern);\n            return new RegExp(`^(${patterns.map((p) => util.cleanRegex(p.source)).join(\"|\")})$`);\n        }\n        return undefined;\n    });\n    const single = def.options.length === 1;\n    const first = def.options[0]._zod.run;\n    inst._zod.parse = (payload, ctx) => {\n        if (single) {\n            return first(payload, ctx);\n        }\n        let async = false;\n        const results = [];\n        for (const option of def.options) {\n            const result = option._zod.run({\n                value: payload.value,\n                issues: [],\n            }, ctx);\n            if (result instanceof Promise) {\n                results.push(result);\n                async = true;\n            }\n            else {\n                if (result.issues.length === 0)\n                    return result;\n                results.push(result);\n            }\n        }\n        if (!async)\n            return handleUnionResults(results, payload, inst, ctx);\n        return Promise.all(results).then((results) => {\n            return handleUnionResults(results, payload, inst, ctx);\n        });\n    };\n});\nexport const $ZodDiscriminatedUnion = \n/*@__PURE__*/\ncore.$constructor(\"$ZodDiscriminatedUnion\", (inst, def) => {\n    $ZodUnion.init(inst, def);\n    const _super = inst._zod.parse;\n    util.defineLazy(inst._zod, \"propValues\", () => {\n        const propValues = {};\n        for (const option of def.options) {\n            const pv = option._zod.propValues;\n            if (!pv || Object.keys(pv).length === 0)\n                throw new Error(`Invalid discriminated union option at index \"${def.options.indexOf(option)}\"`);\n            for (const [k, v] of Object.entries(pv)) {\n                if (!propValues[k])\n                    propValues[k] = new Set();\n                for (const val of v) {\n                    propValues[k].add(val);\n                }\n            }\n        }\n        return propValues;\n    });\n    const disc = util.cached(() => {\n        const opts = def.options;\n        const map = new Map();\n        for (const o of opts) {\n            const values = o._zod.propValues?.[def.discriminator];\n            if (!values || values.size === 0)\n                throw new Error(`Invalid discriminated union option at index \"${def.options.indexOf(o)}\"`);\n            for (const v of values) {\n                if (map.has(v)) {\n                    throw new Error(`Duplicate discriminator value \"${String(v)}\"`);\n                }\n                map.set(v, o);\n            }\n        }\n        return map;\n    });\n    inst._zod.parse = (payload, ctx) => {\n        const input = payload.value;\n        if (!util.isObject(input)) {\n            payload.issues.push({\n                code: \"invalid_type\",\n                expected: \"object\",\n                input,\n                inst,\n            });\n            return payload;\n        }\n        const opt = disc.value.get(input?.[def.discriminator]);\n        if (opt) {\n            return opt._zod.run(payload, ctx);\n        }\n        if (def.unionFallback) {\n            return _super(payload, ctx);\n        }\n        // no matching discriminator\n        payload.issues.push({\n            code: \"invalid_union\",\n            errors: [],\n            note: \"No matching discriminator\",\n            discriminator: def.discriminator,\n            input,\n            path: [def.discriminator],\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodIntersection = /*@__PURE__*/ core.$constructor(\"$ZodIntersection\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        const input = payload.value;\n        const left = def.left._zod.run({ value: input, issues: [] }, ctx);\n        const right = def.right._zod.run({ value: input, issues: [] }, ctx);\n        const async = left instanceof Promise || right instanceof Promise;\n        if (async) {\n            return Promise.all([left, right]).then(([left, right]) => {\n                return handleIntersectionResults(payload, left, right);\n            });\n        }\n        return handleIntersectionResults(payload, left, right);\n    };\n});\nfunction mergeValues(a, b) {\n    // const aType = parse.t(a);\n    // const bType = parse.t(b);\n    if (a === b) {\n        return { valid: true, data: a };\n    }\n    if (a instanceof Date && b instanceof Date && +a === +b) {\n        return { valid: true, data: a };\n    }\n    if (util.isPlainObject(a) && util.isPlainObject(b)) {\n        const bKeys = Object.keys(b);\n        const sharedKeys = Object.keys(a).filter((key) => bKeys.indexOf(key) !== -1);\n        const newObj = { ...a, ...b };\n        for (const key of sharedKeys) {\n            const sharedValue = mergeValues(a[key], b[key]);\n            if (!sharedValue.valid) {\n                return {\n                    valid: false,\n                    mergeErrorPath: [key, ...sharedValue.mergeErrorPath],\n                };\n            }\n            newObj[key] = sharedValue.data;\n        }\n        return { valid: true, data: newObj };\n    }\n    if (Array.isArray(a) && Array.isArray(b)) {\n        if (a.length !== b.length) {\n            return { valid: false, mergeErrorPath: [] };\n        }\n        const newArray = [];\n        for (let index = 0; index < a.length; index++) {\n            const itemA = a[index];\n            const itemB = b[index];\n            const sharedValue = mergeValues(itemA, itemB);\n            if (!sharedValue.valid) {\n                return {\n                    valid: false,\n                    mergeErrorPath: [index, ...sharedValue.mergeErrorPath],\n                };\n            }\n            newArray.push(sharedValue.data);\n        }\n        return { valid: true, data: newArray };\n    }\n    return { valid: false, mergeErrorPath: [] };\n}\nfunction handleIntersectionResults(result, left, right) {\n    if (left.issues.length) {\n        result.issues.push(...left.issues);\n    }\n    if (right.issues.length) {\n        result.issues.push(...right.issues);\n    }\n    if (util.aborted(result))\n        return result;\n    const merged = mergeValues(left.value, right.value);\n    if (!merged.valid) {\n        throw new Error(`Unmergable intersection. Error path: ` + `${JSON.stringify(merged.mergeErrorPath)}`);\n    }\n    result.value = merged.data;\n    return result;\n}\nexport const $ZodTuple = /*@__PURE__*/ core.$constructor(\"$ZodTuple\", (inst, def) => {\n    $ZodType.init(inst, def);\n    const items = def.items;\n    const optStart = items.length - [...items].reverse().findIndex((item) => item._zod.optin !== \"optional\");\n    inst._zod.parse = (payload, ctx) => {\n        const input = payload.value;\n        if (!Array.isArray(input)) {\n            payload.issues.push({\n                input,\n                inst,\n                expected: \"tuple\",\n                code: \"invalid_type\",\n            });\n            return payload;\n        }\n        payload.value = [];\n        const proms = [];\n        if (!def.rest) {\n            const tooBig = input.length > items.length;\n            const tooSmall = input.length < optStart - 1;\n            if (tooBig || tooSmall) {\n                payload.issues.push({\n                    ...(tooBig ? { code: \"too_big\", maximum: items.length } : { code: \"too_small\", minimum: items.length }),\n                    input,\n                    inst,\n                    origin: \"array\",\n                });\n                return payload;\n            }\n        }\n        let i = -1;\n        for (const item of items) {\n            i++;\n            if (i >= input.length)\n                if (i >= optStart)\n                    continue;\n            const result = item._zod.run({\n                value: input[i],\n                issues: [],\n            }, ctx);\n            if (result instanceof Promise) {\n                proms.push(result.then((result) => handleTupleResult(result, payload, i)));\n            }\n            else {\n                handleTupleResult(result, payload, i);\n            }\n        }\n        if (def.rest) {\n            const rest = input.slice(items.length);\n            for (const el of rest) {\n                i++;\n                const result = def.rest._zod.run({\n                    value: el,\n                    issues: [],\n                }, ctx);\n                if (result instanceof Promise) {\n                    proms.push(result.then((result) => handleTupleResult(result, payload, i)));\n                }\n                else {\n                    handleTupleResult(result, payload, i);\n                }\n            }\n        }\n        if (proms.length)\n            return Promise.all(proms).then(() => payload);\n        return payload;\n    };\n});\nfunction handleTupleResult(result, final, index) {\n    if (result.issues.length) {\n        final.issues.push(...util.prefixIssues(index, result.issues));\n    }\n    final.value[index] = result.value;\n}\nexport const $ZodRecord = /*@__PURE__*/ core.$constructor(\"$ZodRecord\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        const input = payload.value;\n        if (!util.isPlainObject(input)) {\n            payload.issues.push({\n                expected: \"record\",\n                code: \"invalid_type\",\n                input,\n                inst,\n            });\n            return payload;\n        }\n        const proms = [];\n        if (def.keyType._zod.values) {\n            const values = def.keyType._zod.values;\n            payload.value = {};\n            for (const key of values) {\n                if (typeof key === \"string\" || typeof key === \"number\" || typeof key === \"symbol\") {\n                    const result = def.valueType._zod.run({ value: input[key], issues: [] }, ctx);\n                    if (result instanceof Promise) {\n                        proms.push(result.then((result) => {\n                            if (result.issues.length) {\n                                payload.issues.push(...util.prefixIssues(key, result.issues));\n                            }\n                            payload.value[key] = result.value;\n                        }));\n                    }\n                    else {\n                        if (result.issues.length) {\n                            payload.issues.push(...util.prefixIssues(key, result.issues));\n                        }\n                        payload.value[key] = result.value;\n                    }\n                }\n            }\n            let unrecognized;\n            for (const key in input) {\n                if (!values.has(key)) {\n                    unrecognized = unrecognized ?? [];\n                    unrecognized.push(key);\n                }\n            }\n            if (unrecognized && unrecognized.length > 0) {\n                payload.issues.push({\n                    code: \"unrecognized_keys\",\n                    input,\n                    inst,\n                    keys: unrecognized,\n                });\n            }\n        }\n        else {\n            payload.value = {};\n            for (const key of Reflect.ownKeys(input)) {\n                if (key === \"__proto__\")\n                    continue;\n                const keyResult = def.keyType._zod.run({ value: key, issues: [] }, ctx);\n                if (keyResult instanceof Promise) {\n                    throw new Error(\"Async schemas not supported in object keys currently\");\n                }\n                if (keyResult.issues.length) {\n                    payload.issues.push({\n                        code: \"invalid_key\",\n                        origin: \"record\",\n                        issues: keyResult.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())),\n                        input: key,\n                        path: [key],\n                        inst,\n                    });\n                    payload.value[keyResult.value] = keyResult.value;\n                    continue;\n                }\n                const result = def.valueType._zod.run({ value: input[key], issues: [] }, ctx);\n                if (result instanceof Promise) {\n                    proms.push(result.then((result) => {\n                        if (result.issues.length) {\n                            payload.issues.push(...util.prefixIssues(key, result.issues));\n                        }\n                        payload.value[keyResult.value] = result.value;\n                    }));\n                }\n                else {\n                    if (result.issues.length) {\n                        payload.issues.push(...util.prefixIssues(key, result.issues));\n                    }\n                    payload.value[keyResult.value] = result.value;\n                }\n            }\n        }\n        if (proms.length) {\n            return Promise.all(proms).then(() => payload);\n        }\n        return payload;\n    };\n});\nexport const $ZodMap = /*@__PURE__*/ core.$constructor(\"$ZodMap\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        const input = payload.value;\n        if (!(input instanceof Map)) {\n            payload.issues.push({\n                expected: \"map\",\n                code: \"invalid_type\",\n                input,\n                inst,\n            });\n            return payload;\n        }\n        const proms = [];\n        payload.value = new Map();\n        for (const [key, value] of input) {\n            const keyResult = def.keyType._zod.run({ value: key, issues: [] }, ctx);\n            const valueResult = def.valueType._zod.run({ value: value, issues: [] }, ctx);\n            if (keyResult instanceof Promise || valueResult instanceof Promise) {\n                proms.push(Promise.all([keyResult, valueResult]).then(([keyResult, valueResult]) => {\n                    handleMapResult(keyResult, valueResult, payload, key, input, inst, ctx);\n                }));\n            }\n            else {\n                handleMapResult(keyResult, valueResult, payload, key, input, inst, ctx);\n            }\n        }\n        if (proms.length)\n            return Promise.all(proms).then(() => payload);\n        return payload;\n    };\n});\nfunction handleMapResult(keyResult, valueResult, final, key, input, inst, ctx) {\n    if (keyResult.issues.length) {\n        if (util.propertyKeyTypes.has(typeof key)) {\n            final.issues.push(...util.prefixIssues(key, keyResult.issues));\n        }\n        else {\n            final.issues.push({\n                code: \"invalid_key\",\n                origin: \"map\",\n                input,\n                inst,\n                issues: keyResult.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())),\n            });\n        }\n    }\n    if (valueResult.issues.length) {\n        if (util.propertyKeyTypes.has(typeof key)) {\n            final.issues.push(...util.prefixIssues(key, valueResult.issues));\n        }\n        else {\n            final.issues.push({\n                origin: \"map\",\n                code: \"invalid_element\",\n                input,\n                inst,\n                key: key,\n                issues: valueResult.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())),\n            });\n        }\n    }\n    final.value.set(keyResult.value, valueResult.value);\n}\nexport const $ZodSet = /*@__PURE__*/ core.$constructor(\"$ZodSet\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        const input = payload.value;\n        if (!(input instanceof Set)) {\n            payload.issues.push({\n                input,\n                inst,\n                expected: \"set\",\n                code: \"invalid_type\",\n            });\n            return payload;\n        }\n        const proms = [];\n        payload.value = new Set();\n        for (const item of input) {\n            const result = def.valueType._zod.run({ value: item, issues: [] }, ctx);\n            if (result instanceof Promise) {\n                proms.push(result.then((result) => handleSetResult(result, payload)));\n            }\n            else\n                handleSetResult(result, payload);\n        }\n        if (proms.length)\n            return Promise.all(proms).then(() => payload);\n        return payload;\n    };\n});\nfunction handleSetResult(result, final) {\n    if (result.issues.length) {\n        final.issues.push(...result.issues);\n    }\n    final.value.add(result.value);\n}\nexport const $ZodEnum = /*@__PURE__*/ core.$constructor(\"$ZodEnum\", (inst, def) => {\n    $ZodType.init(inst, def);\n    const values = util.getEnumValues(def.entries);\n    const valuesSet = new Set(values);\n    inst._zod.values = valuesSet;\n    inst._zod.pattern = new RegExp(`^(${values\n        .filter((k) => util.propertyKeyTypes.has(typeof k))\n        .map((o) => (typeof o === \"string\" ? util.escapeRegex(o) : o.toString()))\n        .join(\"|\")})$`);\n    inst._zod.parse = (payload, _ctx) => {\n        const input = payload.value;\n        if (valuesSet.has(input)) {\n            return payload;\n        }\n        payload.issues.push({\n            code: \"invalid_value\",\n            values,\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodLiteral = /*@__PURE__*/ core.$constructor(\"$ZodLiteral\", (inst, def) => {\n    $ZodType.init(inst, def);\n    if (def.values.length === 0) {\n        throw new Error(\"Cannot create literal schema with no valid values\");\n    }\n    inst._zod.values = new Set(def.values);\n    inst._zod.pattern = new RegExp(`^(${def.values\n        .map((o) => (typeof o === \"string\" ? util.escapeRegex(o) : o ? util.escapeRegex(o.toString()) : String(o)))\n        .join(\"|\")})$`);\n    inst._zod.parse = (payload, _ctx) => {\n        const input = payload.value;\n        if (inst._zod.values.has(input)) {\n            return payload;\n        }\n        payload.issues.push({\n            code: \"invalid_value\",\n            values: def.values,\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodFile = /*@__PURE__*/ core.$constructor(\"$ZodFile\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        const input = payload.value;\n        // @ts-ignore\n        if (input instanceof File)\n            return payload;\n        payload.issues.push({\n            expected: \"file\",\n            code: \"invalid_type\",\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodTransform = /*@__PURE__*/ core.$constructor(\"$ZodTransform\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        if (ctx.direction === \"backward\") {\n            throw new core.$ZodEncodeError(inst.constructor.name);\n        }\n        const _out = def.transform(payload.value, payload);\n        if (ctx.async) {\n            const output = _out instanceof Promise ? _out : Promise.resolve(_out);\n            return output.then((output) => {\n                payload.value = output;\n                return payload;\n            });\n        }\n        if (_out instanceof Promise) {\n            throw new core.$ZodAsyncError();\n        }\n        payload.value = _out;\n        return payload;\n    };\n});\nfunction handleOptionalResult(result, input) {\n    if (result.issues.length && input === undefined) {\n        return { issues: [], value: undefined };\n    }\n    return result;\n}\nexport const $ZodOptional = /*@__PURE__*/ core.$constructor(\"$ZodOptional\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.optin = \"optional\";\n    inst._zod.optout = \"optional\";\n    util.defineLazy(inst._zod, \"values\", () => {\n        return def.innerType._zod.values ? new Set([...def.innerType._zod.values, undefined]) : undefined;\n    });\n    util.defineLazy(inst._zod, \"pattern\", () => {\n        const pattern = def.innerType._zod.pattern;\n        return pattern ? new RegExp(`^(${util.cleanRegex(pattern.source)})?$`) : undefined;\n    });\n    inst._zod.parse = (payload, ctx) => {\n        if (def.innerType._zod.optin === \"optional\") {\n            const result = def.innerType._zod.run(payload, ctx);\n            if (result instanceof Promise)\n                return result.then((r) => handleOptionalResult(r, payload.value));\n            return handleOptionalResult(result, payload.value);\n        }\n        if (payload.value === undefined) {\n            return payload;\n        }\n        return def.innerType._zod.run(payload, ctx);\n    };\n});\nexport const $ZodNullable = /*@__PURE__*/ core.$constructor(\"$ZodNullable\", (inst, def) => {\n    $ZodType.init(inst, def);\n    util.defineLazy(inst._zod, \"optin\", () => def.innerType._zod.optin);\n    util.defineLazy(inst._zod, \"optout\", () => def.innerType._zod.optout);\n    util.defineLazy(inst._zod, \"pattern\", () => {\n        const pattern = def.innerType._zod.pattern;\n        return pattern ? new RegExp(`^(${util.cleanRegex(pattern.source)}|null)$`) : undefined;\n    });\n    util.defineLazy(inst._zod, \"values\", () => {\n        return def.innerType._zod.values ? new Set([...def.innerType._zod.values, null]) : undefined;\n    });\n    inst._zod.parse = (payload, ctx) => {\n        // Forward direction (decode): allow null to pass through\n        if (payload.value === null)\n            return payload;\n        return def.innerType._zod.run(payload, ctx);\n    };\n});\nexport const $ZodDefault = /*@__PURE__*/ core.$constructor(\"$ZodDefault\", (inst, def) => {\n    $ZodType.init(inst, def);\n    // inst._zod.qin = \"true\";\n    inst._zod.optin = \"optional\";\n    util.defineLazy(inst._zod, \"values\", () => def.innerType._zod.values);\n    inst._zod.parse = (payload, ctx) => {\n        if (ctx.direction === \"backward\") {\n            return def.innerType._zod.run(payload, ctx);\n        }\n        // Forward direction (decode): apply defaults for undefined input\n        if (payload.value === undefined) {\n            payload.value = def.defaultValue;\n            /**\n             * $ZodDefault returns the default value immediately in forward direction.\n             * It doesn't pass the default value into the validator (\"prefault\"). There's no reason to pass the default value through validation. The validity of the default is enforced by TypeScript statically. Otherwise, it's the responsibility of the user to ensure the default is valid. In the case of pipes with divergent in/out types, you can specify the default on the `in` schema of your ZodPipe to set a \"prefault\" for the pipe.   */\n            return payload;\n        }\n        // Forward direction: continue with default handling\n        const result = def.innerType._zod.run(payload, ctx);\n        if (result instanceof Promise) {\n            return result.then((result) => handleDefaultResult(result, def));\n        }\n        return handleDefaultResult(result, def);\n    };\n});\nfunction handleDefaultResult(payload, def) {\n    if (payload.value === undefined) {\n        payload.value = def.defaultValue;\n    }\n    return payload;\n}\nexport const $ZodPrefault = /*@__PURE__*/ core.$constructor(\"$ZodPrefault\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.optin = \"optional\";\n    util.defineLazy(inst._zod, \"values\", () => def.innerType._zod.values);\n    inst._zod.parse = (payload, ctx) => {\n        if (ctx.direction === \"backward\") {\n            return def.innerType._zod.run(payload, ctx);\n        }\n        // Forward direction (decode): apply prefault for undefined input\n        if (payload.value === undefined) {\n            payload.value = def.defaultValue;\n        }\n        return def.innerType._zod.run(payload, ctx);\n    };\n});\nexport const $ZodNonOptional = /*@__PURE__*/ core.$constructor(\"$ZodNonOptional\", (inst, def) => {\n    $ZodType.init(inst, def);\n    util.defineLazy(inst._zod, \"values\", () => {\n        const v = def.innerType._zod.values;\n        return v ? new Set([...v].filter((x) => x !== undefined)) : undefined;\n    });\n    inst._zod.parse = (payload, ctx) => {\n        const result = def.innerType._zod.run(payload, ctx);\n        if (result instanceof Promise) {\n            return result.then((result) => handleNonOptionalResult(result, inst));\n        }\n        return handleNonOptionalResult(result, inst);\n    };\n});\nfunction handleNonOptionalResult(payload, inst) {\n    if (!payload.issues.length && payload.value === undefined) {\n        payload.issues.push({\n            code: \"invalid_type\",\n            expected: \"nonoptional\",\n            input: payload.value,\n            inst,\n        });\n    }\n    return payload;\n}\nexport const $ZodSuccess = /*@__PURE__*/ core.$constructor(\"$ZodSuccess\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        if (ctx.direction === \"backward\") {\n            throw new core.$ZodEncodeError(\"ZodSuccess\");\n        }\n        const result = def.innerType._zod.run(payload, ctx);\n        if (result instanceof Promise) {\n            return result.then((result) => {\n                payload.value = result.issues.length === 0;\n                return payload;\n            });\n        }\n        payload.value = result.issues.length === 0;\n        return payload;\n    };\n});\nexport const $ZodCatch = /*@__PURE__*/ core.$constructor(\"$ZodCatch\", (inst, def) => {\n    $ZodType.init(inst, def);\n    util.defineLazy(inst._zod, \"optin\", () => def.innerType._zod.optin);\n    util.defineLazy(inst._zod, \"optout\", () => def.innerType._zod.optout);\n    util.defineLazy(inst._zod, \"values\", () => def.innerType._zod.values);\n    inst._zod.parse = (payload, ctx) => {\n        if (ctx.direction === \"backward\") {\n            return def.innerType._zod.run(payload, ctx);\n        }\n        // Forward direction (decode): apply catch logic\n        const result = def.innerType._zod.run(payload, ctx);\n        if (result instanceof Promise) {\n            return result.then((result) => {\n                payload.value = result.value;\n                if (result.issues.length) {\n                    payload.value = def.catchValue({\n                        ...payload,\n                        error: {\n                            issues: result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())),\n                        },\n                        input: payload.value,\n                    });\n                    payload.issues = [];\n                }\n                return payload;\n            });\n        }\n        payload.value = result.value;\n        if (result.issues.length) {\n            payload.value = def.catchValue({\n                ...payload,\n                error: {\n                    issues: result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())),\n                },\n                input: payload.value,\n            });\n            payload.issues = [];\n        }\n        return payload;\n    };\n});\nexport const $ZodNaN = /*@__PURE__*/ core.$constructor(\"$ZodNaN\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        if (typeof payload.value !== \"number\" || !Number.isNaN(payload.value)) {\n            payload.issues.push({\n                input: payload.value,\n                inst,\n                expected: \"nan\",\n                code: \"invalid_type\",\n            });\n            return payload;\n        }\n        return payload;\n    };\n});\nexport const $ZodPipe = /*@__PURE__*/ core.$constructor(\"$ZodPipe\", (inst, def) => {\n    $ZodType.init(inst, def);\n    util.defineLazy(inst._zod, \"values\", () => def.in._zod.values);\n    util.defineLazy(inst._zod, \"optin\", () => def.in._zod.optin);\n    util.defineLazy(inst._zod, \"optout\", () => def.out._zod.optout);\n    util.defineLazy(inst._zod, \"propValues\", () => def.in._zod.propValues);\n    inst._zod.parse = (payload, ctx) => {\n        if (ctx.direction === \"backward\") {\n            const right = def.out._zod.run(payload, ctx);\n            if (right instanceof Promise) {\n                return right.then((right) => handlePipeResult(right, def.in, ctx));\n            }\n            return handlePipeResult(right, def.in, ctx);\n        }\n        const left = def.in._zod.run(payload, ctx);\n        if (left instanceof Promise) {\n            return left.then((left) => handlePipeResult(left, def.out, ctx));\n        }\n        return handlePipeResult(left, def.out, ctx);\n    };\n});\nfunction handlePipeResult(left, next, ctx) {\n    if (left.issues.length) {\n        // prevent further checks\n        left.aborted = true;\n        return left;\n    }\n    return next._zod.run({ value: left.value, issues: left.issues }, ctx);\n}\nexport const $ZodCodec = /*@__PURE__*/ core.$constructor(\"$ZodCodec\", (inst, def) => {\n    $ZodType.init(inst, def);\n    util.defineLazy(inst._zod, \"values\", () => def.in._zod.values);\n    util.defineLazy(inst._zod, \"optin\", () => def.in._zod.optin);\n    util.defineLazy(inst._zod, \"optout\", () => def.out._zod.optout);\n    util.defineLazy(inst._zod, \"propValues\", () => def.in._zod.propValues);\n    inst._zod.parse = (payload, ctx) => {\n        const direction = ctx.direction || \"forward\";\n        if (direction === \"forward\") {\n            const left = def.in._zod.run(payload, ctx);\n            if (left instanceof Promise) {\n                return left.then((left) => handleCodecAResult(left, def, ctx));\n            }\n            return handleCodecAResult(left, def, ctx);\n        }\n        else {\n            const right = def.out._zod.run(payload, ctx);\n            if (right instanceof Promise) {\n                return right.then((right) => handleCodecAResult(right, def, ctx));\n            }\n            return handleCodecAResult(right, def, ctx);\n        }\n    };\n});\nfunction handleCodecAResult(result, def, ctx) {\n    if (result.issues.length) {\n        // prevent further checks\n        result.aborted = true;\n        return result;\n    }\n    const direction = ctx.direction || \"forward\";\n    if (direction === \"forward\") {\n        const transformed = def.transform(result.value, result);\n        if (transformed instanceof Promise) {\n            return transformed.then((value) => handleCodecTxResult(result, value, def.out, ctx));\n        }\n        return handleCodecTxResult(result, transformed, def.out, ctx);\n    }\n    else {\n        const transformed = def.reverseTransform(result.value, result);\n        if (transformed instanceof Promise) {\n            return transformed.then((value) => handleCodecTxResult(result, value, def.in, ctx));\n        }\n        return handleCodecTxResult(result, transformed, def.in, ctx);\n    }\n}\nfunction handleCodecTxResult(left, value, nextSchema, ctx) {\n    // Check if transform added any issues\n    if (left.issues.length) {\n        left.aborted = true;\n        return left;\n    }\n    return nextSchema._zod.run({ value, issues: left.issues }, ctx);\n}\nexport const $ZodReadonly = /*@__PURE__*/ core.$constructor(\"$ZodReadonly\", (inst, def) => {\n    $ZodType.init(inst, def);\n    util.defineLazy(inst._zod, \"propValues\", () => def.innerType._zod.propValues);\n    util.defineLazy(inst._zod, \"values\", () => def.innerType._zod.values);\n    util.defineLazy(inst._zod, \"optin\", () => def.innerType._zod.optin);\n    util.defineLazy(inst._zod, \"optout\", () => def.innerType._zod.optout);\n    inst._zod.parse = (payload, ctx) => {\n        if (ctx.direction === \"backward\") {\n            return def.innerType._zod.run(payload, ctx);\n        }\n        const result = def.innerType._zod.run(payload, ctx);\n        if (result instanceof Promise) {\n            return result.then(handleReadonlyResult);\n        }\n        return handleReadonlyResult(result);\n    };\n});\nfunction handleReadonlyResult(payload) {\n    payload.value = Object.freeze(payload.value);\n    return payload;\n}\nexport const $ZodTemplateLiteral = /*@__PURE__*/ core.$constructor(\"$ZodTemplateLiteral\", (inst, def) => {\n    $ZodType.init(inst, def);\n    const regexParts = [];\n    for (const part of def.parts) {\n        if (typeof part === \"object\" && part !== null) {\n            // is Zod schema\n            if (!part._zod.pattern) {\n                // if (!source)\n                throw new Error(`Invalid template literal part, no pattern found: ${[...part._zod.traits].shift()}`);\n            }\n            const source = part._zod.pattern instanceof RegExp ? part._zod.pattern.source : part._zod.pattern;\n            if (!source)\n                throw new Error(`Invalid template literal part: ${part._zod.traits}`);\n            const start = source.startsWith(\"^\") ? 1 : 0;\n            const end = source.endsWith(\"$\") ? source.length - 1 : source.length;\n            regexParts.push(source.slice(start, end));\n        }\n        else if (part === null || util.primitiveTypes.has(typeof part)) {\n            regexParts.push(util.escapeRegex(`${part}`));\n        }\n        else {\n            throw new Error(`Invalid template literal part: ${part}`);\n        }\n    }\n    inst._zod.pattern = new RegExp(`^${regexParts.join(\"\")}$`);\n    inst._zod.parse = (payload, _ctx) => {\n        if (typeof payload.value !== \"string\") {\n            payload.issues.push({\n                input: payload.value,\n                inst,\n                expected: \"template_literal\",\n                code: \"invalid_type\",\n            });\n            return payload;\n        }\n        inst._zod.pattern.lastIndex = 0;\n        if (!inst._zod.pattern.test(payload.value)) {\n            payload.issues.push({\n                input: payload.value,\n                inst,\n                code: \"invalid_format\",\n                format: def.format ?? \"template_literal\",\n                pattern: inst._zod.pattern.source,\n            });\n            return payload;\n        }\n        return payload;\n    };\n});\nexport const $ZodFunction = /*@__PURE__*/ core.$constructor(\"$ZodFunction\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._def = def;\n    inst._zod.def = def;\n    inst.implement = (func) => {\n        if (typeof func !== \"function\") {\n            throw new Error(\"implement() must be called with a function\");\n        }\n        return function (...args) {\n            const parsedArgs = inst._def.input ? parse(inst._def.input, args) : args;\n            const result = Reflect.apply(func, this, parsedArgs);\n            if (inst._def.output) {\n                return parse(inst._def.output, result);\n            }\n            return result;\n        };\n    };\n    inst.implementAsync = (func) => {\n        if (typeof func !== \"function\") {\n            throw new Error(\"implementAsync() must be called with a function\");\n        }\n        return async function (...args) {\n            const parsedArgs = inst._def.input ? await parseAsync(inst._def.input, args) : args;\n            const result = await Reflect.apply(func, this, parsedArgs);\n            if (inst._def.output) {\n                return await parseAsync(inst._def.output, result);\n            }\n            return result;\n        };\n    };\n    inst._zod.parse = (payload, _ctx) => {\n        if (typeof payload.value !== \"function\") {\n            payload.issues.push({\n                code: \"invalid_type\",\n                expected: \"function\",\n                input: payload.value,\n                inst,\n            });\n            return payload;\n        }\n        // Check if output is a promise type to determine if we should use async implementation\n        const hasPromiseOutput = inst._def.output && inst._def.output._zod.def.type === \"promise\";\n        if (hasPromiseOutput) {\n            payload.value = inst.implementAsync(payload.value);\n        }\n        else {\n            payload.value = inst.implement(payload.value);\n        }\n        return payload;\n    };\n    inst.input = (...args) => {\n        const F = inst.constructor;\n        if (Array.isArray(args[0])) {\n            return new F({\n                type: \"function\",\n                input: new $ZodTuple({\n                    type: \"tuple\",\n                    items: args[0],\n                    rest: args[1],\n                }),\n                output: inst._def.output,\n            });\n        }\n        return new F({\n            type: \"function\",\n            input: args[0],\n            output: inst._def.output,\n        });\n    };\n    inst.output = (output) => {\n        const F = inst.constructor;\n        return new F({\n            type: \"function\",\n            input: inst._def.input,\n            output,\n        });\n    };\n    return inst;\n});\nexport const $ZodPromise = /*@__PURE__*/ core.$constructor(\"$ZodPromise\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        return Promise.resolve(payload.value).then((inner) => def.innerType._zod.run({ value: inner, issues: [] }, ctx));\n    };\n});\nexport const $ZodLazy = /*@__PURE__*/ core.$constructor(\"$ZodLazy\", (inst, def) => {\n    $ZodType.init(inst, def);\n    // let _innerType!: any;\n    // util.defineLazy(def, \"getter\", () => {\n    //   if (!_innerType) {\n    //     _innerType = def.getter();\n    //   }\n    //   return () => _innerType;\n    // });\n    util.defineLazy(inst._zod, \"innerType\", () => def.getter());\n    util.defineLazy(inst._zod, \"pattern\", () => inst._zod.innerType._zod.pattern);\n    util.defineLazy(inst._zod, \"propValues\", () => inst._zod.innerType._zod.propValues);\n    util.defineLazy(inst._zod, \"optin\", () => inst._zod.innerType._zod.optin ?? undefined);\n    util.defineLazy(inst._zod, \"optout\", () => inst._zod.innerType._zod.optout ?? undefined);\n    inst._zod.parse = (payload, ctx) => {\n        const inner = inst._zod.innerType;\n        return inner._zod.run(payload, ctx);\n    };\n});\nexport const $ZodCustom = /*@__PURE__*/ core.$constructor(\"$ZodCustom\", (inst, def) => {\n    checks.$ZodCheck.init(inst, def);\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _) => {\n        return payload;\n    };\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        const r = def.fn(input);\n        if (r instanceof Promise) {\n            return r.then((r) => handleRefineResult(r, payload, input, inst));\n        }\n        handleRefineResult(r, payload, input, inst);\n        return;\n    };\n});\nfunction handleRefineResult(result, payload, input, inst) {\n    if (!result) {\n        const _iss = {\n            code: \"custom\",\n            input,\n            inst, // incorporates params.error into issue reporting\n            path: [...(inst._zod.def.path ?? [])], // incorporates params.error into issue reporting\n            continue: !inst._zod.def.abort,\n            // params: inst._zod.def.params,\n        };\n        if (inst._zod.def.params)\n            _iss.params = inst._zod.def.params;\n        payload.issues.push(util.issue(_iss));\n    }\n}\n","export const $output = Symbol(\"ZodOutput\");\nexport const $input = Symbol(\"ZodInput\");\nexport class $ZodRegistry {\n    constructor() {\n        this._map = new WeakMap();\n        this._idmap = new Map();\n    }\n    add(schema, ..._meta) {\n        const meta = _meta[0];\n        this._map.set(schema, meta);\n        if (meta && typeof meta === \"object\" && \"id\" in meta) {\n            if (this._idmap.has(meta.id)) {\n                throw new Error(`ID ${meta.id} already exists in the registry`);\n            }\n            this._idmap.set(meta.id, schema);\n        }\n        return this;\n    }\n    clear() {\n        this._map = new WeakMap();\n        this._idmap = new Map();\n        return this;\n    }\n    remove(schema) {\n        const meta = this._map.get(schema);\n        if (meta && typeof meta === \"object\" && \"id\" in meta) {\n            this._idmap.delete(meta.id);\n        }\n        this._map.delete(schema);\n        return this;\n    }\n    get(schema) {\n        // return this._map.get(schema) as any;\n        // inherit metadata\n        const p = schema._zod.parent;\n        if (p) {\n            const pm = { ...(this.get(p) ?? {}) };\n            delete pm.id; // do not inherit id\n            const f = { ...pm, ...this._map.get(schema) };\n            return Object.keys(f).length ? f : undefined;\n        }\n        return this._map.get(schema);\n    }\n    has(schema) {\n        return this._map.has(schema);\n    }\n}\n// registries\nexport function registry() {\n    return new $ZodRegistry();\n}\nexport const globalRegistry = /*@__PURE__*/ registry();\n","import * as checks from \"./checks.js\";\nimport * as schemas from \"./schemas.js\";\nimport * as util from \"./util.js\";\nexport function _string(Class, params) {\n    return new Class({\n        type: \"string\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _coercedString(Class, params) {\n    return new Class({\n        type: \"string\",\n        coerce: true,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _email(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"email\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _guid(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"guid\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _uuid(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"uuid\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _uuidv4(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"uuid\",\n        check: \"string_format\",\n        abort: false,\n        version: \"v4\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _uuidv6(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"uuid\",\n        check: \"string_format\",\n        abort: false,\n        version: \"v6\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _uuidv7(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"uuid\",\n        check: \"string_format\",\n        abort: false,\n        version: \"v7\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _url(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"url\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _emoji(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"emoji\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _nanoid(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"nanoid\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _cuid(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"cuid\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _cuid2(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"cuid2\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _ulid(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"ulid\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _xid(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"xid\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _ksuid(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"ksuid\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _ipv4(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"ipv4\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _ipv6(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"ipv6\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _cidrv4(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"cidrv4\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _cidrv6(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"cidrv6\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _base64(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"base64\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _base64url(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"base64url\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _e164(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"e164\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _jwt(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"jwt\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport const TimePrecision = {\n    Any: null,\n    Minute: -1,\n    Second: 0,\n    Millisecond: 3,\n    Microsecond: 6,\n};\nexport function _isoDateTime(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"datetime\",\n        check: \"string_format\",\n        offset: false,\n        local: false,\n        precision: null,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _isoDate(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"date\",\n        check: \"string_format\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _isoTime(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"time\",\n        check: \"string_format\",\n        precision: null,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _isoDuration(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"duration\",\n        check: \"string_format\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _number(Class, params) {\n    return new Class({\n        type: \"number\",\n        checks: [],\n        ...util.normalizeParams(params),\n    });\n}\nexport function _coercedNumber(Class, params) {\n    return new Class({\n        type: \"number\",\n        coerce: true,\n        checks: [],\n        ...util.normalizeParams(params),\n    });\n}\nexport function _int(Class, params) {\n    return new Class({\n        type: \"number\",\n        check: \"number_format\",\n        abort: false,\n        format: \"safeint\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _float32(Class, params) {\n    return new Class({\n        type: \"number\",\n        check: \"number_format\",\n        abort: false,\n        format: \"float32\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _float64(Class, params) {\n    return new Class({\n        type: \"number\",\n        check: \"number_format\",\n        abort: false,\n        format: \"float64\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _int32(Class, params) {\n    return new Class({\n        type: \"number\",\n        check: \"number_format\",\n        abort: false,\n        format: \"int32\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _uint32(Class, params) {\n    return new Class({\n        type: \"number\",\n        check: \"number_format\",\n        abort: false,\n        format: \"uint32\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _boolean(Class, params) {\n    return new Class({\n        type: \"boolean\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _coercedBoolean(Class, params) {\n    return new Class({\n        type: \"boolean\",\n        coerce: true,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _bigint(Class, params) {\n    return new Class({\n        type: \"bigint\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _coercedBigint(Class, params) {\n    return new Class({\n        type: \"bigint\",\n        coerce: true,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _int64(Class, params) {\n    return new Class({\n        type: \"bigint\",\n        check: \"bigint_format\",\n        abort: false,\n        format: \"int64\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _uint64(Class, params) {\n    return new Class({\n        type: \"bigint\",\n        check: \"bigint_format\",\n        abort: false,\n        format: \"uint64\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _symbol(Class, params) {\n    return new Class({\n        type: \"symbol\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _undefined(Class, params) {\n    return new Class({\n        type: \"undefined\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _null(Class, params) {\n    return new Class({\n        type: \"null\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _any(Class) {\n    return new Class({\n        type: \"any\",\n    });\n}\nexport function _unknown(Class) {\n    return new Class({\n        type: \"unknown\",\n    });\n}\nexport function _never(Class, params) {\n    return new Class({\n        type: \"never\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _void(Class, params) {\n    return new Class({\n        type: \"void\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _date(Class, params) {\n    return new Class({\n        type: \"date\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _coercedDate(Class, params) {\n    return new Class({\n        type: \"date\",\n        coerce: true,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _nan(Class, params) {\n    return new Class({\n        type: \"nan\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _lt(value, params) {\n    return new checks.$ZodCheckLessThan({\n        check: \"less_than\",\n        ...util.normalizeParams(params),\n        value,\n        inclusive: false,\n    });\n}\nexport function _lte(value, params) {\n    return new checks.$ZodCheckLessThan({\n        check: \"less_than\",\n        ...util.normalizeParams(params),\n        value,\n        inclusive: true,\n    });\n}\nexport { \n/** @deprecated Use `z.lte()` instead. */\n_lte as _max, };\nexport function _gt(value, params) {\n    return new checks.$ZodCheckGreaterThan({\n        check: \"greater_than\",\n        ...util.normalizeParams(params),\n        value,\n        inclusive: false,\n    });\n}\nexport function _gte(value, params) {\n    return new checks.$ZodCheckGreaterThan({\n        check: \"greater_than\",\n        ...util.normalizeParams(params),\n        value,\n        inclusive: true,\n    });\n}\nexport { \n/** @deprecated Use `z.gte()` instead. */\n_gte as _min, };\nexport function _positive(params) {\n    return _gt(0, params);\n}\n// negative\nexport function _negative(params) {\n    return _lt(0, params);\n}\n// nonpositive\nexport function _nonpositive(params) {\n    return _lte(0, params);\n}\n// nonnegative\nexport function _nonnegative(params) {\n    return _gte(0, params);\n}\nexport function _multipleOf(value, params) {\n    return new checks.$ZodCheckMultipleOf({\n        check: \"multiple_of\",\n        ...util.normalizeParams(params),\n        value,\n    });\n}\nexport function _maxSize(maximum, params) {\n    return new checks.$ZodCheckMaxSize({\n        check: \"max_size\",\n        ...util.normalizeParams(params),\n        maximum,\n    });\n}\nexport function _minSize(minimum, params) {\n    return new checks.$ZodCheckMinSize({\n        check: \"min_size\",\n        ...util.normalizeParams(params),\n        minimum,\n    });\n}\nexport function _size(size, params) {\n    return new checks.$ZodCheckSizeEquals({\n        check: \"size_equals\",\n        ...util.normalizeParams(params),\n        size,\n    });\n}\nexport function _maxLength(maximum, params) {\n    const ch = new checks.$ZodCheckMaxLength({\n        check: \"max_length\",\n        ...util.normalizeParams(params),\n        maximum,\n    });\n    return ch;\n}\nexport function _minLength(minimum, params) {\n    return new checks.$ZodCheckMinLength({\n        check: \"min_length\",\n        ...util.normalizeParams(params),\n        minimum,\n    });\n}\nexport function _length(length, params) {\n    return new checks.$ZodCheckLengthEquals({\n        check: \"length_equals\",\n        ...util.normalizeParams(params),\n        length,\n    });\n}\nexport function _regex(pattern, params) {\n    return new checks.$ZodCheckRegex({\n        check: \"string_format\",\n        format: \"regex\",\n        ...util.normalizeParams(params),\n        pattern,\n    });\n}\nexport function _lowercase(params) {\n    return new checks.$ZodCheckLowerCase({\n        check: \"string_format\",\n        format: \"lowercase\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _uppercase(params) {\n    return new checks.$ZodCheckUpperCase({\n        check: \"string_format\",\n        format: \"uppercase\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _includes(includes, params) {\n    return new checks.$ZodCheckIncludes({\n        check: \"string_format\",\n        format: \"includes\",\n        ...util.normalizeParams(params),\n        includes,\n    });\n}\nexport function _startsWith(prefix, params) {\n    return new checks.$ZodCheckStartsWith({\n        check: \"string_format\",\n        format: \"starts_with\",\n        ...util.normalizeParams(params),\n        prefix,\n    });\n}\nexport function _endsWith(suffix, params) {\n    return new checks.$ZodCheckEndsWith({\n        check: \"string_format\",\n        format: \"ends_with\",\n        ...util.normalizeParams(params),\n        suffix,\n    });\n}\nexport function _property(property, schema, params) {\n    return new checks.$ZodCheckProperty({\n        check: \"property\",\n        property,\n        schema,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _mime(types, params) {\n    return new checks.$ZodCheckMimeType({\n        check: \"mime_type\",\n        mime: types,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _overwrite(tx) {\n    return new checks.$ZodCheckOverwrite({\n        check: \"overwrite\",\n        tx,\n    });\n}\n// normalize\nexport function _normalize(form) {\n    return _overwrite((input) => input.normalize(form));\n}\n// trim\nexport function _trim() {\n    return _overwrite((input) => input.trim());\n}\n// toLowerCase\nexport function _toLowerCase() {\n    return _overwrite((input) => input.toLowerCase());\n}\n// toUpperCase\nexport function _toUpperCase() {\n    return _overwrite((input) => input.toUpperCase());\n}\nexport function _array(Class, element, params) {\n    return new Class({\n        type: \"array\",\n        element,\n        // get element() {\n        //   return element;\n        // },\n        ...util.normalizeParams(params),\n    });\n}\nexport function _union(Class, options, params) {\n    return new Class({\n        type: \"union\",\n        options,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _discriminatedUnion(Class, discriminator, options, params) {\n    return new Class({\n        type: \"union\",\n        options,\n        discriminator,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _intersection(Class, left, right) {\n    return new Class({\n        type: \"intersection\",\n        left,\n        right,\n    });\n}\n// export function _tuple(\n//   Class: util.SchemaClass<schemas.$ZodTuple>,\n//   items: [],\n//   params?: string | $ZodTupleParams\n// ): schemas.$ZodTuple<[], null>;\nexport function _tuple(Class, items, _paramsOrRest, _params) {\n    const hasRest = _paramsOrRest instanceof schemas.$ZodType;\n    const params = hasRest ? _params : _paramsOrRest;\n    const rest = hasRest ? _paramsOrRest : null;\n    return new Class({\n        type: \"tuple\",\n        items,\n        rest,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _record(Class, keyType, valueType, params) {\n    return new Class({\n        type: \"record\",\n        keyType,\n        valueType,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _map(Class, keyType, valueType, params) {\n    return new Class({\n        type: \"map\",\n        keyType,\n        valueType,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _set(Class, valueType, params) {\n    return new Class({\n        type: \"set\",\n        valueType,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _enum(Class, values, params) {\n    const entries = Array.isArray(values) ? Object.fromEntries(values.map((v) => [v, v])) : values;\n    // if (Array.isArray(values)) {\n    //   for (const value of values) {\n    //     entries[value] = value;\n    //   }\n    // } else {\n    //   Object.assign(entries, values);\n    // }\n    // const entries: util.EnumLike = {};\n    // for (const val of values) {\n    //   entries[val] = val;\n    // }\n    return new Class({\n        type: \"enum\",\n        entries,\n        ...util.normalizeParams(params),\n    });\n}\n/** @deprecated This API has been merged into `z.enum()`. Use `z.enum()` instead.\n *\n * ```ts\n * enum Colors { red, green, blue }\n * z.enum(Colors);\n * ```\n */\nexport function _nativeEnum(Class, entries, params) {\n    return new Class({\n        type: \"enum\",\n        entries,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _literal(Class, value, params) {\n    return new Class({\n        type: \"literal\",\n        values: Array.isArray(value) ? value : [value],\n        ...util.normalizeParams(params),\n    });\n}\nexport function _file(Class, params) {\n    return new Class({\n        type: \"file\",\n        ...util.normalizeParams(params),\n    });\n}\nexport function _transform(Class, fn) {\n    return new Class({\n        type: \"transform\",\n        transform: fn,\n    });\n}\nexport function _optional(Class, innerType) {\n    return new Class({\n        type: \"optional\",\n        innerType,\n    });\n}\nexport function _nullable(Class, innerType) {\n    return new Class({\n        type: \"nullable\",\n        innerType,\n    });\n}\nexport function _default(Class, innerType, defaultValue) {\n    return new Class({\n        type: \"default\",\n        innerType,\n        get defaultValue() {\n            return typeof defaultValue === \"function\" ? defaultValue() : util.shallowClone(defaultValue);\n        },\n    });\n}\nexport function _nonoptional(Class, innerType, params) {\n    return new Class({\n        type: \"nonoptional\",\n        innerType,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _success(Class, innerType) {\n    return new Class({\n        type: \"success\",\n        innerType,\n    });\n}\nexport function _catch(Class, innerType, catchValue) {\n    return new Class({\n        type: \"catch\",\n        innerType,\n        catchValue: (typeof catchValue === \"function\" ? catchValue : () => catchValue),\n    });\n}\nexport function _pipe(Class, in_, out) {\n    return new Class({\n        type: \"pipe\",\n        in: in_,\n        out,\n    });\n}\nexport function _readonly(Class, innerType) {\n    return new Class({\n        type: \"readonly\",\n        innerType,\n    });\n}\nexport function _templateLiteral(Class, parts, params) {\n    return new Class({\n        type: \"template_literal\",\n        parts,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _lazy(Class, getter) {\n    return new Class({\n        type: \"lazy\",\n        getter,\n    });\n}\nexport function _promise(Class, innerType) {\n    return new Class({\n        type: \"promise\",\n        innerType,\n    });\n}\nexport function _custom(Class, fn, _params) {\n    const norm = util.normalizeParams(_params);\n    norm.abort ?? (norm.abort = true); // default to abort:false\n    const schema = new Class({\n        type: \"custom\",\n        check: \"custom\",\n        fn: fn,\n        ...norm,\n    });\n    return schema;\n}\n// same as _custom but defaults to abort:false\nexport function _refine(Class, fn, _params) {\n    const schema = new Class({\n        type: \"custom\",\n        check: \"custom\",\n        fn: fn,\n        ...util.normalizeParams(_params),\n    });\n    return schema;\n}\nexport function _superRefine(fn) {\n    const ch = _check((payload) => {\n        payload.addIssue = (issue) => {\n            if (typeof issue === \"string\") {\n                payload.issues.push(util.issue(issue, payload.value, ch._zod.def));\n            }\n            else {\n                // for Zod 3 backwards compatibility\n                const _issue = issue;\n                if (_issue.fatal)\n                    _issue.continue = false;\n                _issue.code ?? (_issue.code = \"custom\");\n                _issue.input ?? (_issue.input = payload.value);\n                _issue.inst ?? (_issue.inst = ch);\n                _issue.continue ?? (_issue.continue = !ch._zod.def.abort); // abort is always undefined, so this is always true...\n                payload.issues.push(util.issue(_issue));\n            }\n        };\n        return fn(payload.value, payload);\n    });\n    return ch;\n}\nexport function _check(fn, params) {\n    const ch = new checks.$ZodCheck({\n        check: \"custom\",\n        ...util.normalizeParams(params),\n    });\n    ch._zod.check = fn;\n    return ch;\n}\nexport function _stringbool(Classes, _params) {\n    const params = util.normalizeParams(_params);\n    let truthyArray = params.truthy ?? [\"true\", \"1\", \"yes\", \"on\", \"y\", \"enabled\"];\n    let falsyArray = params.falsy ?? [\"false\", \"0\", \"no\", \"off\", \"n\", \"disabled\"];\n    if (params.case !== \"sensitive\") {\n        truthyArray = truthyArray.map((v) => (typeof v === \"string\" ? v.toLowerCase() : v));\n        falsyArray = falsyArray.map((v) => (typeof v === \"string\" ? v.toLowerCase() : v));\n    }\n    const truthySet = new Set(truthyArray);\n    const falsySet = new Set(falsyArray);\n    const _Codec = Classes.Codec ?? schemas.$ZodCodec;\n    const _Boolean = Classes.Boolean ?? schemas.$ZodBoolean;\n    const _String = Classes.String ?? schemas.$ZodString;\n    const stringSchema = new _String({ type: \"string\", error: params.error });\n    const booleanSchema = new _Boolean({ type: \"boolean\", error: params.error });\n    const codec = new _Codec({\n        type: \"pipe\",\n        in: stringSchema,\n        out: booleanSchema,\n        transform: ((input, payload) => {\n            let data = input;\n            if (params.case !== \"sensitive\")\n                data = data.toLowerCase();\n            if (truthySet.has(data)) {\n                return true;\n            }\n            else if (falsySet.has(data)) {\n                return false;\n            }\n            else {\n                payload.issues.push({\n                    code: \"invalid_value\",\n                    expected: \"stringbool\",\n                    values: [...truthySet, ...falsySet],\n                    input: payload.value,\n                    inst: codec,\n                    continue: false,\n                });\n                return {};\n            }\n        }),\n        reverseTransform: ((input, _payload) => {\n            if (input === true) {\n                return truthyArray[0] || \"true\";\n            }\n            else {\n                return falsyArray[0] || \"false\";\n            }\n        }),\n        error: params.error,\n    });\n    return codec;\n}\nexport function _stringFormat(Class, format, fnOrRegex, _params = {}) {\n    const params = util.normalizeParams(_params);\n    const def = {\n        ...util.normalizeParams(_params),\n        check: \"string_format\",\n        type: \"string\",\n        format,\n        fn: typeof fnOrRegex === \"function\" ? fnOrRegex : (val) => fnOrRegex.test(val),\n        ...params,\n    };\n    if (fnOrRegex instanceof RegExp) {\n        def.pattern = fnOrRegex;\n    }\n    const inst = new Class(def);\n    return inst;\n}\n","import * as core from \"../core/index.js\";\nimport * as schemas from \"./schemas.js\";\nexport const ZodISODateTime = /*@__PURE__*/ core.$constructor(\"ZodISODateTime\", (inst, def) => {\n    core.$ZodISODateTime.init(inst, def);\n    schemas.ZodStringFormat.init(inst, def);\n});\nexport function datetime(params) {\n    return core._isoDateTime(ZodISODateTime, params);\n}\nexport const ZodISODate = /*@__PURE__*/ core.$constructor(\"ZodISODate\", (inst, def) => {\n    core.$ZodISODate.init(inst, def);\n    schemas.ZodStringFormat.init(inst, def);\n});\nexport function date(params) {\n    return core._isoDate(ZodISODate, params);\n}\nexport const ZodISOTime = /*@__PURE__*/ core.$constructor(\"ZodISOTime\", (inst, def) => {\n    core.$ZodISOTime.init(inst, def);\n    schemas.ZodStringFormat.init(inst, def);\n});\nexport function time(params) {\n    return core._isoTime(ZodISOTime, params);\n}\nexport const ZodISODuration = /*@__PURE__*/ core.$constructor(\"ZodISODuration\", (inst, def) => {\n    core.$ZodISODuration.init(inst, def);\n    schemas.ZodStringFormat.init(inst, def);\n});\nexport function duration(params) {\n    return core._isoDuration(ZodISODuration, params);\n}\n","import * as core from \"../core/index.js\";\nimport { $ZodError } from \"../core/index.js\";\nimport * as util from \"../core/util.js\";\nconst initializer = (inst, issues) => {\n    $ZodError.init(inst, issues);\n    inst.name = \"ZodError\";\n    Object.defineProperties(inst, {\n        format: {\n            value: (mapper) => core.formatError(inst, mapper),\n            // enumerable: false,\n        },\n        flatten: {\n            value: (mapper) => core.flattenError(inst, mapper),\n            // enumerable: false,\n        },\n        addIssue: {\n            value: (issue) => {\n                inst.issues.push(issue);\n                inst.message = JSON.stringify(inst.issues, util.jsonStringifyReplacer, 2);\n            },\n            // enumerable: false,\n        },\n        addIssues: {\n            value: (issues) => {\n                inst.issues.push(...issues);\n                inst.message = JSON.stringify(inst.issues, util.jsonStringifyReplacer, 2);\n            },\n            // enumerable: false,\n        },\n        isEmpty: {\n            get() {\n                return inst.issues.length === 0;\n            },\n            // enumerable: false,\n        },\n    });\n    // Object.defineProperty(inst, \"isEmpty\", {\n    //   get() {\n    //     return inst.issues.length === 0;\n    //   },\n    // });\n};\nexport const ZodError = core.$constructor(\"ZodError\", initializer);\nexport const ZodRealError = core.$constructor(\"ZodError\", initializer, {\n    Parent: Error,\n});\n// /** @deprecated Use `z.core.$ZodErrorMapCtx` instead. */\n// export type ErrorMapCtx = core.$ZodErrorMapCtx;\n","import * as core from \"../core/index.js\";\nimport { ZodRealError } from \"./errors.js\";\nexport const parse = /* @__PURE__ */ core._parse(ZodRealError);\nexport const parseAsync = /* @__PURE__ */ core._parseAsync(ZodRealError);\nexport const safeParse = /* @__PURE__ */ core._safeParse(ZodRealError);\nexport const safeParseAsync = /* @__PURE__ */ core._safeParseAsync(ZodRealError);\n// Codec functions\nexport const encode = /* @__PURE__ */ core._encode(ZodRealError);\nexport const decode = /* @__PURE__ */ core._decode(ZodRealError);\nexport const encodeAsync = /* @__PURE__ */ core._encodeAsync(ZodRealError);\nexport const decodeAsync = /* @__PURE__ */ core._decodeAsync(ZodRealError);\nexport const safeEncode = /* @__PURE__ */ core._safeEncode(ZodRealError);\nexport const safeDecode = /* @__PURE__ */ core._safeDecode(ZodRealError);\nexport const safeEncodeAsync = /* @__PURE__ */ core._safeEncodeAsync(ZodRealError);\nexport const safeDecodeAsync = /* @__PURE__ */ core._safeDecodeAsync(ZodRealError);\n","import * as core from \"../core/index.js\";\nimport { util } from \"../core/index.js\";\nimport * as checks from \"./checks.js\";\nimport * as iso from \"./iso.js\";\nimport * as parse from \"./parse.js\";\nexport const ZodType = /*@__PURE__*/ core.$constructor(\"ZodType\", (inst, def) => {\n    core.$ZodType.init(inst, def);\n    inst.def = def;\n    inst.type = def.type;\n    Object.defineProperty(inst, \"_def\", { value: def });\n    // base methods\n    inst.check = (...checks) => {\n        return inst.clone(util.mergeDefs(def, {\n            checks: [\n                ...(def.checks ?? []),\n                ...checks.map((ch) => typeof ch === \"function\" ? { _zod: { check: ch, def: { check: \"custom\" }, onattach: [] } } : ch),\n            ],\n        }));\n    };\n    inst.clone = (def, params) => core.clone(inst, def, params);\n    inst.brand = () => inst;\n    inst.register = ((reg, meta) => {\n        reg.add(inst, meta);\n        return inst;\n    });\n    // parsing\n    inst.parse = (data, params) => parse.parse(inst, data, params, { callee: inst.parse });\n    inst.safeParse = (data, params) => parse.safeParse(inst, data, params);\n    inst.parseAsync = async (data, params) => parse.parseAsync(inst, data, params, { callee: inst.parseAsync });\n    inst.safeParseAsync = async (data, params) => parse.safeParseAsync(inst, data, params);\n    inst.spa = inst.safeParseAsync;\n    // encoding/decoding\n    inst.encode = (data, params) => parse.encode(inst, data, params);\n    inst.decode = (data, params) => parse.decode(inst, data, params);\n    inst.encodeAsync = async (data, params) => parse.encodeAsync(inst, data, params);\n    inst.decodeAsync = async (data, params) => parse.decodeAsync(inst, data, params);\n    inst.safeEncode = (data, params) => parse.safeEncode(inst, data, params);\n    inst.safeDecode = (data, params) => parse.safeDecode(inst, data, params);\n    inst.safeEncodeAsync = async (data, params) => parse.safeEncodeAsync(inst, data, params);\n    inst.safeDecodeAsync = async (data, params) => parse.safeDecodeAsync(inst, data, params);\n    // refinements\n    inst.refine = (check, params) => inst.check(refine(check, params));\n    inst.superRefine = (refinement) => inst.check(superRefine(refinement));\n    inst.overwrite = (fn) => inst.check(checks.overwrite(fn));\n    // wrappers\n    inst.optional = () => optional(inst);\n    inst.nullable = () => nullable(inst);\n    inst.nullish = () => optional(nullable(inst));\n    inst.nonoptional = (params) => nonoptional(inst, params);\n    inst.array = () => array(inst);\n    inst.or = (arg) => union([inst, arg]);\n    inst.and = (arg) => intersection(inst, arg);\n    inst.transform = (tx) => pipe(inst, transform(tx));\n    inst.default = (def) => _default(inst, def);\n    inst.prefault = (def) => prefault(inst, def);\n    // inst.coalesce = (def, params) => coalesce(inst, def, params);\n    inst.catch = (params) => _catch(inst, params);\n    inst.pipe = (target) => pipe(inst, target);\n    inst.readonly = () => readonly(inst);\n    // meta\n    inst.describe = (description) => {\n        const cl = inst.clone();\n        core.globalRegistry.add(cl, { description });\n        return cl;\n    };\n    Object.defineProperty(inst, \"description\", {\n        get() {\n            return core.globalRegistry.get(inst)?.description;\n        },\n        configurable: true,\n    });\n    inst.meta = (...args) => {\n        if (args.length === 0) {\n            return core.globalRegistry.get(inst);\n        }\n        const cl = inst.clone();\n        core.globalRegistry.add(cl, args[0]);\n        return cl;\n    };\n    // helpers\n    inst.isOptional = () => inst.safeParse(undefined).success;\n    inst.isNullable = () => inst.safeParse(null).success;\n    return inst;\n});\n/** @internal */\nexport const _ZodString = /*@__PURE__*/ core.$constructor(\"_ZodString\", (inst, def) => {\n    core.$ZodString.init(inst, def);\n    ZodType.init(inst, def);\n    const bag = inst._zod.bag;\n    inst.format = bag.format ?? null;\n    inst.minLength = bag.minimum ?? null;\n    inst.maxLength = bag.maximum ?? null;\n    // validations\n    inst.regex = (...args) => inst.check(checks.regex(...args));\n    inst.includes = (...args) => inst.check(checks.includes(...args));\n    inst.startsWith = (...args) => inst.check(checks.startsWith(...args));\n    inst.endsWith = (...args) => inst.check(checks.endsWith(...args));\n    inst.min = (...args) => inst.check(checks.minLength(...args));\n    inst.max = (...args) => inst.check(checks.maxLength(...args));\n    inst.length = (...args) => inst.check(checks.length(...args));\n    inst.nonempty = (...args) => inst.check(checks.minLength(1, ...args));\n    inst.lowercase = (params) => inst.check(checks.lowercase(params));\n    inst.uppercase = (params) => inst.check(checks.uppercase(params));\n    // transforms\n    inst.trim = () => inst.check(checks.trim());\n    inst.normalize = (...args) => inst.check(checks.normalize(...args));\n    inst.toLowerCase = () => inst.check(checks.toLowerCase());\n    inst.toUpperCase = () => inst.check(checks.toUpperCase());\n});\nexport const ZodString = /*@__PURE__*/ core.$constructor(\"ZodString\", (inst, def) => {\n    core.$ZodString.init(inst, def);\n    _ZodString.init(inst, def);\n    inst.email = (params) => inst.check(core._email(ZodEmail, params));\n    inst.url = (params) => inst.check(core._url(ZodURL, params));\n    inst.jwt = (params) => inst.check(core._jwt(ZodJWT, params));\n    inst.emoji = (params) => inst.check(core._emoji(ZodEmoji, params));\n    inst.guid = (params) => inst.check(core._guid(ZodGUID, params));\n    inst.uuid = (params) => inst.check(core._uuid(ZodUUID, params));\n    inst.uuidv4 = (params) => inst.check(core._uuidv4(ZodUUID, params));\n    inst.uuidv6 = (params) => inst.check(core._uuidv6(ZodUUID, params));\n    inst.uuidv7 = (params) => inst.check(core._uuidv7(ZodUUID, params));\n    inst.nanoid = (params) => inst.check(core._nanoid(ZodNanoID, params));\n    inst.guid = (params) => inst.check(core._guid(ZodGUID, params));\n    inst.cuid = (params) => inst.check(core._cuid(ZodCUID, params));\n    inst.cuid2 = (params) => inst.check(core._cuid2(ZodCUID2, params));\n    inst.ulid = (params) => inst.check(core._ulid(ZodULID, params));\n    inst.base64 = (params) => inst.check(core._base64(ZodBase64, params));\n    inst.base64url = (params) => inst.check(core._base64url(ZodBase64URL, params));\n    inst.xid = (params) => inst.check(core._xid(ZodXID, params));\n    inst.ksuid = (params) => inst.check(core._ksuid(ZodKSUID, params));\n    inst.ipv4 = (params) => inst.check(core._ipv4(ZodIPv4, params));\n    inst.ipv6 = (params) => inst.check(core._ipv6(ZodIPv6, params));\n    inst.cidrv4 = (params) => inst.check(core._cidrv4(ZodCIDRv4, params));\n    inst.cidrv6 = (params) => inst.check(core._cidrv6(ZodCIDRv6, params));\n    inst.e164 = (params) => inst.check(core._e164(ZodE164, params));\n    // iso\n    inst.datetime = (params) => inst.check(iso.datetime(params));\n    inst.date = (params) => inst.check(iso.date(params));\n    inst.time = (params) => inst.check(iso.time(params));\n    inst.duration = (params) => inst.check(iso.duration(params));\n});\nexport function string(params) {\n    return core._string(ZodString, params);\n}\nexport const ZodStringFormat = /*@__PURE__*/ core.$constructor(\"ZodStringFormat\", (inst, def) => {\n    core.$ZodStringFormat.init(inst, def);\n    _ZodString.init(inst, def);\n});\nexport const ZodEmail = /*@__PURE__*/ core.$constructor(\"ZodEmail\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodEmail.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function email(params) {\n    return core._email(ZodEmail, params);\n}\nexport const ZodGUID = /*@__PURE__*/ core.$constructor(\"ZodGUID\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodGUID.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function guid(params) {\n    return core._guid(ZodGUID, params);\n}\nexport const ZodUUID = /*@__PURE__*/ core.$constructor(\"ZodUUID\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodUUID.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function uuid(params) {\n    return core._uuid(ZodUUID, params);\n}\nexport function uuidv4(params) {\n    return core._uuidv4(ZodUUID, params);\n}\n// ZodUUIDv6\nexport function uuidv6(params) {\n    return core._uuidv6(ZodUUID, params);\n}\n// ZodUUIDv7\nexport function uuidv7(params) {\n    return core._uuidv7(ZodUUID, params);\n}\nexport const ZodURL = /*@__PURE__*/ core.$constructor(\"ZodURL\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodURL.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function url(params) {\n    return core._url(ZodURL, params);\n}\nexport function httpUrl(params) {\n    return core._url(ZodURL, {\n        protocol: /^https?$/,\n        hostname: core.regexes.domain,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodEmoji = /*@__PURE__*/ core.$constructor(\"ZodEmoji\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodEmoji.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function emoji(params) {\n    return core._emoji(ZodEmoji, params);\n}\nexport const ZodNanoID = /*@__PURE__*/ core.$constructor(\"ZodNanoID\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodNanoID.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function nanoid(params) {\n    return core._nanoid(ZodNanoID, params);\n}\nexport const ZodCUID = /*@__PURE__*/ core.$constructor(\"ZodCUID\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodCUID.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function cuid(params) {\n    return core._cuid(ZodCUID, params);\n}\nexport const ZodCUID2 = /*@__PURE__*/ core.$constructor(\"ZodCUID2\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodCUID2.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function cuid2(params) {\n    return core._cuid2(ZodCUID2, params);\n}\nexport const ZodULID = /*@__PURE__*/ core.$constructor(\"ZodULID\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodULID.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function ulid(params) {\n    return core._ulid(ZodULID, params);\n}\nexport const ZodXID = /*@__PURE__*/ core.$constructor(\"ZodXID\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodXID.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function xid(params) {\n    return core._xid(ZodXID, params);\n}\nexport const ZodKSUID = /*@__PURE__*/ core.$constructor(\"ZodKSUID\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodKSUID.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function ksuid(params) {\n    return core._ksuid(ZodKSUID, params);\n}\nexport const ZodIPv4 = /*@__PURE__*/ core.$constructor(\"ZodIPv4\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodIPv4.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function ipv4(params) {\n    return core._ipv4(ZodIPv4, params);\n}\nexport const ZodIPv6 = /*@__PURE__*/ core.$constructor(\"ZodIPv6\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodIPv6.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function ipv6(params) {\n    return core._ipv6(ZodIPv6, params);\n}\nexport const ZodCIDRv4 = /*@__PURE__*/ core.$constructor(\"ZodCIDRv4\", (inst, def) => {\n    core.$ZodCIDRv4.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function cidrv4(params) {\n    return core._cidrv4(ZodCIDRv4, params);\n}\nexport const ZodCIDRv6 = /*@__PURE__*/ core.$constructor(\"ZodCIDRv6\", (inst, def) => {\n    core.$ZodCIDRv6.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function cidrv6(params) {\n    return core._cidrv6(ZodCIDRv6, params);\n}\nexport const ZodBase64 = /*@__PURE__*/ core.$constructor(\"ZodBase64\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodBase64.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function base64(params) {\n    return core._base64(ZodBase64, params);\n}\nexport const ZodBase64URL = /*@__PURE__*/ core.$constructor(\"ZodBase64URL\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodBase64URL.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function base64url(params) {\n    return core._base64url(ZodBase64URL, params);\n}\nexport const ZodE164 = /*@__PURE__*/ core.$constructor(\"ZodE164\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodE164.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function e164(params) {\n    return core._e164(ZodE164, params);\n}\nexport const ZodJWT = /*@__PURE__*/ core.$constructor(\"ZodJWT\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodJWT.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function jwt(params) {\n    return core._jwt(ZodJWT, params);\n}\nexport const ZodCustomStringFormat = /*@__PURE__*/ core.$constructor(\"ZodCustomStringFormat\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodCustomStringFormat.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function stringFormat(format, fnOrRegex, _params = {}) {\n    return core._stringFormat(ZodCustomStringFormat, format, fnOrRegex, _params);\n}\nexport function hostname(_params) {\n    return core._stringFormat(ZodCustomStringFormat, \"hostname\", core.regexes.hostname, _params);\n}\nexport function hex(_params) {\n    return core._stringFormat(ZodCustomStringFormat, \"hex\", core.regexes.hex, _params);\n}\nexport function hash(alg, params) {\n    const enc = params?.enc ?? \"hex\";\n    const format = `${alg}_${enc}`;\n    const regex = core.regexes[format];\n    if (!regex)\n        throw new Error(`Unrecognized hash format: ${format}`);\n    return core._stringFormat(ZodCustomStringFormat, format, regex, params);\n}\nexport const ZodNumber = /*@__PURE__*/ core.$constructor(\"ZodNumber\", (inst, def) => {\n    core.$ZodNumber.init(inst, def);\n    ZodType.init(inst, def);\n    inst.gt = (value, params) => inst.check(checks.gt(value, params));\n    inst.gte = (value, params) => inst.check(checks.gte(value, params));\n    inst.min = (value, params) => inst.check(checks.gte(value, params));\n    inst.lt = (value, params) => inst.check(checks.lt(value, params));\n    inst.lte = (value, params) => inst.check(checks.lte(value, params));\n    inst.max = (value, params) => inst.check(checks.lte(value, params));\n    inst.int = (params) => inst.check(int(params));\n    inst.safe = (params) => inst.check(int(params));\n    inst.positive = (params) => inst.check(checks.gt(0, params));\n    inst.nonnegative = (params) => inst.check(checks.gte(0, params));\n    inst.negative = (params) => inst.check(checks.lt(0, params));\n    inst.nonpositive = (params) => inst.check(checks.lte(0, params));\n    inst.multipleOf = (value, params) => inst.check(checks.multipleOf(value, params));\n    inst.step = (value, params) => inst.check(checks.multipleOf(value, params));\n    // inst.finite = (params) => inst.check(core.finite(params));\n    inst.finite = () => inst;\n    const bag = inst._zod.bag;\n    inst.minValue =\n        Math.max(bag.minimum ?? Number.NEGATIVE_INFINITY, bag.exclusiveMinimum ?? Number.NEGATIVE_INFINITY) ?? null;\n    inst.maxValue =\n        Math.min(bag.maximum ?? Number.POSITIVE_INFINITY, bag.exclusiveMaximum ?? Number.POSITIVE_INFINITY) ?? null;\n    inst.isInt = (bag.format ?? \"\").includes(\"int\") || Number.isSafeInteger(bag.multipleOf ?? 0.5);\n    inst.isFinite = true;\n    inst.format = bag.format ?? null;\n});\nexport function number(params) {\n    return core._number(ZodNumber, params);\n}\nexport const ZodNumberFormat = /*@__PURE__*/ core.$constructor(\"ZodNumberFormat\", (inst, def) => {\n    core.$ZodNumberFormat.init(inst, def);\n    ZodNumber.init(inst, def);\n});\nexport function int(params) {\n    return core._int(ZodNumberFormat, params);\n}\nexport function float32(params) {\n    return core._float32(ZodNumberFormat, params);\n}\nexport function float64(params) {\n    return core._float64(ZodNumberFormat, params);\n}\nexport function int32(params) {\n    return core._int32(ZodNumberFormat, params);\n}\nexport function uint32(params) {\n    return core._uint32(ZodNumberFormat, params);\n}\nexport const ZodBoolean = /*@__PURE__*/ core.$constructor(\"ZodBoolean\", (inst, def) => {\n    core.$ZodBoolean.init(inst, def);\n    ZodType.init(inst, def);\n});\nexport function boolean(params) {\n    return core._boolean(ZodBoolean, params);\n}\nexport const ZodBigInt = /*@__PURE__*/ core.$constructor(\"ZodBigInt\", (inst, def) => {\n    core.$ZodBigInt.init(inst, def);\n    ZodType.init(inst, def);\n    inst.gte = (value, params) => inst.check(checks.gte(value, params));\n    inst.min = (value, params) => inst.check(checks.gte(value, params));\n    inst.gt = (value, params) => inst.check(checks.gt(value, params));\n    inst.gte = (value, params) => inst.check(checks.gte(value, params));\n    inst.min = (value, params) => inst.check(checks.gte(value, params));\n    inst.lt = (value, params) => inst.check(checks.lt(value, params));\n    inst.lte = (value, params) => inst.check(checks.lte(value, params));\n    inst.max = (value, params) => inst.check(checks.lte(value, params));\n    inst.positive = (params) => inst.check(checks.gt(BigInt(0), params));\n    inst.negative = (params) => inst.check(checks.lt(BigInt(0), params));\n    inst.nonpositive = (params) => inst.check(checks.lte(BigInt(0), params));\n    inst.nonnegative = (params) => inst.check(checks.gte(BigInt(0), params));\n    inst.multipleOf = (value, params) => inst.check(checks.multipleOf(value, params));\n    const bag = inst._zod.bag;\n    inst.minValue = bag.minimum ?? null;\n    inst.maxValue = bag.maximum ?? null;\n    inst.format = bag.format ?? null;\n});\nexport function bigint(params) {\n    return core._bigint(ZodBigInt, params);\n}\nexport const ZodBigIntFormat = /*@__PURE__*/ core.$constructor(\"ZodBigIntFormat\", (inst, def) => {\n    core.$ZodBigIntFormat.init(inst, def);\n    ZodBigInt.init(inst, def);\n});\n// int64\nexport function int64(params) {\n    return core._int64(ZodBigIntFormat, params);\n}\n// uint64\nexport function uint64(params) {\n    return core._uint64(ZodBigIntFormat, params);\n}\nexport const ZodSymbol = /*@__PURE__*/ core.$constructor(\"ZodSymbol\", (inst, def) => {\n    core.$ZodSymbol.init(inst, def);\n    ZodType.init(inst, def);\n});\nexport function symbol(params) {\n    return core._symbol(ZodSymbol, params);\n}\nexport const ZodUndefined = /*@__PURE__*/ core.$constructor(\"ZodUndefined\", (inst, def) => {\n    core.$ZodUndefined.init(inst, def);\n    ZodType.init(inst, def);\n});\nfunction _undefined(params) {\n    return core._undefined(ZodUndefined, params);\n}\nexport { _undefined as undefined };\nexport const ZodNull = /*@__PURE__*/ core.$constructor(\"ZodNull\", (inst, def) => {\n    core.$ZodNull.init(inst, def);\n    ZodType.init(inst, def);\n});\nfunction _null(params) {\n    return core._null(ZodNull, params);\n}\nexport { _null as null };\nexport const ZodAny = /*@__PURE__*/ core.$constructor(\"ZodAny\", (inst, def) => {\n    core.$ZodAny.init(inst, def);\n    ZodType.init(inst, def);\n});\nexport function any() {\n    return core._any(ZodAny);\n}\nexport const ZodUnknown = /*@__PURE__*/ core.$constructor(\"ZodUnknown\", (inst, def) => {\n    core.$ZodUnknown.init(inst, def);\n    ZodType.init(inst, def);\n});\nexport function unknown() {\n    return core._unknown(ZodUnknown);\n}\nexport const ZodNever = /*@__PURE__*/ core.$constructor(\"ZodNever\", (inst, def) => {\n    core.$ZodNever.init(inst, def);\n    ZodType.init(inst, def);\n});\nexport function never(params) {\n    return core._never(ZodNever, params);\n}\nexport const ZodVoid = /*@__PURE__*/ core.$constructor(\"ZodVoid\", (inst, def) => {\n    core.$ZodVoid.init(inst, def);\n    ZodType.init(inst, def);\n});\nfunction _void(params) {\n    return core._void(ZodVoid, params);\n}\nexport { _void as void };\nexport const ZodDate = /*@__PURE__*/ core.$constructor(\"ZodDate\", (inst, def) => {\n    core.$ZodDate.init(inst, def);\n    ZodType.init(inst, def);\n    inst.min = (value, params) => inst.check(checks.gte(value, params));\n    inst.max = (value, params) => inst.check(checks.lte(value, params));\n    const c = inst._zod.bag;\n    inst.minDate = c.minimum ? new Date(c.minimum) : null;\n    inst.maxDate = c.maximum ? new Date(c.maximum) : null;\n});\nexport function date(params) {\n    return core._date(ZodDate, params);\n}\nexport const ZodArray = /*@__PURE__*/ core.$constructor(\"ZodArray\", (inst, def) => {\n    core.$ZodArray.init(inst, def);\n    ZodType.init(inst, def);\n    inst.element = def.element;\n    inst.min = (minLength, params) => inst.check(checks.minLength(minLength, params));\n    inst.nonempty = (params) => inst.check(checks.minLength(1, params));\n    inst.max = (maxLength, params) => inst.check(checks.maxLength(maxLength, params));\n    inst.length = (len, params) => inst.check(checks.length(len, params));\n    inst.unwrap = () => inst.element;\n});\nexport function array(element, params) {\n    return core._array(ZodArray, element, params);\n}\n// .keyof\nexport function keyof(schema) {\n    const shape = schema._zod.def.shape;\n    return _enum(Object.keys(shape));\n}\nexport const ZodObject = /*@__PURE__*/ core.$constructor(\"ZodObject\", (inst, def) => {\n    core.$ZodObjectJIT.init(inst, def);\n    ZodType.init(inst, def);\n    util.defineLazy(inst, \"shape\", () => {\n        return def.shape;\n    });\n    inst.keyof = () => _enum(Object.keys(inst._zod.def.shape));\n    inst.catchall = (catchall) => inst.clone({ ...inst._zod.def, catchall: catchall });\n    inst.passthrough = () => inst.clone({ ...inst._zod.def, catchall: unknown() });\n    inst.loose = () => inst.clone({ ...inst._zod.def, catchall: unknown() });\n    inst.strict = () => inst.clone({ ...inst._zod.def, catchall: never() });\n    inst.strip = () => inst.clone({ ...inst._zod.def, catchall: undefined });\n    inst.extend = (incoming) => {\n        return util.extend(inst, incoming);\n    };\n    inst.safeExtend = (incoming) => {\n        return util.safeExtend(inst, incoming);\n    };\n    inst.merge = (other) => util.merge(inst, other);\n    inst.pick = (mask) => util.pick(inst, mask);\n    inst.omit = (mask) => util.omit(inst, mask);\n    inst.partial = (...args) => util.partial(ZodOptional, inst, args[0]);\n    inst.required = (...args) => util.required(ZodNonOptional, inst, args[0]);\n});\nexport function object(shape, params) {\n    const def = {\n        type: \"object\",\n        shape: shape ?? {},\n        ...util.normalizeParams(params),\n    };\n    return new ZodObject(def);\n}\n// strictObject\nexport function strictObject(shape, params) {\n    return new ZodObject({\n        type: \"object\",\n        shape,\n        catchall: never(),\n        ...util.normalizeParams(params),\n    });\n}\n// looseObject\nexport function looseObject(shape, params) {\n    return new ZodObject({\n        type: \"object\",\n        shape,\n        catchall: unknown(),\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodUnion = /*@__PURE__*/ core.$constructor(\"ZodUnion\", (inst, def) => {\n    core.$ZodUnion.init(inst, def);\n    ZodType.init(inst, def);\n    inst.options = def.options;\n});\nexport function union(options, params) {\n    return new ZodUnion({\n        type: \"union\",\n        options: options,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodDiscriminatedUnion = /*@__PURE__*/ core.$constructor(\"ZodDiscriminatedUnion\", (inst, def) => {\n    ZodUnion.init(inst, def);\n    core.$ZodDiscriminatedUnion.init(inst, def);\n});\nexport function discriminatedUnion(discriminator, options, params) {\n    // const [options, params] = args;\n    return new ZodDiscriminatedUnion({\n        type: \"union\",\n        options,\n        discriminator,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodIntersection = /*@__PURE__*/ core.$constructor(\"ZodIntersection\", (inst, def) => {\n    core.$ZodIntersection.init(inst, def);\n    ZodType.init(inst, def);\n});\nexport function intersection(left, right) {\n    return new ZodIntersection({\n        type: \"intersection\",\n        left: left,\n        right: right,\n    });\n}\nexport const ZodTuple = /*@__PURE__*/ core.$constructor(\"ZodTuple\", (inst, def) => {\n    core.$ZodTuple.init(inst, def);\n    ZodType.init(inst, def);\n    inst.rest = (rest) => inst.clone({\n        ...inst._zod.def,\n        rest: rest,\n    });\n});\nexport function tuple(items, _paramsOrRest, _params) {\n    const hasRest = _paramsOrRest instanceof core.$ZodType;\n    const params = hasRest ? _params : _paramsOrRest;\n    const rest = hasRest ? _paramsOrRest : null;\n    return new ZodTuple({\n        type: \"tuple\",\n        items: items,\n        rest,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodRecord = /*@__PURE__*/ core.$constructor(\"ZodRecord\", (inst, def) => {\n    core.$ZodRecord.init(inst, def);\n    ZodType.init(inst, def);\n    inst.keyType = def.keyType;\n    inst.valueType = def.valueType;\n});\nexport function record(keyType, valueType, params) {\n    return new ZodRecord({\n        type: \"record\",\n        keyType,\n        valueType: valueType,\n        ...util.normalizeParams(params),\n    });\n}\n// type alksjf = core.output<core.$ZodRecordKey>;\nexport function partialRecord(keyType, valueType, params) {\n    const k = core.clone(keyType);\n    k._zod.values = undefined;\n    return new ZodRecord({\n        type: \"record\",\n        keyType: k,\n        valueType: valueType,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodMap = /*@__PURE__*/ core.$constructor(\"ZodMap\", (inst, def) => {\n    core.$ZodMap.init(inst, def);\n    ZodType.init(inst, def);\n    inst.keyType = def.keyType;\n    inst.valueType = def.valueType;\n});\nexport function map(keyType, valueType, params) {\n    return new ZodMap({\n        type: \"map\",\n        keyType: keyType,\n        valueType: valueType,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodSet = /*@__PURE__*/ core.$constructor(\"ZodSet\", (inst, def) => {\n    core.$ZodSet.init(inst, def);\n    ZodType.init(inst, def);\n    inst.min = (...args) => inst.check(core._minSize(...args));\n    inst.nonempty = (params) => inst.check(core._minSize(1, params));\n    inst.max = (...args) => inst.check(core._maxSize(...args));\n    inst.size = (...args) => inst.check(core._size(...args));\n});\nexport function set(valueType, params) {\n    return new ZodSet({\n        type: \"set\",\n        valueType: valueType,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodEnum = /*@__PURE__*/ core.$constructor(\"ZodEnum\", (inst, def) => {\n    core.$ZodEnum.init(inst, def);\n    ZodType.init(inst, def);\n    inst.enum = def.entries;\n    inst.options = Object.values(def.entries);\n    const keys = new Set(Object.keys(def.entries));\n    inst.extract = (values, params) => {\n        const newEntries = {};\n        for (const value of values) {\n            if (keys.has(value)) {\n                newEntries[value] = def.entries[value];\n            }\n            else\n                throw new Error(`Key ${value} not found in enum`);\n        }\n        return new ZodEnum({\n            ...def,\n            checks: [],\n            ...util.normalizeParams(params),\n            entries: newEntries,\n        });\n    };\n    inst.exclude = (values, params) => {\n        const newEntries = { ...def.entries };\n        for (const value of values) {\n            if (keys.has(value)) {\n                delete newEntries[value];\n            }\n            else\n                throw new Error(`Key ${value} not found in enum`);\n        }\n        return new ZodEnum({\n            ...def,\n            checks: [],\n            ...util.normalizeParams(params),\n            entries: newEntries,\n        });\n    };\n});\nfunction _enum(values, params) {\n    const entries = Array.isArray(values) ? Object.fromEntries(values.map((v) => [v, v])) : values;\n    return new ZodEnum({\n        type: \"enum\",\n        entries,\n        ...util.normalizeParams(params),\n    });\n}\nexport { _enum as enum };\n/** @deprecated This API has been merged into `z.enum()`. Use `z.enum()` instead.\n *\n * ```ts\n * enum Colors { red, green, blue }\n * z.enum(Colors);\n * ```\n */\nexport function nativeEnum(entries, params) {\n    return new ZodEnum({\n        type: \"enum\",\n        entries,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodLiteral = /*@__PURE__*/ core.$constructor(\"ZodLiteral\", (inst, def) => {\n    core.$ZodLiteral.init(inst, def);\n    ZodType.init(inst, def);\n    inst.values = new Set(def.values);\n    Object.defineProperty(inst, \"value\", {\n        get() {\n            if (def.values.length > 1) {\n                throw new Error(\"This schema contains multiple valid literal values. Use `.values` instead.\");\n            }\n            return def.values[0];\n        },\n    });\n});\nexport function literal(value, params) {\n    return new ZodLiteral({\n        type: \"literal\",\n        values: Array.isArray(value) ? value : [value],\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodFile = /*@__PURE__*/ core.$constructor(\"ZodFile\", (inst, def) => {\n    core.$ZodFile.init(inst, def);\n    ZodType.init(inst, def);\n    inst.min = (size, params) => inst.check(core._minSize(size, params));\n    inst.max = (size, params) => inst.check(core._maxSize(size, params));\n    inst.mime = (types, params) => inst.check(core._mime(Array.isArray(types) ? types : [types], params));\n});\nexport function file(params) {\n    return core._file(ZodFile, params);\n}\nexport const ZodTransform = /*@__PURE__*/ core.$constructor(\"ZodTransform\", (inst, def) => {\n    core.$ZodTransform.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        if (_ctx.direction === \"backward\") {\n            throw new core.$ZodEncodeError(inst.constructor.name);\n        }\n        payload.addIssue = (issue) => {\n            if (typeof issue === \"string\") {\n                payload.issues.push(util.issue(issue, payload.value, def));\n            }\n            else {\n                // for Zod 3 backwards compatibility\n                const _issue = issue;\n                if (_issue.fatal)\n                    _issue.continue = false;\n                _issue.code ?? (_issue.code = \"custom\");\n                _issue.input ?? (_issue.input = payload.value);\n                _issue.inst ?? (_issue.inst = inst);\n                // _issue.continue ??= true;\n                payload.issues.push(util.issue(_issue));\n            }\n        };\n        const output = def.transform(payload.value, payload);\n        if (output instanceof Promise) {\n            return output.then((output) => {\n                payload.value = output;\n                return payload;\n            });\n        }\n        payload.value = output;\n        return payload;\n    };\n});\nexport function transform(fn) {\n    return new ZodTransform({\n        type: \"transform\",\n        transform: fn,\n    });\n}\nexport const ZodOptional = /*@__PURE__*/ core.$constructor(\"ZodOptional\", (inst, def) => {\n    core.$ZodOptional.init(inst, def);\n    ZodType.init(inst, def);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function optional(innerType) {\n    return new ZodOptional({\n        type: \"optional\",\n        innerType: innerType,\n    });\n}\nexport const ZodNullable = /*@__PURE__*/ core.$constructor(\"ZodNullable\", (inst, def) => {\n    core.$ZodNullable.init(inst, def);\n    ZodType.init(inst, def);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function nullable(innerType) {\n    return new ZodNullable({\n        type: \"nullable\",\n        innerType: innerType,\n    });\n}\n// nullish\nexport function nullish(innerType) {\n    return optional(nullable(innerType));\n}\nexport const ZodDefault = /*@__PURE__*/ core.$constructor(\"ZodDefault\", (inst, def) => {\n    core.$ZodDefault.init(inst, def);\n    ZodType.init(inst, def);\n    inst.unwrap = () => inst._zod.def.innerType;\n    inst.removeDefault = inst.unwrap;\n});\nexport function _default(innerType, defaultValue) {\n    return new ZodDefault({\n        type: \"default\",\n        innerType: innerType,\n        get defaultValue() {\n            return typeof defaultValue === \"function\" ? defaultValue() : util.shallowClone(defaultValue);\n        },\n    });\n}\nexport const ZodPrefault = /*@__PURE__*/ core.$constructor(\"ZodPrefault\", (inst, def) => {\n    core.$ZodPrefault.init(inst, def);\n    ZodType.init(inst, def);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function prefault(innerType, defaultValue) {\n    return new ZodPrefault({\n        type: \"prefault\",\n        innerType: innerType,\n        get defaultValue() {\n            return typeof defaultValue === \"function\" ? defaultValue() : util.shallowClone(defaultValue);\n        },\n    });\n}\nexport const ZodNonOptional = /*@__PURE__*/ core.$constructor(\"ZodNonOptional\", (inst, def) => {\n    core.$ZodNonOptional.init(inst, def);\n    ZodType.init(inst, def);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function nonoptional(innerType, params) {\n    return new ZodNonOptional({\n        type: \"nonoptional\",\n        innerType: innerType,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodSuccess = /*@__PURE__*/ core.$constructor(\"ZodSuccess\", (inst, def) => {\n    core.$ZodSuccess.init(inst, def);\n    ZodType.init(inst, def);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function success(innerType) {\n    return new ZodSuccess({\n        type: \"success\",\n        innerType: innerType,\n    });\n}\nexport const ZodCatch = /*@__PURE__*/ core.$constructor(\"ZodCatch\", (inst, def) => {\n    core.$ZodCatch.init(inst, def);\n    ZodType.init(inst, def);\n    inst.unwrap = () => inst._zod.def.innerType;\n    inst.removeCatch = inst.unwrap;\n});\nfunction _catch(innerType, catchValue) {\n    return new ZodCatch({\n        type: \"catch\",\n        innerType: innerType,\n        catchValue: (typeof catchValue === \"function\" ? catchValue : () => catchValue),\n    });\n}\nexport { _catch as catch };\nexport const ZodNaN = /*@__PURE__*/ core.$constructor(\"ZodNaN\", (inst, def) => {\n    core.$ZodNaN.init(inst, def);\n    ZodType.init(inst, def);\n});\nexport function nan(params) {\n    return core._nan(ZodNaN, params);\n}\nexport const ZodPipe = /*@__PURE__*/ core.$constructor(\"ZodPipe\", (inst, def) => {\n    core.$ZodPipe.init(inst, def);\n    ZodType.init(inst, def);\n    inst.in = def.in;\n    inst.out = def.out;\n});\nexport function pipe(in_, out) {\n    return new ZodPipe({\n        type: \"pipe\",\n        in: in_,\n        out: out,\n        // ...util.normalizeParams(params),\n    });\n}\nexport const ZodCodec = /*@__PURE__*/ core.$constructor(\"ZodCodec\", (inst, def) => {\n    ZodPipe.init(inst, def);\n    core.$ZodCodec.init(inst, def);\n});\nexport function codec(in_, out, params) {\n    return new ZodCodec({\n        type: \"pipe\",\n        in: in_,\n        out: out,\n        transform: params.decode,\n        reverseTransform: params.encode,\n    });\n}\nexport const ZodReadonly = /*@__PURE__*/ core.$constructor(\"ZodReadonly\", (inst, def) => {\n    core.$ZodReadonly.init(inst, def);\n    ZodType.init(inst, def);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function readonly(innerType) {\n    return new ZodReadonly({\n        type: \"readonly\",\n        innerType: innerType,\n    });\n}\nexport const ZodTemplateLiteral = /*@__PURE__*/ core.$constructor(\"ZodTemplateLiteral\", (inst, def) => {\n    core.$ZodTemplateLiteral.init(inst, def);\n    ZodType.init(inst, def);\n});\nexport function templateLiteral(parts, params) {\n    return new ZodTemplateLiteral({\n        type: \"template_literal\",\n        parts,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodLazy = /*@__PURE__*/ core.$constructor(\"ZodLazy\", (inst, def) => {\n    core.$ZodLazy.init(inst, def);\n    ZodType.init(inst, def);\n    inst.unwrap = () => inst._zod.def.getter();\n});\nexport function lazy(getter) {\n    return new ZodLazy({\n        type: \"lazy\",\n        getter: getter,\n    });\n}\nexport const ZodPromise = /*@__PURE__*/ core.$constructor(\"ZodPromise\", (inst, def) => {\n    core.$ZodPromise.init(inst, def);\n    ZodType.init(inst, def);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function promise(innerType) {\n    return new ZodPromise({\n        type: \"promise\",\n        innerType: innerType,\n    });\n}\nexport const ZodFunction = /*@__PURE__*/ core.$constructor(\"ZodFunction\", (inst, def) => {\n    core.$ZodFunction.init(inst, def);\n    ZodType.init(inst, def);\n});\nexport function _function(params) {\n    return new ZodFunction({\n        type: \"function\",\n        input: Array.isArray(params?.input) ? tuple(params?.input) : (params?.input ?? array(unknown())),\n        output: params?.output ?? unknown(),\n    });\n}\nexport { _function as function };\nexport const ZodCustom = /*@__PURE__*/ core.$constructor(\"ZodCustom\", (inst, def) => {\n    core.$ZodCustom.init(inst, def);\n    ZodType.init(inst, def);\n});\n// custom checks\nexport function check(fn) {\n    const ch = new core.$ZodCheck({\n        check: \"custom\",\n        // ...util.normalizeParams(params),\n    });\n    ch._zod.check = fn;\n    return ch;\n}\nexport function custom(fn, _params) {\n    return core._custom(ZodCustom, fn ?? (() => true), _params);\n}\nexport function refine(fn, _params = {}) {\n    return core._refine(ZodCustom, fn, _params);\n}\n// superRefine\nexport function superRefine(fn) {\n    return core._superRefine(fn);\n}\nfunction _instanceof(cls, params = {\n    error: `Input not instance of ${cls.name}`,\n}) {\n    const inst = new ZodCustom({\n        type: \"custom\",\n        check: \"custom\",\n        fn: (data) => data instanceof cls,\n        abort: true,\n        ...util.normalizeParams(params),\n    });\n    inst._zod.bag.Class = cls;\n    return inst;\n}\nexport { _instanceof as instanceof };\n// stringbool\nexport const stringbool = (...args) => core._stringbool({\n    Codec: ZodCodec,\n    Boolean: ZodBoolean,\n    String: ZodString,\n}, ...args);\nexport function json(params) {\n    const jsonSchema = lazy(() => {\n        return union([string(params), number(), boolean(), _null(), array(jsonSchema), record(string(), jsonSchema)]);\n    });\n    return jsonSchema;\n}\n// preprocess\n// /** @deprecated Use `z.pipe()` and `z.transform()` instead. */\nexport function preprocess(fn, schema) {\n    return pipe(transform(fn), schema);\n}\n","import * as core from \"../core/index.js\";\nimport * as schemas from \"./schemas.js\";\nexport function string(params) {\n    return core._coercedString(schemas.ZodString, params);\n}\nexport function number(params) {\n    return core._coercedNumber(schemas.ZodNumber, params);\n}\nexport function boolean(params) {\n    return core._coercedBoolean(schemas.ZodBoolean, params);\n}\nexport function bigint(params) {\n    return core._coercedBigint(schemas.ZodBigInt, params);\n}\nexport function date(params) {\n    return core._coercedDate(schemas.ZodDate, params);\n}\n","import { isAfter, isEqual, isValid, parseISO } from 'date-fns';\nimport { z } from 'zod';\n\nconst DateStringSchema = z\n  .string()\n  .regex(/^\\d{4}-\\d{2}-\\d{2}$/, '   ( YYYY-MM-DD)')\n  .refine(v => isValid(parseISO(v)), ' ');\n\nexport const BudgetSchema = z\n  .object({\n    initialBalance: z.coerce.number().positive('   '),\n    startDate: DateStringSchema,\n    endDate: DateStringSchema,\n    createdAt: DateStringSchema.optional(),\n  })\n  .refine(\n    b => {\n      const s = parseISO(b.startDate);\n      const e = parseISO(b.endDate);\n      return isAfter(e, s) || isEqual(e, s);\n    },\n    { message: '       ', path: ['endDate'] }\n  );\n\nexport type Budget = z.infer<typeof BudgetSchema>;\n\nexport const TransactionSchema = z.object({\n  id: z.number().int().optional(),\n  amount: z.coerce.number().positive('    0'),\n  type: z.enum(['expense', 'income']),\n  date: DateStringSchema,\n});\n\nexport type Transaction = z.infer<typeof TransactionSchema>;\n","import { z } from 'zod';\n\nimport { BudgetSchema, TransactionSchema, type Budget, type Transaction } from '../models/schemas';\n\nimport { formatISODate } from './dates';\n\nexport function formatRubles(value: number): string {\n  return `${new Intl.NumberFormat('ru-RU', { maximumFractionDigits: 2 }).format(Math.abs(value))} `;\n}\n\nexport function parseRubles(raw: string): number {\n  const digits = raw.replace(/[^\\d]/g, '');\n  if (!digits) {\n    return 0;\n  }\n  return Number(digits);\n}\n\nexport function attachMoneyInput(\n  input: HTMLInputElement,\n  opts?: { emptyPlaceholder?: string }\n): void {\n  const basePlaceholder = opts?.emptyPlaceholder ?? input.placeholder ?? '';\n  const focusPlaceholder = '0 ';\n\n  const setCaretBeforeCurrency = () => {\n    const pos = Math.max(0, input.value.length - 2);\n    try {\n      input.setSelectionRange(pos, pos);\n    } catch (e) {\n      void e;\n    }\n  };\n\n  const applyFormat = () => {\n    const digits = input.value.replace(/[^\\d]/g, '');\n    if (!digits) {\n      input.value = '';\n      return;\n    }\n    input.value = formatRubles(Number(digits));\n    requestAnimationFrame(setCaretBeforeCurrency);\n  };\n\n  input.addEventListener('focus', () => {\n    input.placeholder = focusPlaceholder;\n    applyFormat();\n  });\n\n  input.addEventListener('blur', () => {\n    input.placeholder = basePlaceholder;\n    applyFormat();\n  });\n\n  input.addEventListener('input', () => {\n    applyFormat();\n  });\n}\n\nfunction zodFirstError(err: z.ZodError): string {\n  const first = err.issues[0];\n  return first?.message ?? ' ';\n}\n\n/**\n *  .\n * - createdAt:      \"\" ( ).\n * -     ( ).\n */\nexport function parseBudgetForm(input: {\n  initialBalance: string;\n  startDate: string;\n  endDate: string;\n  createdAt?: string;\n}): { ok: true; value: Budget } | { ok: false; error: string } {\n  const candidate = {\n    initialBalance: parseRubles(input.initialBalance),\n    startDate: input.startDate,\n    endDate: input.endDate,\n    createdAt: input.createdAt ?? formatISODate(new Date()),\n  };\n\n  const res = BudgetSchema.safeParse(candidate);\n  if (!res.success) {\n    return { ok: false, error: zodFirstError(res.error) };\n  }\n\n  return { ok: true, value: res.data };\n}\n\nexport function parseTransactionForm(input: {\n  amount: string;\n  type: Transaction['type'];\n  date: string;\n}): { ok: true; value: Omit<Transaction, 'id'> } | { ok: false; error: string } {\n  const candidate = {\n    amount: parseRubles(input.amount),\n    type: input.type,\n    date: input.date,\n  };\n\n  const res = TransactionSchema.omit({ id: true }).safeParse(candidate);\n  if (!res.success) {\n    return { ok: false, error: zodFirstError(res.error) };\n  }\n\n  return { ok: true, value: res.data };\n}\n","import { format, differenceInCalendarDays, parseISO, startOfDay } from 'date-fns';\nimport { ru } from 'date-fns/locale';\n\nimport {\n  averageRemainingPerDay,\n  remainingDays,\n  todayLeft,\n  totalBalance,\n} from '../services/budget-calculator';\nimport { formatISODate } from '../utils/dates';\nimport { addTransaction, getAllTransactions } from '../utils/db';\nimport { appStore } from '../utils/state';\nimport { attachMoneyInput, parseTransactionForm } from '../utils/validation';\n\ninterface BudgetWithCreatedAt {\n  initialBalance: number;\n  startDate: string;\n  endDate: string;\n  createdAt: string;\n}\n\ninterface Tx {\n  type: 'expense' | 'income';\n  amount: number;\n  date: string;\n}\n\nfunction formatMoney(n: number): string {\n  return `${new Intl.NumberFormat('ru-RU', { maximumFractionDigits: 2 }).format(n)} `;\n}\n\nfunction pluralDaysRu(n: number): string {\n  const pr = new Intl.PluralRules('ru-RU');\n  const form = pr.select(n);\n\n  if (form === 'one') {\n    return '';\n  }\n  if (form === 'few') {\n    return '';\n  }\n  return '';\n}\n\nfunction formatRuDayMonth(iso: string): string {\n  const d = parseISO(iso);\n  return format(d, 'd MMMM', { locale: ru });\n}\n\nfunction averageSpentPerDay(budget: { startDate: string }, txs: Tx[]): number {\n  const start = startOfDay(parseISO(budget.startDate));\n  const today = startOfDay(new Date());\n\n  const daysPassed = Math.max(1, differenceInCalendarDays(today, start) + 1);\n\n  const spent = txs\n    .filter(t => t.type === 'expense')\n    .reduce((sum, t) => sum + Math.abs(t.amount), 0);\n\n  if (spent === 0) {\n    return 0;\n  }\n\n  return spent / daysPassed;\n}\n\nfunction parseRubDigitsToNumber(raw: string): number {\n  const digits = raw.replace(/[^\\d]/g, '');\n  if (!digits) {\n    return 0;\n  }\n  return Number(digits);\n}\n\nexport function renderMainPage(): HTMLElement {\n  const state = appStore.getState();\n  const wrapper = document.createElement('div');\n  wrapper.className = 'min-h-screen bg-slate-50';\n\n  const budget = state.budget as BudgetWithCreatedAt | null;\n  if (!budget) {\n    appStore.setState({ route: 'start' });\n    return wrapper;\n  }\n\n  const todayISO = formatISODate(new Date());\n  const txs = state.transactions as Tx[];\n\n  const safeBudget: BudgetWithCreatedAt = {\n    ...budget,\n    createdAt: budget.createdAt || todayISO,\n  };\n\n  const total = totalBalance(safeBudget, txs);\n  const daily = averageRemainingPerDay(safeBudget, txs, todayISO);\n  const leftToday = todayLeft(safeBudget, txs, todayISO);\n  const daysLeft = remainingDays(safeBudget, todayISO);\n\n  const lastExpenses = txs\n    .filter(t => t.type === 'expense')\n    .slice(0, 3)\n    .map(t => ({ ...t, amount: Math.abs(t.amount) }));\n\n  const avgSpent = averageSpentPerDay(safeBudget, txs);\n\n  const cheerText =\n    leftToday >= 0\n      ? '        !'\n      : '      .';\n\n  const todayTone = leftToday >= 0 ? 'text-emerald-500' : 'text-red-600';\n\n  wrapper.innerHTML = `\n    <div class=\"min-[704px]:hidden min-h-screen bg-white px-4 py-8\">\n      <div class=\"pb-32\">\n        <div class=\"flex items-center justify-between\">\n          <div class=\"font-inter text-[16px] font-normal leading-[1.5] text-slate-500\">\n             \n          </div>\n          <div class=\"font-inter text-[16px] font-normal leading-[1.5] text-blue-500\">\n            ${formatMoney(daily)}  \n          </div>\n        </div>\n\n        <div class=\"mt-3 flex items-baseline gap-2\">\n          <div class=\"font-inter text-[24px] font-semibold leading-[1.2] text-slate-900\">\n            ${formatMoney(total)}\n          </div>\n          <div class=\"font-inter text-[16px] font-normal leading-[1.5] text-slate-500\">\n             ${daysLeft} ${pluralDaysRu(daysLeft)}\n          </div>\n        </div>\n\n        <div class=\"mt-6 grid grid-cols-2 gap-4\">\n          <button\n            id=\"editBudgetMobile\"\n            type=\"button\"\n            class=\"h-12 w-full rounded border border-blue-500 bg-white px-4 font-inter text-[16px] font-medium leading-[1.5] text-blue-500 transition-colors duration-150 hover:bg-blue-500/10\"\n          >\n            \n          </button>\n\n          <button\n            id=\"toHistoryMobile\"\n            type=\"button\"\n            class=\"h-12 w-full rounded border border-blue-500 bg-white px-4 font-inter text-[16px] font-medium leading-[1.5] text-blue-500 transition-colors duration-150 hover:bg-blue-500/10\"\n          >\n             \n          </button>\n        </div>\n\n        <div class=\"mt-10\">\n          <div class=\"font-inter text-[16px] font-medium leading-[1.5] text-slate-500\">\n              \n          </div>\n\n          <div class=\"mt-2 flex items-baseline gap-1\">\n            <div class=\"font-inter text-[32px] font-bold leading-[1.2] ${todayTone}\">\n              ${new Intl.NumberFormat('ru-RU', { maximumFractionDigits: 2 }).format(leftToday)} \n            </div>\n            <div class=\"font-inter text-[32px] font-bold leading-[1.2] text-slate-500\">/</div>\n            <div class=\"font-inter text-[32px] font-bold leading-[1.2] text-slate-500\">\n              ${new Intl.NumberFormat('ru-RU', { maximumFractionDigits: 2 }).format(daily)}\n            </div>\n          </div>\n\n          <div class=\"mt-3 font-inter text-[12px] font-normal leading-[1.4] text-slate-900\">\n            ${cheerText}\n          </div>\n\n          <form id=\"txFormMobile\" class=\"mt-6 flex flex-col gap-1\">\n            <div class=\"ml-3 font-inter text-[12px] font-normal leading-[1.4] text-slate-500\">\n               \n            </div>\n\n            <input\n              id=\"amountMobile\"\n              name=\"amount\"\n              type=\"text\"\n              inputmode=\"numeric\"\n              placeholder=\"0 \"\n              class=\"h-12 w-full rounded-lg border-2 border-blue-500 bg-white px-3 font-inter text-[16px] font-normal leading-[1.5] text-slate-900 outline-none\"\n            />\n\n            <p id=\"txErrorMobile\" class=\"hidden text-sm text-red-600\"></p>\n          </form>\n        </div>\n      </div>\n\n      <div class=\"fixed inset-x-0 bottom-0 bg-white px-4 pb-8 pt-4\">\n        <button\n          type=\"submit\"\n          form=\"txFormMobile\"\n          id=\"saveTxBtnMobile\"\n          class=\"hidden h-12 w-full rounded bg-blue-500 px-4 font-inter text-[16px] font-medium leading-[1.5] text-white transition-colors duration-150 hover:bg-blue-500/85\"\n        >\n          \n        </button>\n      </div>\n    </div>\n\n    <div class=\"hidden min-[704px]:block\">\n      <div class=\"min-h-screen bg-slate-50 px-4 pt-16 pb-6 flex flex-col items-center min-[704px]:pt-0 min-[704px]:pb-0 min-[704px]:justify-center min-[1140px]:pt-16 min-[1140px]:pb-6 min-[1140px]:justify-start\">\n        <div class=\"w-full flex flex-col gap-2 min-[704px]:w-[524px] min-[1140px]:w-[558px]\">\n          <section class=\"w-full rounded-2xl border border-slate-200 bg-white p-6 shadow-[0_2px_8px_rgba(0,0,0,0.10)]\">\n            <div class=\"flex flex-col gap-3\">\n              <div class=\"flex items-center gap-2\">\n                <div class=\"flex-1 text-[18px] font-[600] leading-[1.3] text-slate-500\">\n                   \n                </div>\n\n                <div class=\"text-[16px] font-normal leading-[1.5] text-blue-500\">\n                  ${formatMoney(daily)}  \n                </div>\n              </div>\n\n              <div class=\"flex items-baseline gap-2\">\n                <div class=\"text-[32px] font-bold leading-[1.2] text-slate-900\">\n                  ${formatMoney(total)}\n                </div>\n                <div class=\"text-[16px] font-normal leading-[1.5] text-slate-500\">\n                   ${daysLeft} ${pluralDaysRu(daysLeft)}\n                </div>\n              </div>\n\n              <button\n                id=\"editBudget\"\n                type=\"button\"\n                class=\"h-12 w-full rounded-[4px] border border-blue-500 bg-white px-4 text-[16px] font-medium leading-[1.5] text-blue-500 hover:bg-blue-500/10\"\n              >\n                \n              </button>\n            </div>\n          </section>\n\n          <section class=\"w-full rounded-2xl border border-slate-200 bg-white p-6 shadow-[0_2px_8px_rgba(0,0,0,0.10)]\">\n            <div class=\"flex flex-col gap-3\">\n              <div class=\"flex flex-col gap-0.5\">\n                <div class=\"text-[18px] font-semibold leading-[1.3] text-slate-500\">\n                    \n                </div>\n\n                <div class=\"flex items-baseline gap-2\">\n                  <div class=\"text-[32px] font-bold leading-[1.2] ${todayTone}\">\n                    ${formatMoney(leftToday)}\n                  </div>\n                  <div class=\"text-[32px] font-bold leading-[1.2] text-slate-500\">/</div>\n                  <div class=\"text-[32px] font-bold leading-[1.2] text-slate-500\">\n                    ${new Intl.NumberFormat('ru-RU', { maximumFractionDigits: 2 }).format(daily)}\n                  </div>\n                </div>\n              </div>\n\n              <div class=\"text-[12px] font-normal leading-[1.4] text-slate-900\">\n                ${cheerText}\n              </div>\n\n              <form id=\"txForm\" class=\"flex flex-col gap-3\">\n                <div class=\"flex flex-col gap-1\">\n                  <div class=\"ml-3 text-[12px] font-normal leading-[1.4] text-slate-500\">\n                     \n                  </div>\n\n                  <input\n                    id=\"amount\"\n                    name=\"amount\"\n                    type=\"text\"\n                    inputmode=\"numeric\"\n                    placeholder=\"0 \"\n                    class=\"h-12 w-full rounded-lg border border-slate-200 bg-white px-3 text-[16px] font-normal leading-[1.5] text-slate-900 outline-none focus:border-2 focus:border-blue-500\"\n                  />\n                </div>\n\n                <button\n                  type=\"submit\"\n                  class=\"h-12 w-full rounded-[4px] bg-blue-500 px-4 text-[16px] font-medium leading-[1.5] text-white hover:bg-blue-500/85\"\n                >\n                  \n                </button>\n\n                <p id=\"txError\" class=\"hidden text-sm text-red-600\"></p>\n              </form>\n            </div>\n          </section>\n\n          <section class=\"w-full rounded-2xl border border-slate-200 bg-white p-6 shadow-[0_2px_8px_rgba(0,0,0,0.10)]\">\n            <div class=\"flex flex-col gap-6\">\n              <div class=\"flex flex-col gap-1\">\n                <div class=\"text-[24px] font-semibold leading-[1.2] text-slate-500\">\n                   \n                </div>\n                <div class=\"text-[12px] font-normal leading-[1.4] text-blue-500\">\n                     : ${formatMoney(avgSpent)}\n                </div>\n              </div>\n\n              <div class=\"flex flex-col\">\n                ${\n                  lastExpenses.length\n                    ? lastExpenses\n                        .map((t, idx) => {\n                          const divider =\n                            idx === lastExpenses.length - 1\n                              ? ''\n                              : `<div class=\"my-1.5 h-px w-full bg-slate-500\"></div>`;\n\n                          return `\n                            <div class=\"flex items-baseline gap-3\">\n                              <div class=\"flex-1 text-[18px] leading-[1.3] text-slate-900\">\n                               <span class=\"font-semibold\">\n                                 ${new Intl.NumberFormat('ru-RU').format(t.amount)}\n                               </span>\n                               <span class=\"font-normal\"> </span>\n                             </div>\n                              <div class=\"text-[16px] font-normal leading-[1.5] text-slate-500\">\n                                ${formatRuDayMonth(t.date)}\n                              </div>\n                            </div>\n                            ${divider}\n                          `;\n                        })\n                        .join('')\n                    : `<div class=\"text-[16px] font-normal leading-[1.5] text-slate-500\">  .</div>`\n                }\n              </div>\n\n              <button\n                id=\"toHistory\"\n                type=\"button\"\n                class=\"h-12 w-full rounded-[4px] border border-blue-500 bg-white px-4 text-[16px] font-medium leading-[1.5] text-blue-500 hover:bg-blue-500/10\"\n              >\n                  \n              </button>\n            </div>\n          </section>\n        </div>\n      </div>\n    </div>\n  `;\n\n  wrapper.querySelector<HTMLButtonElement>('#toHistory')?.addEventListener('click', () => {\n    appStore.setState({ route: 'history' });\n  });\n  wrapper.querySelector<HTMLButtonElement>('#editBudget')?.addEventListener('click', () => {\n    appStore.setState({ route: 'start' });\n  });\n\n  wrapper.querySelector<HTMLButtonElement>('#toHistoryMobile')?.addEventListener('click', () => {\n    appStore.setState({ route: 'history' });\n  });\n  wrapper.querySelector<HTMLButtonElement>('#editBudgetMobile')?.addEventListener('click', () => {\n    appStore.setState({ route: 'start' });\n  });\n\n  const form = wrapper.querySelector<HTMLFormElement>('#txForm');\n  const errEl = wrapper.querySelector<HTMLParagraphElement>('#txError');\n  const amountEl = wrapper.querySelector<HTMLInputElement>('#amount');\n\n  if (form && errEl && amountEl) {\n    attachMoneyInput(amountEl, { emptyPlaceholder: '0 ' });\n\n    form.addEventListener('submit', e => {\n      e.preventDefault();\n      void handleTxSubmit({ errEl, amountEl, today: todayISO });\n    });\n  }\n\n  const formMobile = wrapper.querySelector<HTMLFormElement>('#txFormMobile');\n  const errElMobile = wrapper.querySelector<HTMLParagraphElement>('#txErrorMobile');\n  const amountElMobile = wrapper.querySelector<HTMLInputElement>('#amountMobile');\n  const saveBtnMobile = wrapper.querySelector<HTMLButtonElement>('#saveTxBtnMobile');\n\n  if (amountElMobile) {\n    attachMoneyInput(amountElMobile, { emptyPlaceholder: '0 ' });\n  }\n\n  if (formMobile && errElMobile && amountElMobile && saveBtnMobile) {\n    const isValid = () => parseRubDigitsToNumber(amountElMobile.value) > 0;\n\n    const syncBtn = () => {\n      saveBtnMobile.classList.toggle('hidden', !isValid());\n    };\n\n    amountElMobile.addEventListener('input', syncBtn);\n    amountElMobile.addEventListener('blur', syncBtn);\n    syncBtn();\n\n    formMobile.addEventListener('submit', e => {\n      e.preventDefault();\n      void handleTxSubmit({ errEl: errElMobile, amountEl: amountElMobile, today: todayISO });\n    });\n  }\n\n  return wrapper;\n}\n\nasync function handleTxSubmit(args: {\n  errEl: HTMLParagraphElement;\n  amountEl: HTMLInputElement;\n  today: string;\n}): Promise<void> {\n  const { errEl, amountEl, today } = args;\n\n  errEl.classList.add('hidden');\n  errEl.textContent = '';\n\n  const parsed = parseTransactionForm({\n    amount: amountEl.value.trim(),\n    type: 'expense',\n    date: today,\n  });\n\n  if (!parsed.ok) {\n    errEl.textContent = parsed.error;\n    errEl.classList.remove('hidden');\n    return;\n  }\n\n  await addTransaction(parsed.value);\n\n  const fresh = await getAllTransactions();\n  appStore.setState({ transactions: fresh });\n\n  amountEl.value = '';\n}\n","export function InputField(props: {\n  id: string;\n  label?: string;\n  type?: string;\n  placeholder?: string;\n  inputmode?: string;\n  min?: string;\n  value?: string;\n}) {\n  const { id, label, type = 'text', placeholder = '', inputmode, min, value = '' } = props;\n\n  const inputmodeAttr = inputmode ? `inputmode=\"${inputmode}\"` : '';\n  const minAttr = min ? `min=\"${min}\"` : '';\n\n  return `\n    <label class=\"block\">\n      ${label ? `<span class=\"text-sm text-slate-600\">${label}</span>` : ''}\n      <input\n        id=\"${id}\"\n        name=\"${id}\"\n        type=\"${type}\"\n        ${inputmodeAttr}\n        ${minAttr}\n        value=\"${escapeHtml(value)}\"\n        placeholder=\"${escapeHtml(placeholder)}\"\n        class=\"mt-1 h-12 w-full rounded-lg border border-slate-200 bg-white px-3 text-[16px] font-normal leading-[1.5] text-slate-900 placeholder:text-slate-500 outline-none focus:border-2 focus:border-blue-500\"\n\n      />\n    </label>\n  `;\n}\n\nfunction escapeHtml(s: string) {\n  return s.replace(/[&<>\"']/g, ch => {\n    switch (ch) {\n      case '&':\n        return '&amp;';\n      case '<':\n        return '&lt;';\n      case '>':\n        return '&gt;';\n      case '\"':\n        return '&quot;';\n      case \"'\":\n        return '&#039;';\n      default:\n        return ch;\n    }\n  });\n}\n","import {\n  addDays,\n  addMonths,\n  differenceInCalendarDays,\n  endOfMonth,\n  endOfWeek,\n  format,\n  isSameDay,\n  startOfMonth,\n  startOfWeek,\n} from 'date-fns';\nimport { ru } from 'date-fns/locale';\n\ninterface PeriodSelectProps {\n  id: string;\n  minDateISO: string;\n}\n\ntype PresetKey = 'day' | 'week' | 'twoWeeks' | 'month' | 'endOfMonth' | 'custom';\n\nconst PRESETS: Array<{ key: PresetKey; label: string }> = [\n  { key: 'day', label: '' },\n  { key: 'week', label: '' },\n  { key: 'twoWeeks', label: '2 ' },\n  { key: 'month', label: '' },\n  { key: 'endOfMonth', label: '  ' },\n  { key: 'custom', label: ' ' },\n];\n\nfunction parseISODate(iso: string): Date {\n  const [y, m, d] = iso.split('-').map(Number);\n  return new Date(y, (m ?? 1) - 1, d ?? 1);\n}\n\nfunction toISODate(date: Date): string {\n  const y = date.getFullYear();\n  const m = String(date.getMonth() + 1).padStart(2, '0');\n  const d = String(date.getDate()).padStart(2, '0');\n  return `${y}-${m}-${d}`;\n}\n\nfunction pluralDays(n: number): string {\n  const pr = new Intl.PluralRules('ru-RU');\n  const form = pr.select(n);\n  if (form === 'one') {\n    return '';\n  }\n  if (form === 'few') {\n    return '';\n  }\n  return '';\n}\n\nfunction formatUntil(date: Date): string {\n  return ` ${format(date, 'd MMMM', { locale: ru })}`;\n}\n\nfunction computeEndDate(today: Date, key: PresetKey): Date | null {\n  if (key === 'day') {\n    return addDays(today, 1);\n  }\n  if (key === 'week') {\n    return addDays(today, 7);\n  }\n  if (key === 'twoWeeks') {\n    return addDays(today, 14);\n  }\n  if (key === 'month') {\n    return addMonths(today, 1);\n  }\n  if (key === 'endOfMonth') {\n    return endOfMonth(today);\n  }\n  return null;\n}\n\nfunction displayValue(today: Date, end: Date): string {\n  const days = differenceInCalendarDays(end, today);\n  return `${days} ${pluralDays(days)} (${formatUntil(end)})`;\n}\n\nfunction escapeHtml(s: string) {\n  return s.replace(/[&<>\"']/g, ch => {\n    switch (ch) {\n      case '&':\n        return '&amp;';\n      case '<':\n        return '&lt;';\n      case '>':\n        return '&gt;';\n      case '\"':\n        return '&quot;';\n      case \"'\":\n        return '&#039;';\n      default:\n        return ch;\n    }\n  });\n}\n\nfunction capitalizeRuMonth(s: string): string {\n  if (!s) {\n    return s;\n  }\n  return s.charAt(0).toUpperCase() + s.slice(1);\n}\n\nfunction monthHasSelectableDates(monthStart: Date, today: Date): boolean {\n  const monthEnd = endOfMonth(monthStart);\n  let d = monthStart;\n\n  while (d <= monthEnd) {\n    if (differenceInCalendarDays(d, today) > 0) {\n      return true;\n    }\n    d = addDays(d, 1);\n  }\n\n  return false;\n}\n\nfunction enterIconHtml(extraClass: string = ''): string {\n  const cls = ['h-2 w-4 select-none', extraClass].filter(Boolean).join(' ');\n  return `\n    <img\n      src=\"/assets/enter.svg\"\n      alt=\"\"\n      aria-hidden=\"true\"\n      draggable=\"false\"\n      class=\"${cls}\"\n    />\n  `;\n}\n\nexport function PeriodSelect(props: PeriodSelectProps): string {\n  const id = escapeHtml(props.id);\n\n  const presetsHtml = PRESETS.map(preset => {\n    const right =\n      preset.key === 'custom'\n        ? ''\n        : `<span class=\"text-slate-500 text-[16px] leading-[1.5]\" id=\"${id}__right_${preset.key}\"></span>`;\n\n    return `\n     <li class=\"py-[2px] border-t border-slate-200 first:border-t-0\">\n        <button\n          type=\"button\"\n          class=\"flex w-full items-center justify-between rounded-[4px] px-3 py-2 text-left text-[16px] leading-[1.5] text-slate-700 hover:bg-blue-500/10 hover:text-blue-500\"\n          data-preset=\"${preset.key}\"\n        >\n          <span>${preset.label}</span>\n          ${right}\n        </button>\n      </li>\n    `;\n  }).join('');\n\n  return `\n    <div class=\"relative\">\n      <input id=\"${id}\" name=\"${id}\" type=\"hidden\" value=\"\" />\n\n      <button\n        type=\"button\"\n        id=\"${id}__trigger\"\n        class=\"flex h-12 w-full items-center justify-between rounded-lg border border-slate-200 bg-white px-3 text-[16px] font-normal leading-[1.5] text-slate-500 outline-none focus:border-2 focus:border-blue-500\"\n        aria-haspopup=\"listbox\"\n        aria-expanded=\"false\"\n        aria-controls=\"${id}__panel\"\n      >\n        <span id=\"${id}__text\"> </span>\n        <span class=\"ml-3 text-slate-500\">\n          ${enterIconHtml('')}\n        </span>\n      </button>\n\n      <div\n        id=\"${id}__panel\"\n        class=\"absolute left-0 z-20 mt-2 hidden w-full overflow-hidden rounded-xl border border-slate-200 bg-white shadow-lg\"\n      >\n        <div id=\"${id}__modeList\" class=\"p-3\">\n          <ul class=\"space-y-0\" role=\"listbox\" id=\"${id}__list\">\n            ${presetsHtml}\n          </ul>\n        </div>\n\n        <div id=\"${id}__modeCalendar\" class=\"hidden\">\n          <div class=\"relative flex w-full flex-col items-start gap-2 bg-white p-[12px_12px_8px] shadow-[0_4px_16px_rgba(0,0,0,0.12)] rounded-t-xl\">\n            <button\n              type=\"button\"\n              id=\"${id}__prev\"\n              class=\"absolute left-2 top-1/2 -translate-y-1/2 flex h-10 w-10 items-center justify-center rounded-md text-slate-500 hover:bg-slate-50 disabled:cursor-not-allowed disabled:opacity-60 disabled:hover:bg-transparent\"\n              aria-label=\" \"\n            >\n              ${enterIconHtml('rotate-90')}\n            </button>\n\n            <button\n              type=\"button\"\n              id=\"${id}__next\"\n              class=\"absolute right-2 top-1/2 -translate-y-1/2 flex h-10 w-10 items-center justify-center rounded-md text-slate-900 hover:bg-slate-50\"\n              aria-label=\" \"\n            >\n              ${enterIconHtml('-rotate-90')}\n            </button>\n\n            <div class=\"flex w-full min-w-0 flex-col items-start gap-1 px-10\">\n              <div class=\"flex h-[23px] w-full items-center justify-between px-2\">\n                <div id=\"${id}__month\" class=\"text-[18px] font-semibold leading-[1.3] text-slate-900\"></div>\n                <div id=\"${id}__year\" class=\"text-[18px] font-semibold leading-[1.3] text-slate-900\"></div>\n              </div>\n\n              <div class=\"flex w-full flex-col items-start p-2\">\n                <div class=\"grid w-full grid-cols-7 gap-[2px]\">\n                  <div class=\"flex h-[17px] items-start justify-center px-2 text-[12px] leading-[1.4] text-slate-500\"></div>\n                  <div class=\"flex h-[17px] items-start justify-center px-2 text-[12px] leading-[1.4] text-slate-500\"></div>\n                  <div class=\"flex h-[17px] items-start justify-center px-2 text-[12px] leading-[1.4] text-slate-500\"></div>\n                  <div class=\"flex h-[17px] items-start justify-center px-2 text-[12px] leading-[1.4] text-slate-500\"></div>\n                  <div class=\"flex h-[17px] items-start justify-center px-2 text-[12px] leading-[1.4] text-slate-500\"></div>\n                  <div class=\"flex h-[17px] items-start justify-center px-2 text-[12px] leading-[1.4] text-slate-500\"></div>\n                  <div class=\"flex h-[17px] items-start justify-center px-2 text-[12px] leading-[1.4] text-slate-500\"></div>\n                </div>\n\n                <div id=\"${id}__grid\" class=\"mt-[2px] grid w-full grid-cols-7 gap-[2px]\"></div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"border-t border-slate-200\"></div>\n        </div>\n      </div>\n    </div>\n  `;\n}\n\nexport function initPeriodSelect(root: HTMLElement, props: PeriodSelectProps): void {\n  const today = parseISODate(props.minDateISO);\n\n  const hidden = root.querySelector<HTMLInputElement>(`#${CSS.escape(props.id)}`);\n  const trigger = root.querySelector<HTMLButtonElement>(`#${CSS.escape(props.id)}__trigger`);\n  const text = root.querySelector<HTMLElement>(`#${CSS.escape(props.id)}__text`);\n  const panel = root.querySelector<HTMLElement>(`#${CSS.escape(props.id)}__panel`);\n  const modeList = root.querySelector<HTMLElement>(`#${CSS.escape(props.id)}__modeList`);\n  const modeCalendar = root.querySelector<HTMLElement>(`#${CSS.escape(props.id)}__modeCalendar`);\n  const list = root.querySelector<HTMLElement>(`#${CSS.escape(props.id)}__list`);\n\n  const prevBtn = root.querySelector<HTMLButtonElement>(`#${CSS.escape(props.id)}__prev`);\n  const nextBtn = root.querySelector<HTMLButtonElement>(`#${CSS.escape(props.id)}__next`);\n  const monthEl = root.querySelector<HTMLElement>(`#${CSS.escape(props.id)}__month`);\n  const yearEl = root.querySelector<HTMLElement>(`#${CSS.escape(props.id)}__year`);\n  const grid = root.querySelector<HTMLElement>(`#${CSS.escape(props.id)}__grid`);\n\n  if (\n    !hidden ||\n    !trigger ||\n    !text ||\n    !panel ||\n    !modeList ||\n    !modeCalendar ||\n    !list ||\n    !prevBtn ||\n    !nextBtn ||\n    !monthEl ||\n    !yearEl ||\n    !grid\n  ) {\n    return;\n  }\n\n  const prevController = (hidden as unknown as { __psAbort?: AbortController }).__psAbort;\n  if (prevController) {\n    prevController.abort();\n  }\n\n  const controller = new AbortController();\n  (hidden as unknown as { __psAbort?: AbortController }).__psAbort = controller;\n  const { signal } = controller;\n\n  PRESETS.forEach(preset => {\n    if (preset.key === 'custom') {\n      return;\n    }\n\n    const end = computeEndDate(today, preset.key);\n    const rightEl = root.querySelector<HTMLElement>(\n      `#${CSS.escape(props.id)}__right_${preset.key}`\n    );\n\n    if (end && rightEl) {\n      rightEl.textContent = formatUntil(end);\n    }\n  });\n\n  let open = false;\n  let calendarMonth = startOfMonth(today);\n\n  const updateTextFromValue = () => {\n    if (!hidden.value) {\n      text.textContent = ' ';\n      trigger.classList.add('text-slate-500');\n      trigger.classList.remove('text-slate-900');\n      return;\n    }\n\n    const end = parseISODate(hidden.value);\n    text.textContent = displayValue(today, end);\n    trigger.classList.remove('text-slate-500');\n    trigger.classList.add('text-slate-900');\n  };\n\n  const setExpanded = (v: boolean) => {\n    open = v;\n    trigger.setAttribute('aria-expanded', String(v));\n    panel.classList.toggle('hidden', !v);\n\n    if (v) {\n      modeList.classList.remove('hidden');\n      modeCalendar.classList.add('hidden');\n      updateTextFromValue();\n    } else {\n      updateTextFromValue();\n    }\n  };\n\n  const close = () => setExpanded(false);\n  const openPanel = () => setExpanded(true);\n\n  const emitValueEvents = () => {\n    hidden.dispatchEvent(new Event('input', { bubbles: true }));\n    hidden.dispatchEvent(new Event('change', { bubbles: true }));\n  };\n\n  const setSelectedEnd = (end: Date) => {\n    hidden.value = toISODate(end);\n    updateTextFromValue();\n    emitValueEvents();\n    close();\n  };\n\n  const updatePrevDisabled = () => {\n    const prevMonth = startOfMonth(addMonths(calendarMonth, -1));\n    const canGoPrev = monthHasSelectableDates(prevMonth, today);\n    prevBtn.disabled = !canGoPrev;\n  };\n\n  const renderCalendar = () => {\n    monthEl.textContent = capitalizeRuMonth(format(calendarMonth, 'LLLL', { locale: ru }));\n    yearEl.textContent = format(calendarMonth, 'yyyy', { locale: ru });\n\n    grid.innerHTML = '';\n\n    const start = startOfWeek(startOfMonth(calendarMonth), { weekStartsOn: 1 });\n    const end = endOfWeek(endOfMonth(calendarMonth), { weekStartsOn: 1 });\n\n    let d = start;\n    while (d <= end) {\n      const inMonth = d.getMonth() === calendarMonth.getMonth();\n      const disabled = differenceInCalendarDays(d, today) <= 0;\n      const selected = hidden.value ? isSameDay(d, parseISODate(hidden.value)) : false;\n\n      const base =\n        'flex w-full items-center justify-center h-[64.61px] rounded-[4px] text-[16px] leading-[1.5] font-normal';\n\n      const cls = [\n        base,\n        !inMonth ? 'pointer-events-none bg-white text-[#F9FAFB]' : '',\n        inMonth && disabled ? 'pointer-events-none bg-white text-[#F9FAFB]' : '',\n        inMonth && !disabled && selected ? 'bg-blue-500 text-white hover:bg-blue-500/85' : '',\n        inMonth && !disabled && !selected ? 'bg-[#F9FAFB] text-slate-900 hover:bg-slate-100' : '',\n      ]\n        .filter(Boolean)\n        .join(' ');\n\n      const btn = document.createElement('button');\n      btn.type = 'button';\n      btn.className = cls;\n      btn.textContent = String(d.getDate());\n\n      if (inMonth && !disabled) {\n        const date = new Date(d);\n        btn.addEventListener(\n          'click',\n          () => {\n            setSelectedEnd(date);\n          },\n          { signal }\n        );\n      }\n\n      grid.append(btn);\n      d = addDays(d, 1);\n    }\n\n    updatePrevDisabled();\n  };\n\n  trigger.addEventListener(\n    'click',\n    () => {\n      if (open) {\n        close();\n      } else {\n        openPanel();\n      }\n    },\n    { signal }\n  );\n\n  document.addEventListener(\n    'click',\n    e => {\n      const target = e.target as Node;\n      if (!open) {\n        return;\n      }\n      if (!root.contains(target)) {\n        close();\n      }\n    },\n    { signal }\n  );\n  document.addEventListener(\n    'keydown',\n    e => {\n      if (!open) {\n        return;\n      }\n      if (e.key === 'Escape') {\n        close();\n      }\n    },\n    { signal }\n  );\n\n  list.addEventListener(\n    'click',\n    e => {\n      const btn = (e.target as HTMLElement).closest<HTMLButtonElement>('button[data-preset]');\n      if (!btn) {\n        return;\n      }\n\n      const key = btn.dataset.preset as PresetKey;\n\n      if (key === 'custom') {\n        modeList.classList.add('hidden');\n        modeCalendar.classList.remove('hidden');\n\n        text.textContent = ' ';\n        trigger.classList.add('text-slate-500');\n        trigger.classList.remove('text-slate-900');\n\n        calendarMonth = hidden.value\n          ? startOfMonth(parseISODate(hidden.value))\n          : startOfMonth(today);\n\n        renderCalendar();\n        return;\n      }\n\n      const endDate = computeEndDate(today, key);\n      if (!endDate) {\n        return;\n      }\n\n      setSelectedEnd(endDate);\n    },\n    { signal }\n  );\n\n  prevBtn.addEventListener(\n    'click',\n    () => {\n      if (prevBtn.disabled) {\n        return;\n      }\n      calendarMonth = startOfMonth(addMonths(calendarMonth, -1));\n      renderCalendar();\n    },\n    { signal }\n  );\n\n  nextBtn.addEventListener(\n    'click',\n    () => {\n      calendarMonth = startOfMonth(addMonths(calendarMonth, 1));\n      renderCalendar();\n    },\n    { signal }\n  );\n\n  updateTextFromValue();\n}\n","import { InputField } from '../components/input';\nimport { initPeriodSelect, PeriodSelect } from '../components/period-select';\nimport { plannedDailyBudget, remainingDays, totalBalance } from '../services/budget-calculator';\nimport { formatISODate } from '../utils/dates';\nimport { saveBudget } from '../utils/db';\nimport { appStore } from '../utils/state';\nimport { attachMoneyInput, formatRubles, parseBudgetForm } from '../utils/validation';\n\nfunction formatMoney(n: number): string {\n  return `${new Intl.NumberFormat('ru-RU', { maximumFractionDigits: 2 }).format(n)} `;\n}\n\nfunction pluralDaysRu(n: number): string {\n  const pr = new Intl.PluralRules('ru-RU');\n  const form = pr.select(n);\n\n  if (form === 'one') {\n    return '';\n  }\n  if (form === 'few') {\n    return '';\n  }\n  return '';\n}\n\nfunction parseRublesLocal(raw: string): number {\n  const digits = raw.replace(/[^\\d]/g, '');\n  if (!digits) {\n    return 0;\n  }\n  return Number(digits);\n}\n\nfunction attachPlusMoneyInput(input: HTMLInputElement): void {\n  const basePlaceholder = '+0 ';\n\n  const setCaretBeforeCurrency = () => {\n    const pos = Math.max(0, input.value.length - 2);\n    input.setSelectionRange(pos, pos);\n  };\n\n  const applyFormat = () => {\n    const digits = input.value.replace(/[^\\d]/g, '');\n    if (!digits) {\n      input.value = '';\n      return;\n    }\n\n    const formatted = formatRubles(Number(digits));\n    input.value = `+${formatted}`;\n    requestAnimationFrame(setCaretBeforeCurrency);\n  };\n\n  input.placeholder = basePlaceholder;\n\n  input.addEventListener('focus', () => {\n    input.placeholder = basePlaceholder;\n    applyFormat();\n  });\n\n  input.addEventListener('blur', () => {\n    input.placeholder = basePlaceholder;\n    applyFormat();\n  });\n\n  input.addEventListener('input', () => {\n    applyFormat();\n  });\n}\n\nexport function renderStartPage(): HTMLElement {\n  const state = appStore.getState();\n  const wrapper = document.createElement('div');\n\n  const today = formatISODate(new Date());\n  const budget = state.budget;\n\n  if (budget) {\n    const txs = state.transactions;\n\n    const total = totalBalance(budget, txs);\n    const daily = plannedDailyBudget(budget);\n    const daysLeft = remainingDays(budget, today);\n\n    wrapper.innerHTML = `\n      <div class=\"min-[704px]:hidden min-h-screen bg-white px-4 py-8\">\n        <div class=\"pb-28\">\n          <div class=\"flex items-baseline justify-between gap-3\">\n            <div class=\"font-inter text-[32px] font-bold leading-[1.2] text-slate-900\">\n               \n            </div>\n            <div class=\"font-inter text-[18px] font-normal leading-[1.3] text-blue-500\">\n              ${formatMoney(daily)}  \n            </div>\n          </div>\n\n          <form id=\"editBudgetFormMobile\" class=\"mt-6 flex w-full flex-col gap-4\">\n            <div class=\"flex flex-col gap-1\">\n              <div class=\"ml-3 font-inter text-[12px] font-normal leading-[1.4] text-slate-500\">\n                 \n              </div>\n              ${InputField({\n                id: 'currentBalanceMobile',\n                type: 'text',\n                inputmode: 'numeric',\n                placeholder: '0 ',\n              })}\n            </div>\n\n            <div class=\"flex flex-col gap-1\">\n              <div class=\"ml-3 font-inter text-[12px] font-normal leading-[1.4] text-slate-500\">\n                \n              </div>\n              <input\n                id=\"topUpMobile\"\n                name=\"topUpMobile\"\n                type=\"text\"\n                inputmode=\"numeric\"\n                placeholder=\"+0 \"\n                class=\"h-12 w-full rounded-lg border border-slate-200 bg-white px-3 font-inter text-[16px] font-normal leading-[1.5] text-slate-900 outline-none focus:border-2 focus:border-blue-500\"\n              />\n            </div>\n\n            <div class=\"flex flex-col gap-1\">\n              <div class=\"ml-3 font-inter text-[12px] font-normal leading-[1.4] text-slate-500\">\n                 \n              </div>\n              ${PeriodSelect({ id: 'endDateMobileEdit', minDateISO: today })}\n            </div>\n\n            <p id=\"editFormErrorMobile\" class=\"hidden text-sm text-red-600\"></p>\n          </form>\n        </div>\n\n        <div class=\"fixed inset-x-0 bottom-0 bg-white px-4 pb-8 pt-4\">\n          <button\n            type=\"button\"\n            id=\"backBtnMobile\"\n            class=\"h-12 w-full rounded border border-blue-500 bg-white px-4 font-inter text-[16px] font-medium leading-[1.5] text-blue-500 transition-colors duration-150 hover:bg-blue-500/10\"\n          >\n            \n          </button>\n\n          <button\n            type=\"button\"\n            id=\"cancelBtnMobile\"\n            class=\"hidden mt-3 h-12 w-full rounded border border-blue-500 bg-white px-4 font-inter text-[16px] font-medium leading-[1.5] text-blue-500 transition-colors duration-150 hover:bg-blue-500/10\"\n          >\n              \n          </button>\n\n          <button\n            type=\"submit\"\n            form=\"editBudgetFormMobile\"\n            id=\"saveBtnMobile\"\n            class=\"hidden mt-3 h-12 w-full rounded bg-blue-500 px-4 font-inter text-[16px] font-medium leading-[1.5] text-white transition-colors duration-150 hover:bg-blue-500/85\"\n          >\n            \n          </button>\n        </div>\n      </div>\n\n      <div class=\"hidden min-[704px]:flex min-h-screen bg-slate-50 px-4 pt-16 pb-6 flex-col items-center min-[704px]:pt-0 min-[704px]:pb-0 min-[704px]:justify-center min-[1140px]:pt-16 min-[1140px]:pb-6 min-[1140px]:justify-start\">\n        <div class=\"w-full flex flex-col gap-2 min-[704px]:w-[524px] min-[1140px]:w-[558px]\">\n          <section class=\"w-full rounded-2xl border border-slate-200 bg-white p-6 shadow-[0_2px_8px_rgba(0,0,0,0.10)]\">\n            <div class=\"flex flex-col gap-6\">\n              <div class=\"flex flex-col gap-3\">\n                <div class=\"flex items-baseline gap-2\">\n                  <div class=\"flex-1 font-inter text-[24px] font-semibold leading-[1.2] text-slate-500\">\n                     \n                  </div>\n\n                  <div class=\"font-inter text-[16px] font-normal leading-[1.5] text-blue-500\">\n                    ${formatMoney(daily)}  \n                  </div>\n                </div>\n\n                <div class=\"flex items-baseline gap-2\">\n                  <div class=\"font-inter text-[32px] font-bold leading-[1.2] text-slate-900\">\n                    ${formatMoney(total)}\n                  </div>\n\n                  <div class=\"font-inter text-[16px] font-normal leading-[1.5] text-slate-500\">\n                     ${daysLeft} ${pluralDaysRu(daysLeft)}\n                  </div>\n                </div>\n              </div>\n\n              <form id=\"editBudgetForm\" class=\"flex w-full flex-col gap-4\">\n                <div class=\"flex flex-col gap-1\">\n                  <div class=\"ml-3 font-inter text-[12px] font-normal leading-[1.4] text-slate-500\">\n                    \n                  </div>\n\n                  <input\n                    id=\"topUp\"\n                    name=\"topUp\"\n                    type=\"text\"\n                    inputmode=\"numeric\"\n                    placeholder=\"+0 \"\n                    class=\"h-12 w-full rounded-lg border-2 border-blue-500 bg-white px-3 font-inter text-[16px] font-normal leading-[1.5] text-slate-900 outline-none\"\n                  />\n                </div>\n\n                <div class=\"flex flex-col gap-1\">\n                  <div class=\"ml-3 font-inter text-[12px] font-normal leading-[1.4] text-slate-500\">\n                     \n                  </div>\n                  ${PeriodSelect({ id: 'endDate', minDateISO: today })}\n                </div>\n\n                <p id=\"editFormError\" class=\"hidden text-sm text-red-600\"></p>\n\n                <button\n                  type=\"submit\"\n                  id=\"saveEditBtn\"\n                  class=\"h-12 w-full rounded-[4px] bg-blue-500 px-4 font-inter text-[16px] font-medium leading-[1.5] text-white transition-colors duration-150 hover:bg-blue-500/85\"\n                >\n                  \n                </button>\n              </form>\n            </div>\n          </section>\n        </div>\n      </div>\n    `;\n\n    const endDesktop = wrapper.querySelector<HTMLInputElement>('#endDate');\n    if (endDesktop) {\n      endDesktop.value = budget.endDate;\n    }\n    initPeriodSelect(wrapper, { id: 'endDate', minDateISO: today });\n\n    const endMobile = wrapper.querySelector<HTMLInputElement>('#endDateMobileEdit');\n    if (endMobile) {\n      endMobile.value = budget.endDate;\n    }\n    initPeriodSelect(wrapper, { id: 'endDateMobileEdit', minDateISO: today });\n\n    const topUpInput = wrapper.querySelector<HTMLInputElement>('#topUp');\n    if (topUpInput) {\n      attachPlusMoneyInput(topUpInput);\n    }\n\n    const currentBalanceMobile = wrapper.querySelector<HTMLInputElement>('#currentBalanceMobile');\n    if (currentBalanceMobile) {\n      currentBalanceMobile.value = formatRubles(Math.max(0, total));\n      attachMoneyInput(currentBalanceMobile, { emptyPlaceholder: '0 ' });\n    }\n\n    const topUpMobile = wrapper.querySelector<HTMLInputElement>('#topUpMobile');\n    if (topUpMobile) {\n      attachPlusMoneyInput(topUpMobile);\n    }\n\n    const form = wrapper.querySelector<HTMLFormElement>('#editBudgetForm');\n    const errorEl = wrapper.querySelector<HTMLParagraphElement>('#editFormError');\n    if (form && errorEl) {\n      form.addEventListener('submit', e => {\n        e.preventDefault();\n        void handleEditSubmit(wrapper, errorEl);\n      });\n    }\n\n    const formMobileEdit = wrapper.querySelector<HTMLFormElement>('#editBudgetFormMobile');\n    const errMobileEdit = wrapper.querySelector<HTMLParagraphElement>('#editFormErrorMobile');\n    if (formMobileEdit && errMobileEdit) {\n      formMobileEdit.addEventListener('submit', e => {\n        e.preventDefault();\n        void handleEditSubmitMobile(wrapper, errMobileEdit);\n      });\n    }\n\n    const backBtnMobile = wrapper.querySelector<HTMLButtonElement>('#backBtnMobile');\n    const cancelBtnMobile = wrapper.querySelector<HTMLButtonElement>('#cancelBtnMobile');\n    const saveBtnMobile = wrapper.querySelector<HTMLButtonElement>('#saveBtnMobile');\n\n    const balanceEl = wrapper.querySelector<HTMLInputElement>('#currentBalanceMobile');\n    const topUpEl = wrapper.querySelector<HTMLInputElement>('#topUpMobile');\n    const endDateEl = wrapper.querySelector<HTMLInputElement>('#endDateMobileEdit');\n\n    const goBackNoSave = () => {\n      appStore.setState({ route: 'main' });\n    };\n\n    backBtnMobile?.addEventListener('click', goBackNoSave);\n    cancelBtnMobile?.addEventListener('click', goBackNoSave);\n\n    if (backBtnMobile && cancelBtnMobile && saveBtnMobile && balanceEl && topUpEl && endDateEl) {\n      const initial = {\n        balance: parseRublesLocal(balanceEl.value),\n        topUp: parseRublesLocal(topUpEl.value),\n        endDate: (endDateEl.value ?? '').trim(),\n      };\n\n      const hasChanges = () => {\n        const now = {\n          balance: parseRublesLocal(balanceEl.value),\n          topUp: parseRublesLocal(topUpEl.value),\n          endDate: (endDateEl.value ?? '').trim(),\n        };\n\n        return (\n          now.balance !== initial.balance ||\n          now.topUp !== initial.topUp ||\n          now.endDate !== initial.endDate\n        );\n      };\n\n      const syncButtons = () => {\n        const changed = hasChanges();\n        backBtnMobile.classList.toggle('hidden', changed);\n        cancelBtnMobile.classList.toggle('hidden', !changed);\n        saveBtnMobile.classList.toggle('hidden', !changed);\n      };\n\n      balanceEl.addEventListener('input', syncButtons);\n      topUpEl.addEventListener('input', syncButtons);\n\n      endDateEl.addEventListener('input', syncButtons);\n      endDateEl.addEventListener('change', syncButtons);\n\n      syncButtons();\n    }\n\n    return wrapper;\n  }\n\n  wrapper.innerHTML = `\n    <div class=\"min-[704px]:hidden min-h-screen bg-white px-4 py-8\">\n      <div class=\"pb-28\">\n        <h1 class=\"font-inter text-[32px] font-bold leading-[1.2] text-slate-900\">\n          !\n        </h1>\n\n        <form id=\"budgetFormMobile\" class=\"mt-6 flex w-full flex-col gap-4\">\n          <div class=\"flex flex-col gap-1\">\n            <div class=\"ml-3 font-inter text-[12px] font-normal leading-[1.4] text-slate-500\">\n               \n            </div>\n            ${InputField({\n              id: 'initialBalanceMobile',\n              type: 'text',\n              inputmode: 'numeric',\n              placeholder: ' ',\n            })}\n          </div>\n\n          <div class=\"flex flex-col gap-1\">\n            <div class=\"ml-3 font-inter text-[12px] font-normal leading-[1.4] text-slate-500\">\n               \n            </div>\n            ${PeriodSelect({ id: 'endDateMobile', minDateISO: today })}\n          </div>\n\n          <p id=\"formErrorMobile\" class=\"hidden text-sm text-red-600\"></p>\n        </form>\n      </div>\n\n      <div class=\"fixed inset-x-0 bottom-0 bg-white px-4 pb-8 pt-4\">\n        <button\n          type=\"submit\"\n          form=\"budgetFormMobile\"\n          id=\"calculateBtnMobile\"\n          class=\"hidden h-12 w-full rounded bg-blue-500 px-4 font-inter text-[16px] font-medium leading-[1.5] text-white transition-colors duration-150 hover:bg-blue-500/85\"\n        >\n          \n        </button>\n      </div>\n    </div>\n\n    <div class=\"hidden min-[704px]:flex min-h-screen w-full flex-col items-center justify-center bg-slate-50 px-4 pb-16\">\n      <div class=\"w-full rounded-2xl border border-slate-200 bg-white p-6 shadow-md min-[704px]:w-[524px] min-[1140px]:w-[558px]\">\n        <h1 class=\"font-inter text-[32px] font-bold leading-[1.2] text-slate-900\">\n          !\n        </h1>\n\n        <form id=\"budgetForm\" class=\"mt-6 flex w-full flex-col gap-4\">\n          <div class=\"flex flex-col gap-1\">\n            <div class=\"ml-3 font-inter text-[12px] font-normal leading-[1.4] text-slate-500\">\n               \n            </div>\n            ${InputField({\n              id: 'initialBalance',\n              type: 'text',\n              inputmode: 'numeric',\n              placeholder: ' ',\n            })}\n          </div>\n\n          <div class=\"flex flex-col gap-1\">\n            <div class=\"ml-3 font-inter text-[12px] font-normal leading-[1.4] text-slate-500\">\n               \n            </div>\n            ${PeriodSelect({ id: 'endDate', minDateISO: today })}\n          </div>\n\n          <p id=\"formError\" class=\"hidden text-sm text-red-600\"></p>\n\n          <button\n            type=\"submit\"\n            id=\"calculateBtn\"\n            class=\"h-12 w-full rounded bg-blue-500 px-4 font-inter text-[16px] font-medium leading-[1.5] text-white transition-colors duration-150 hover:bg-blue-500/85\"\n          >\n            \n          </button>\n        </form>\n      </div>\n    </div>\n  `;\n\n  const form = wrapper.querySelector<HTMLFormElement>('#budgetForm');\n  const errorEl = wrapper.querySelector<HTMLParagraphElement>('#formError');\n\n  if (form && errorEl) {\n    form.addEventListener('submit', e => {\n      e.preventDefault();\n      void handleCreateSubmit(wrapper, errorEl);\n    });\n\n    const balanceInput = wrapper.querySelector<HTMLInputElement>('#initialBalance');\n    if (balanceInput) {\n      attachMoneyInput(balanceInput, { emptyPlaceholder: ' ' });\n    }\n\n    initPeriodSelect(wrapper, { id: 'endDate', minDateISO: today });\n  }\n\n  const formMobile = wrapper.querySelector<HTMLFormElement>('#budgetFormMobile');\n  const errorElMobile = wrapper.querySelector<HTMLParagraphElement>('#formErrorMobile');\n  const btnMobile = wrapper.querySelector<HTMLButtonElement>('#calculateBtnMobile');\n  const balanceInputMobile = wrapper.querySelector<HTMLInputElement>('#initialBalanceMobile');\n  const endHiddenMobile = wrapper.querySelector<HTMLInputElement>('#endDateMobile');\n\n  if (formMobile && errorElMobile) {\n    formMobile.addEventListener('submit', e => {\n      e.preventDefault();\n      void handleCreateSubmitMobile(wrapper, errorElMobile);\n    });\n  }\n\n  if (balanceInputMobile) {\n    attachMoneyInput(balanceInputMobile, { emptyPlaceholder: ' ' });\n  }\n\n  initPeriodSelect(wrapper, { id: 'endDateMobile', minDateISO: today });\n\n  if (btnMobile && balanceInputMobile && endHiddenMobile) {\n    const isValid = () => {\n      const digits = balanceInputMobile.value.replace(/[^\\d]/g, '');\n      const amount = digits ? Number(digits) : 0;\n      const hasDate = Boolean(endHiddenMobile.value && endHiddenMobile.value.trim().length > 0);\n      return amount > 0 && hasDate;\n    };\n\n    const syncButton = () => {\n      btnMobile.classList.toggle('hidden', !isValid());\n    };\n\n    balanceInputMobile.addEventListener('input', syncButton);\n    balanceInputMobile.addEventListener('blur', syncButton);\n\n    endHiddenMobile.addEventListener('input', syncButton);\n    endHiddenMobile.addEventListener('change', syncButton);\n\n    syncButton();\n  }\n\n  return wrapper;\n}\n\nasync function handleCreateSubmit(\n  wrapper: HTMLElement,\n  errorEl: HTMLParagraphElement\n): Promise<void> {\n  errorEl.classList.add('hidden');\n  errorEl.textContent = '';\n\n  const initialBalance = (\n    wrapper.querySelector<HTMLInputElement>('#initialBalance')?.value ?? ''\n  ).trim();\n  const startDate = formatISODate(new Date());\n  const endDate = (wrapper.querySelector<HTMLInputElement>('#endDate')?.value ?? '').trim();\n\n  const parsed = parseBudgetForm({ initialBalance, startDate, endDate });\n\n  if (!parsed.ok) {\n    errorEl.textContent = parsed.error;\n    errorEl.classList.remove('hidden');\n    return;\n  }\n\n  await saveBudget(parsed.value);\n\n  appStore.setState({\n    budget: parsed.value,\n    route: 'main',\n    error: null,\n  });\n}\n\nasync function handleCreateSubmitMobile(\n  wrapper: HTMLElement,\n  errorEl: HTMLParagraphElement\n): Promise<void> {\n  errorEl.classList.add('hidden');\n  errorEl.textContent = '';\n\n  const initialBalance = (\n    wrapper.querySelector<HTMLInputElement>('#initialBalanceMobile')?.value ?? ''\n  ).trim();\n  const startDate = formatISODate(new Date());\n  const endDate = (wrapper.querySelector<HTMLInputElement>('#endDateMobile')?.value ?? '').trim();\n\n  const parsed = parseBudgetForm({ initialBalance, startDate, endDate });\n\n  if (!parsed.ok) {\n    errorEl.textContent = parsed.error;\n    errorEl.classList.remove('hidden');\n    return;\n  }\n\n  await saveBudget(parsed.value);\n\n  appStore.setState({\n    budget: parsed.value,\n    route: 'main',\n    error: null,\n  });\n}\n\nasync function handleEditSubmit(\n  wrapper: HTMLElement,\n  errorEl: HTMLParagraphElement\n): Promise<void> {\n  const state = appStore.getState();\n  const budget = state.budget;\n  if (!budget) {\n    return;\n  }\n\n  errorEl.classList.add('hidden');\n  errorEl.textContent = '';\n\n  const topUpRaw = (wrapper.querySelector<HTMLInputElement>('#topUp')?.value ?? '').trim();\n  const endDate = (wrapper.querySelector<HTMLInputElement>('#endDate')?.value ?? '').trim();\n\n  const topUp = parseRublesLocal(topUpRaw);\n  const nextInitialBalance = budget.initialBalance + topUp;\n\n  const parsed = parseBudgetForm({\n    initialBalance: String(nextInitialBalance),\n    startDate: budget.startDate,\n    endDate,\n    createdAt: budget.createdAt,\n  });\n\n  if (!parsed.ok) {\n    errorEl.textContent = parsed.error;\n    errorEl.classList.remove('hidden');\n    return;\n  }\n\n  await saveBudget(parsed.value);\n\n  appStore.setState({\n    budget: parsed.value,\n    route: 'main',\n    error: null,\n  });\n}\n\nasync function handleEditSubmitMobile(\n  wrapper: HTMLElement,\n  errorEl: HTMLParagraphElement\n): Promise<void> {\n  const state = appStore.getState();\n  const budget = state.budget;\n  if (!budget) {\n    return;\n  }\n\n  errorEl.classList.add('hidden');\n  errorEl.textContent = '';\n\n  const balanceRaw = (\n    wrapper.querySelector<HTMLInputElement>('#currentBalanceMobile')?.value ?? ''\n  ).trim();\n  const topUpRaw = (wrapper.querySelector<HTMLInputElement>('#topUpMobile')?.value ?? '').trim();\n  const endDate = (\n    wrapper.querySelector<HTMLInputElement>('#endDateMobileEdit')?.value ?? ''\n  ).trim();\n\n  const base = parseRublesLocal(balanceRaw);\n  const topUp = parseRublesLocal(topUpRaw);\n  const nextInitialBalance = base + topUp;\n\n  const parsed = parseBudgetForm({\n    initialBalance: String(nextInitialBalance),\n    startDate: budget.startDate,\n    endDate,\n    createdAt: budget.createdAt,\n  });\n\n  if (!parsed.ok) {\n    errorEl.textContent = parsed.error;\n    errorEl.classList.remove('hidden');\n    return;\n  }\n\n  await saveBudget(parsed.value);\n\n  appStore.setState({\n    budget: parsed.value,\n    route: 'main',\n    error: null,\n  });\n}\n","import { renderHistoryPage } from './pages/history-page';\nimport { renderMainPage } from './pages/main-page';\nimport { renderStartPage } from './pages/start-page';\nimport { getAllTransactions, getBudget } from './utils/db';\nimport { appStore, type Route } from './utils/state';\n\nlet isInitialized = false;\nlet unsubscribe: null | (() => void) = null;\n\nfunction renderRoute(route: Route, root: HTMLElement) {\n  root.innerHTML = '';\n\n  if (route === 'start') {\n    root.append(renderStartPage());\n    return;\n  }\n\n  if (route === 'main') {\n    root.append(renderMainPage());\n    return;\n  }\n\n  root.append(renderHistoryPage());\n}\n\nfunction renderApp(root: HTMLElement) {\n  const state = appStore.getState();\n\n  renderRoute(state.route, root);\n}\n\nexport async function initApp(force = false): Promise<void> {\n  const root = document.getElementById('app');\n  if (!root) {\n    throw new Error('Root element #app not found in index.html');\n  }\n\n  if (isInitialized && !force) {\n    renderApp(root);\n    return;\n  }\n  isInitialized = true;\n\n  if (!unsubscribe) {\n    unsubscribe = appStore.subscribe(() => {\n      renderApp(root);\n    });\n  }\n\n  appStore.setState({ loading: true, error: null });\n\n  try {\n    const [budget, transactions] = await Promise.all([getBudget(), getAllTransactions()]);\n\n    appStore.setState({\n      budget: budget ?? null,\n      transactions,\n      route: budget ? 'main' : 'start',\n      loading: false,\n      error: null,\n    });\n  } catch (e) {\n    appStore.setState({\n      loading: false,\n      error: e instanceof Error ? e.message : 'Unknown error',\n      route: 'start',\n    });\n  }\n\n  renderApp(root);\n}\n","import './styles.css';\nimport { initApp } from './App';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  void initApp();\n});\n"],"names":["millisecondsInWeek","millisecondsInDay","millisecondsInMinute","millisecondsInHour","constructFromSymbol","constructFrom","date","value","toDate","argument","context","addDays","amount","options","_date","addMonths","dayOfMonth","endOfDesiredMonth","daysInMonth","defaultOptions","getDefaultOptions","startOfWeek","weekStartsOn","day","diff","startOfISOWeek","getISOWeekYear","year","fourthOfJanuaryOfNextYear","startOfNextYear","fourthOfJanuaryOfThisYear","startOfThisYear","getTimezoneOffsetInMilliseconds","utcDate","normalizeDates","dates","normalize","startOfDay","differenceInCalendarDays","laterDate","earlierDate","laterDate_","earlierDate_","laterStartOfDay","earlierStartOfDay","laterTimestamp","earlierTimestamp","startOfISOWeekYear","fourthOfJanuary","isSameDay","dateLeft_","dateRight_","isDate","isValid","endOfMonth","month","startOfMonth","startOfYear","date_","endOfWeek","formatDistanceLocale","formatDistance","token","count","result","tokenValue","buildFormatLongFn","args","width","dateFormats","timeFormats","dateTimeFormats","formatLong","formatRelativeLocale","formatRelative","_baseDate","_options","buildLocalizeFn","valuesArray","defaultWidth","index","eraValues","quarterValues","monthValues","dayValues","dayPeriodValues","formattingDayPeriodValues","ordinalNumber","dirtyNumber","number","rem100","localize","quarter","buildMatchFn","string","matchPattern","matchResult","matchedString","parsePatterns","key","findIndex","pattern","findKey","rest","object","predicate","array","buildMatchPatternFn","parseResult","matchOrdinalNumberPattern","parseOrdinalNumberPattern","matchEraPatterns","parseEraPatterns","matchQuarterPatterns","parseQuarterPatterns","matchMonthPatterns","parseMonthPatterns","matchDayPatterns","parseDayPatterns","matchDayPeriodPatterns","parseDayPeriodPatterns","match","enUS","getDayOfYear","getISOWeek","getWeekYear","firstWeekContainsDate","firstWeekOfNextYear","firstWeekOfThisYear","startOfWeekYear","firstWeek","getWeek","addLeadingZeros","targetLength","sign","output","lightFormatters","signedYear","dayPeriodEnumValue","numberOfDigits","milliseconds","fractionalSeconds","dayPeriodEnum","formatters","era","signedWeekYear","weekYear","twoDigitYear","isoWeekYear","week","isoWeek","dayOfYear","dayOfWeek","localDayOfWeek","isoDayOfWeek","hours","_localize","timezoneOffset","formatTimezoneWithOptionalMinutes","formatTimezone","formatTimezoneShort","timestamp","offset","delimiter","absOffset","minutes","dateLongFormatter","timeLongFormatter","dateTimeLongFormatter","datePattern","timePattern","dateTimeFormat","longFormatters","dayOfYearTokenRE","weekYearTokenRE","throwTokens","isProtectedDayOfYearToken","isProtectedWeekYearToken","warnOrThrowProtectedError","format","input","_message","message","subject","formattingTokensRegExp","longFormattingTokensRegExp","escapedStringRegExp","doubleQuoteRegExp","unescapedLatinCharacterRegExp","formatStr","locale","defaultLocale","originalDate","parts","substring","firstCharacter","longFormatter","cleanEscapedString","formatterOptions","part","formatter","matched","isAfter","dateToCompare","isBefore","isEqual","leftDate","rightDate","isSameWeek","parseISO","invalidDate","dateStrings","splitDateString","parseYearResult","parseYear","parseDate","time","parseTime","parseTimezone","tmpDate","patterns","dateRegex","timeRegex","timezoneRegex","dateString","timeString","additionalDigits","regex","captures","century","isWeekDate","parseDateUnit","validateWeekDate","dayOfISOWeekYear","validateDate","validateDayOfYearDate","parseTimeUnit","seconds","validateTime","timezoneString","validateTimezone","fourthOfJanuaryDay","daysInMonths","isLeapYearIndex","_year","_hours","declension","scheme","rem10","buildLocalizeTokenFn","_count","accusativeWeekdays","lastWeek","weekday","thisWeek","nextWeek","baseDate","formattingMonthValues","unit","suffix","ru","instanceOfAny","constructors","c","idbProxyableTypes","cursorAdvanceMethods","getIdbProxyableTypes","getCursorAdvanceMethods","transactionDoneMap","transformCache","reverseTransformCache","promisifyRequest","request","promise","resolve","reject","unlisten","success","error","wrap","cacheDonePromiseForTransaction","tx","done","complete","idbProxyTraps","target","prop","receiver","replaceTraps","callback","wrapFunction","func","unwrap","transformCachableValue","newValue","openDB","name","version","blocked","upgrade","blocking","terminated","openPromise","event","db","readMethods","writeMethods","cachedMethods","getMethod","targetFuncName","useIndex","isWrite","method","storeName","oldTraps","advanceMethodProps","methodMap","advanceResults","ittrProxiedCursorToOriginalProxy","cursorIteratorTraps","cachedFunc","iterate","cursor","proxiedCursor","isIteratorProp","DB_NAME","DB_VERSION","budgetStore","transactionStore","dbPromise","saveBudget","budget","getBudget","addTransaction","deleteTransaction","id","getAllTransactions","a","b","shallowEqual","aKeys","bKeys","createStore","initialState","state","listeners","partial","patch","nextState","listener","appStore","formatRuDayMonth","iso","d","averageSpentPerDay","txs","start","today","daysPassed","spent","t","sum","formatMoney","n","renderHistoryPage","wrapper","originalTxs","deletedIds","goMain","getVisibleTxs","getVisibleExpenses","renderExpensesList","expenses","mobile","idx","divider","deleteBtn","renderDeleteIcon","renderAll","visibleTxs","visibleExpenses","avgSpent","hasChanges","save","ids","fresh","onDeleteClick","e","btn","toDay","periodDays","s","isPeriodActive","todayISO","remainingDays","end","plannedDailyBudget","days","round2","totalBalance","delta","acc","todayNet","todayLeft","daysLeft","netToday","balanceNow","balanceStartOfDay","dailyStartOfDay","averageRemainingPerDay","formatISODate","$constructor","initializer","params","init","inst","def","_a","k","_","Parent","Definition","fn","$ZodAsyncError","$ZodEncodeError","globalConfig","config","newConfig","getEnumValues","entries","numericValues","v","jsonStringifyReplacer","cached","getter","nullish","cleanRegex","source","floatSafeRemainder","val","step","valDecCount","stepString","stepDecCount","decCount","valInt","stepInt","EVALUATING","defineLazy","assignProp","mergeDefs","defs","mergedDescriptors","descriptors","esc","str","captureStackTrace","_args","isObject","data","allowsEval","F","isPlainObject","o","ctor","prot","shallowClone","propertyKeyTypes","escapeRegex","clone","cl","normalizeParams","_params","optionalKeys","shape","NUMBER_FORMAT_RANGES","pick","schema","mask","currDef","newShape","omit","extend","checks","_shape","safeExtend","merge","Class","oldShape","required","aborted","x","startIndex","i","prefixIssues","path","issues","iss","unwrapMessage","finalizeIssue","ctx","full","getLengthableOrigin","issue","util.jsonStringifyReplacer","$ZodError","$ZodRealError","flattenError","mapper","fieldErrors","formErrors","sub","formatError","processError","curr","el","_parse","_Err","_ctx","core.$ZodAsyncError","util.finalizeIssue","core.config","util.captureStackTrace","_parseAsync","_safeParse","errors.$ZodError","safeParse","errors.$ZodRealError","_safeParseAsync","safeParseAsync","_encode","_decode","_encodeAsync","_decodeAsync","_safeEncode","_safeDecode","_safeEncodeAsync","_safeDecodeAsync","cuid","cuid2","ulid","xid","ksuid","nanoid","duration","guid","uuid","email","_emoji","emoji","ipv4","ipv6","cidrv4","cidrv6","base64","base64url","hostname","e164","dateSource","timeSource","hhmm","datetime","opts","integer","lowercase","uppercase","$ZodCheck","core.$constructor","numericOriginMap","$ZodCheckLessThan","origin","bag","payload","$ZodCheckGreaterThan","$ZodCheckMultipleOf","util.floatSafeRemainder","$ZodCheckNumberFormat","isInt","minimum","maximum","util.NUMBER_FORMAT_RANGES","regexes.integer","$ZodCheckMaxLength","util.nullish","util.getLengthableOrigin","$ZodCheckMinLength","$ZodCheckLengthEquals","length","tooBig","$ZodCheckStringFormat","_b","$ZodCheckRegex","$ZodCheckLowerCase","regexes.lowercase","$ZodCheckUpperCase","regexes.uppercase","$ZodCheckIncludes","escapedRegex","util.escapeRegex","$ZodCheckStartsWith","$ZodCheckEndsWith","$ZodCheckOverwrite","Doc","arg","lines","minIndent","dedented","line","$ZodType","ch","runChecks","isAborted","util.aborted","asyncResult","currLen","handleCanaryResult","canary","checkResult","r","$ZodString","regexes.string","$ZodStringFormat","checks.$ZodCheckStringFormat","$ZodGUID","regexes.guid","$ZodUUID","regexes.uuid","$ZodEmail","regexes.email","$ZodURL","trimmed","url","regexes.hostname","$ZodEmoji","regexes.emoji","$ZodNanoID","regexes.nanoid","$ZodCUID","regexes.cuid","$ZodCUID2","regexes.cuid2","$ZodULID","regexes.ulid","$ZodXID","regexes.xid","$ZodKSUID","regexes.ksuid","$ZodISODateTime","regexes.datetime","$ZodISODate","regexes.date","$ZodISOTime","regexes.time","$ZodISODuration","regexes.duration","$ZodIPv4","regexes.ipv4","$ZodIPv6","regexes.ipv6","$ZodCIDRv4","regexes.cidrv4","$ZodCIDRv6","regexes.cidrv6","address","prefix","prefixNum","isValidBase64","$ZodBase64","regexes.base64","isValidBase64URL","regexes.base64url","padded","$ZodBase64URL","$ZodE164","regexes.e164","isValidJWT","algorithm","tokensParts","header","parsedHeader","$ZodJWT","$ZodNumber","regexes.number","received","$ZodNumberFormat","checks.$ZodCheckNumberFormat","$ZodUnknown","$ZodNever","handleArrayResult","final","util.prefixIssues","$ZodArray","proms","item","handlePropertyResult","normalizeDef","keys","okeys","util.optionalKeys","handleCatchall","unrecognized","keySet","_catchall","$ZodObject","sh","newSh","_normalized","util.cached","util.defineLazy","propValues","field","util.isObject","catchall","$ZodObjectJIT","superParse","generateFastpass","doc","normalized","parseStr","util.esc","counter","fastpass","jit","core.globalConfig","fastEnabled","util.allowsEval","handleUnionResults","results","nonaborted","$ZodUnion","option","p","util.cleanRegex","single","first","async","$ZodIntersection","left","right","handleIntersectionResults","mergeValues","util.isPlainObject","sharedKeys","newObj","sharedValue","newArray","itemA","itemB","merged","$ZodEnum","values","util.getEnumValues","valuesSet","util.propertyKeyTypes","$ZodTransform","core.$ZodEncodeError","_out","handleOptionalResult","$ZodOptional","$ZodNullable","$ZodDefault","handleDefaultResult","$ZodPrefault","$ZodNonOptional","handleNonOptionalResult","$ZodCatch","$ZodPipe","handlePipeResult","next","$ZodReadonly","handleReadonlyResult","$ZodCustom","checks.$ZodCheck","handleRefineResult","_iss","util.issue","$ZodRegistry","_meta","meta","pm","f","registry","globalRegistry","_string","util.normalizeParams","_email","_guid","_uuid","_uuidv4","_uuidv6","_uuidv7","_url","_nanoid","_cuid","_cuid2","_ulid","_xid","_ksuid","_ipv4","_ipv6","_cidrv4","_cidrv6","_base64","_base64url","_e164","_jwt","_isoDateTime","_isoDate","_isoTime","_isoDuration","_number","_coercedNumber","_int","_unknown","_never","_lt","checks.$ZodCheckLessThan","_lte","_gt","checks.$ZodCheckGreaterThan","_gte","_multipleOf","checks.$ZodCheckMultipleOf","_maxLength","checks.$ZodCheckMaxLength","_minLength","checks.$ZodCheckMinLength","_length","checks.$ZodCheckLengthEquals","_regex","checks.$ZodCheckRegex","_lowercase","checks.$ZodCheckLowerCase","_uppercase","checks.$ZodCheckUpperCase","_includes","includes","checks.$ZodCheckIncludes","_startsWith","checks.$ZodCheckStartsWith","_endsWith","checks.$ZodCheckEndsWith","_overwrite","checks.$ZodCheckOverwrite","_normalize","form","_trim","_toLowerCase","_toUpperCase","_array","element","_refine","_superRefine","_check","_issue","ZodISODateTime","core.$ZodISODateTime","schemas.ZodStringFormat","core._isoDateTime","ZodISODate","core.$ZodISODate","core._isoDate","ZodISOTime","core.$ZodISOTime","core._isoTime","ZodISODuration","core.$ZodISODuration","core._isoDuration","core.formatError","core.flattenError","ZodRealError","parse","core._parse","parseAsync","core._parseAsync","core._safeParse","core._safeParseAsync","encode","core._encode","decode","core._decode","encodeAsync","core._encodeAsync","decodeAsync","core._decodeAsync","safeEncode","core._safeEncode","safeDecode","core._safeDecode","safeEncodeAsync","core._safeEncodeAsync","safeDecodeAsync","core._safeDecodeAsync","ZodType","core.$ZodType","util.mergeDefs","core.clone","reg","parse.parse","parse.safeParse","parse.parseAsync","parse.safeParseAsync","parse.encode","parse.decode","parse.encodeAsync","parse.decodeAsync","parse.safeEncode","parse.safeDecode","parse.safeEncodeAsync","parse.safeDecodeAsync","check","refine","refinement","superRefine","checks.overwrite","optional","nullable","nonoptional","union","intersection","pipe","transform","_default","prefault","_catch","readonly","description","core.globalRegistry","_ZodString","core.$ZodString","checks.regex","checks.includes","checks.startsWith","checks.endsWith","checks.minLength","checks.maxLength","checks.length","checks.lowercase","checks.uppercase","checks.trim","checks.normalize","checks.toLowerCase","checks.toUpperCase","ZodString","core._email","ZodEmail","core._url","ZodURL","core._jwt","ZodJWT","core._emoji","ZodEmoji","core._guid","ZodGUID","core._uuid","ZodUUID","core._uuidv4","core._uuidv6","core._uuidv7","core._nanoid","ZodNanoID","core._cuid","ZodCUID","core._cuid2","ZodCUID2","core._ulid","ZodULID","core._base64","ZodBase64","core._base64url","ZodBase64URL","core._xid","ZodXID","core._ksuid","ZodKSUID","core._ipv4","ZodIPv4","core._ipv6","ZodIPv6","core._cidrv4","ZodCIDRv4","core._cidrv6","ZodCIDRv6","core._e164","ZodE164","iso.datetime","iso.date","iso.time","iso.duration","core._string","ZodStringFormat","core.$ZodStringFormat","core.$ZodEmail","core.$ZodGUID","core.$ZodUUID","core.$ZodURL","core.$ZodEmoji","core.$ZodNanoID","core.$ZodCUID","core.$ZodCUID2","core.$ZodULID","core.$ZodXID","core.$ZodKSUID","core.$ZodIPv4","core.$ZodIPv6","core.$ZodCIDRv4","core.$ZodCIDRv6","core.$ZodBase64","core.$ZodBase64URL","core.$ZodE164","core.$ZodJWT","ZodNumber","core.$ZodNumber","checks.gt","checks.gte","checks.lt","checks.lte","int","checks.multipleOf","core._number","ZodNumberFormat","core.$ZodNumberFormat","core._int","ZodUnknown","core.$ZodUnknown","unknown","core._unknown","ZodNever","core.$ZodNever","never","core._never","ZodArray","core.$ZodArray","minLength","maxLength","len","core._array","ZodObject","core.$ZodObjectJIT","_enum","incoming","util.extend","util.safeExtend","other","util.merge","util.pick","util.omit","util.partial","ZodOptional","util.required","ZodNonOptional","ZodUnion","core.$ZodUnion","ZodIntersection","core.$ZodIntersection","ZodEnum","core.$ZodEnum","newEntries","ZodTransform","core.$ZodTransform","core.$ZodOptional","innerType","ZodNullable","core.$ZodNullable","ZodDefault","core.$ZodDefault","defaultValue","util.shallowClone","ZodPrefault","core.$ZodPrefault","core.$ZodNonOptional","ZodCatch","core.$ZodCatch","catchValue","ZodPipe","core.$ZodPipe","in_","out","ZodReadonly","core.$ZodReadonly","ZodCustom","core.$ZodCustom","core._refine","core._superRefine","core._coercedNumber","schemas.ZodNumber","DateStringSchema","z.string","BudgetSchema","z.object","z.coerce.number","TransactionSchema","z.number","z.enum","formatRubles","parseRubles","raw","digits","attachMoneyInput","basePlaceholder","focusPlaceholder","setCaretBeforeCurrency","pos","applyFormat","zodFirstError","err","parseBudgetForm","candidate","res","parseTransactionForm","pluralDaysRu","parseRubDigitsToNumber","renderMainPage","safeBudget","total","daily","leftToday","lastExpenses","cheerText","todayTone","errEl","amountEl","handleTxSubmit","formMobile","errElMobile","amountElMobile","saveBtnMobile","syncBtn","parsed","InputField","props","label","type","placeholder","inputmode","min","inputmodeAttr","minAttr","escapeHtml","PRESETS","parseISODate","y","m","toISODate","pluralDays","formatUntil","computeEndDate","displayValue","capitalizeRuMonth","monthHasSelectableDates","monthStart","monthEnd","enterIconHtml","extraClass","PeriodSelect","presetsHtml","preset","initPeriodSelect","root","hidden","trigger","text","panel","modeList","modeCalendar","list","prevBtn","nextBtn","monthEl","yearEl","grid","prevController","controller","signal","rightEl","open","calendarMonth","updateTextFromValue","setExpanded","close","openPanel","emitValueEvents","setSelectedEnd","updatePrevDisabled","prevMonth","canGoPrev","renderCalendar","inMonth","disabled","selected","cls","endDate","parseRublesLocal","attachPlusMoneyInput","formatted","renderStartPage","endDesktop","endMobile","topUpInput","currentBalanceMobile","topUpMobile","errorEl","handleEditSubmit","formMobileEdit","errMobileEdit","handleEditSubmitMobile","backBtnMobile","cancelBtnMobile","balanceEl","topUpEl","endDateEl","goBackNoSave","initial","now","syncButtons","changed","handleCreateSubmit","balanceInput","errorElMobile","btnMobile","balanceInputMobile","endHiddenMobile","handleCreateSubmitMobile","hasDate","syncButton","initialBalance","startDate","topUpRaw","topUp","nextInitialBalance","balanceRaw","base","isInitialized","unsubscribe","renderRoute","route","renderApp","initApp","force","transactions"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74]}